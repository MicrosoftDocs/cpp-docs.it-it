---
title: CDC (classe)
ms.date: 11/19/2018
f1_keywords:
- CDC
- AFXWIN/CDC
- AFXWIN/CDC::CDC
- AFXWIN/CDC::AbortDoc
- AFXWIN/CDC::AbortPath
- AFXWIN/CDC::AddMetaFileComment
- AFXWIN/CDC::AlphaBlend
- AFXWIN/CDC::AngleArc
- AFXWIN/CDC::Arc
- AFXWIN/CDC::ArcTo
- AFXWIN/CDC::Attach
- AFXWIN/CDC::BeginPath
- AFXWIN/CDC::BitBlt
- AFXWIN/CDC::Chord
- AFXWIN/CDC::CloseFigure
- AFXWIN/CDC::CreateCompatibleDC
- AFXWIN/CDC::CreateDC
- AFXWIN/CDC::CreateIC
- AFXWIN/CDC::DeleteDC
- AFXWIN/CDC::DeleteTempMap
- AFXWIN/CDC::Detach
- AFXWIN/CDC::DPtoHIMETRIC
- AFXWIN/CDC::DPtoLP
- AFXWIN/CDC::Draw3dRect
- AFXWIN/CDC::DrawDragRect
- AFXWIN/CDC::DrawEdge
- AFXWIN/CDC::DrawEscape
- AFXWIN/CDC::DrawFocusRect
- AFXWIN/CDC::DrawFrameControl
- AFXWIN/CDC::DrawIcon
- AFXWIN/CDC::DrawState
- AFXWIN/CDC::DrawText
- AFXWIN/CDC::DrawTextEx
- AFXWIN/CDC::Ellipse
- AFXWIN/CDC::EndDoc
- AFXWIN/CDC::EndPage
- AFXWIN/CDC::EndPath
- AFXWIN/CDC::EnumObjects
- AFXWIN/CDC::Escape
- AFXWIN/CDC::ExcludeClipRect
- AFXWIN/CDC::ExcludeUpdateRgn
- AFXWIN/CDC::ExtFloodFill
- AFXWIN/CDC::ExtTextOut
- AFXWIN/CDC::FillPath
- AFXWIN/CDC::FillRect
- AFXWIN/CDC::FillRgn
- AFXWIN/CDC::FillSolidRect
- AFXWIN/CDC::FlattenPath
- AFXWIN/CDC::FloodFill
- AFXWIN/CDC::FrameRect
- AFXWIN/CDC::FrameRgn
- AFXWIN/CDC::FromHandle
- AFXWIN/CDC::GetArcDirection
- AFXWIN/CDC::GetAspectRatioFilter
- AFXWIN/CDC::GetBkColor
- AFXWIN/CDC::GetBkMode
- AFXWIN/CDC::GetBoundsRect
- AFXWIN/CDC::GetBrushOrg
- AFXWIN/CDC::GetCharABCWidths
- AFXWIN/CDC::GetCharABCWidthsI
- AFXWIN/CDC::GetCharacterPlacement
- AFXWIN/CDC::GetCharWidth
- AFXWIN/CDC::GetCharWidthI
- AFXWIN/CDC::GetClipBox
- AFXWIN/CDC::GetColorAdjustment
- AFXWIN/CDC::GetCurrentBitmap
- AFXWIN/CDC::GetCurrentBrush
- AFXWIN/CDC::GetCurrentFont
- AFXWIN/CDC::GetCurrentPalette
- AFXWIN/CDC::GetCurrentPen
- AFXWIN/CDC::GetCurrentPosition
- AFXWIN/CDC::GetDCBrushColor
- AFXWIN/CDC::GetDCPenColor
- AFXWIN/CDC::GetDeviceCaps
- AFXWIN/CDC::GetFontData
- AFXWIN/CDC::GetFontLanguageInfo
- AFXWIN/CDC::GetGlyphOutline
- AFXWIN/CDC::GetGraphicsMode
- AFXWIN/CDC::GetHalftoneBrush
- AFXWIN/CDC::GetKerningPairs
- AFXWIN/CDC::GetLayout
- AFXWIN/CDC::GetMapMode
- AFXWIN/CDC::GetMiterLimit
- AFXWIN/CDC::GetNearestColor
- AFXWIN/CDC::GetOutlineTextMetrics
- AFXWIN/CDC::GetOutputCharWidth
- AFXWIN/CDC::GetOutputTabbedTextExtent
- AFXWIN/CDC::GetOutputTextExtent
- AFXWIN/CDC::GetOutputTextMetrics
- AFXWIN/CDC::GetPath
- AFXWIN/CDC::GetPixel
- AFXWIN/CDC::GetPolyFillMode
- AFXWIN/CDC::GetROP2
- AFXWIN/CDC::GetSafeHdc
- AFXWIN/CDC::GetStretchBltMode
- AFXWIN/CDC::GetTabbedTextExtent
- AFXWIN/CDC::GetTextAlign
- AFXWIN/CDC::GetTextCharacterExtra
- AFXWIN/CDC::GetTextColor
- AFXWIN/CDC::GetTextExtent
- AFXWIN/CDC::GetTextExtentExPointI
- AFXWIN/CDC::GetTextExtentPointI
- AFXWIN/CDC::GetTextFace
- AFXWIN/CDC::GetTextMetrics
- AFXWIN/CDC::GetViewportExt
- AFXWIN/CDC::GetViewportOrg
- AFXWIN/CDC::GetWindow
- AFXWIN/CDC::GetWindowExt
- AFXWIN/CDC::GetWindowOrg
- AFXWIN/CDC::GetWorldTransform
- AFXWIN/CDC::GradientFill
- AFXWIN/CDC::GrayString
- AFXWIN/CDC::HIMETRICtoDP
- AFXWIN/CDC::HIMETRICtoLP
- AFXWIN/CDC::IntersectClipRect
- AFXWIN/CDC::InvertRect
- AFXWIN/CDC::InvertRgn
- AFXWIN/CDC::IsPrinting
- AFXWIN/CDC::LineTo
- AFXWIN/CDC::LPtoDP
- AFXWIN/CDC::LPtoHIMETRIC
- AFXWIN/CDC::MaskBlt
- AFXWIN/CDC::ModifyWorldTransform
- AFXWIN/CDC::MoveTo
- AFXWIN/CDC::OffsetClipRgn
- AFXWIN/CDC::OffsetViewportOrg
- AFXWIN/CDC::OffsetWindowOrg
- AFXWIN/CDC::PaintRgn
- AFXWIN/CDC::PatBlt
- AFXWIN/CDC::Pie
- AFXWIN/CDC::PlayMetaFile
- AFXWIN/CDC::PlgBlt
- AFXWIN/CDC::PolyBezier
- AFXWIN/CDC::PolyBezierTo
- AFXWIN/CDC::PolyDraw
- AFXWIN/CDC::Polygon
- AFXWIN/CDC::Polyline
- AFXWIN/CDC::PolylineTo
- AFXWIN/CDC::PolyPolygon
- AFXWIN/CDC::PolyPolyline
- AFXWIN/CDC::PtVisible
- AFXWIN/CDC::RealizePalette
- AFXWIN/CDC::Rectangle
- AFXWIN/CDC::RectVisible
- AFXWIN/CDC::ReleaseAttribDC
- AFXWIN/CDC::ReleaseOutputDC
- AFXWIN/CDC::ResetDC
- AFXWIN/CDC::RestoreDC
- AFXWIN/CDC::RoundRect
- AFXWIN/CDC::SaveDC
- AFXWIN/CDC::ScaleViewportExt
- AFXWIN/CDC::ScaleWindowExt
- AFXWIN/CDC::ScrollDC
- AFXWIN/CDC::SelectClipPath
- AFXWIN/CDC::SelectClipRgn
- AFXWIN/CDC::SelectObject
- AFXWIN/CDC::SelectPalette
- AFXWIN/CDC::SelectStockObject
- AFXWIN/CDC::SetAbortProc
- AFXWIN/CDC::SetArcDirection
- AFXWIN/CDC::SetAttribDC
- AFXWIN/CDC::SetBkColor
- AFXWIN/CDC::SetBkMode
- AFXWIN/CDC::SetBoundsRect
- AFXWIN/CDC::SetBrushOrg
- AFXWIN/CDC::SetColorAdjustment
- AFXWIN/CDC::SetDCBrushColor
- AFXWIN/CDC::SetDCPenColor
- AFXWIN/CDC::SetGraphicsMode
- AFXWIN/CDC::SetLayout
- AFXWIN/CDC::SetMapMode
- AFXWIN/CDC::SetMapperFlags
- AFXWIN/CDC::SetMiterLimit
- AFXWIN/CDC::SetOutputDC
- AFXWIN/CDC::SetPixel
- AFXWIN/CDC::SetPixelV
- AFXWIN/CDC::SetPolyFillMode
- AFXWIN/CDC::SetROP2
- AFXWIN/CDC::SetStretchBltMode
- AFXWIN/CDC::SetTextAlign
- AFXWIN/CDC::SetTextCharacterExtra
- AFXWIN/CDC::SetTextColor
- AFXWIN/CDC::SetTextJustification
- AFXWIN/CDC::SetViewportExt
- AFXWIN/CDC::SetViewportOrg
- AFXWIN/CDC::SetWindowExt
- AFXWIN/CDC::SetWindowOrg
- AFXWIN/CDC::SetWorldTransform
- AFXWIN/CDC::StartDoc
- AFXWIN/CDC::StartPage
- AFXWIN/CDC::StretchBlt
- AFXWIN/CDC::StrokeAndFillPath
- AFXWIN/CDC::StrokePath
- AFXWIN/CDC::TabbedTextOut
- AFXWIN/CDC::TextOut
- AFXWIN/CDC::TransparentBlt
- AFXWIN/CDC::UpdateColors
- AFXWIN/CDC::WidenPath
- AFXWIN/CDC::m_hAttribDC
- AFXWIN/CDC::m_hDC
helpviewer_keywords:
- CDC [MFC], CDC
- CDC [MFC], AbortDoc
- CDC [MFC], AbortPath
- CDC [MFC], AddMetaFileComment
- CDC [MFC], AlphaBlend
- CDC [MFC], AngleArc
- CDC [MFC], Arc
- CDC [MFC], ArcTo
- CDC [MFC], Attach
- CDC [MFC], BeginPath
- CDC [MFC], BitBlt
- CDC [MFC], Chord
- CDC [MFC], CloseFigure
- CDC [MFC], CreateCompatibleDC
- CDC [MFC], CreateDC
- CDC [MFC], CreateIC
- CDC [MFC], DeleteDC
- CDC [MFC], DeleteTempMap
- CDC [MFC], Detach
- CDC [MFC], DPtoHIMETRIC
- CDC [MFC], DPtoLP
- CDC [MFC], Draw3dRect
- CDC [MFC], DrawDragRect
- CDC [MFC], DrawEdge
- CDC [MFC], DrawEscape
- CDC [MFC], DrawFocusRect
- CDC [MFC], DrawFrameControl
- CDC [MFC], DrawIcon
- CDC [MFC], DrawState
- CDC [MFC], DrawText
- CDC [MFC], DrawTextEx
- CDC [MFC], Ellipse
- CDC [MFC], EndDoc
- CDC [MFC], EndPage
- CDC [MFC], EndPath
- CDC [MFC], EnumObjects
- CDC [MFC], Escape
- CDC [MFC], ExcludeClipRect
- CDC [MFC], ExcludeUpdateRgn
- CDC [MFC], ExtFloodFill
- CDC [MFC], ExtTextOut
- CDC [MFC], FillPath
- CDC [MFC], FillRect
- CDC [MFC], FillRgn
- CDC [MFC], FillSolidRect
- CDC [MFC], FlattenPath
- CDC [MFC], FloodFill
- CDC [MFC], FrameRect
- CDC [MFC], FrameRgn
- CDC [MFC], FromHandle
- CDC [MFC], GetArcDirection
- CDC [MFC], GetAspectRatioFilter
- CDC [MFC], GetBkColor
- CDC [MFC], GetBkMode
- CDC [MFC], GetBoundsRect
- CDC [MFC], GetBrushOrg
- CDC [MFC], GetCharABCWidths
- CDC [MFC], GetCharABCWidthsI
- CDC [MFC], GetCharacterPlacement
- CDC [MFC], GetCharWidth
- CDC [MFC], GetCharWidthI
- CDC [MFC], GetClipBox
- CDC [MFC], GetColorAdjustment
- CDC [MFC], GetCurrentBitmap
- CDC [MFC], GetCurrentBrush
- CDC [MFC], GetCurrentFont
- CDC [MFC], GetCurrentPalette
- CDC [MFC], GetCurrentPen
- CDC [MFC], GetCurrentPosition
- CDC [MFC], GetDCBrushColor
- CDC [MFC], GetDCPenColor
- CDC [MFC], GetDeviceCaps
- CDC [MFC], GetFontData
- CDC [MFC], GetFontLanguageInfo
- CDC [MFC], GetGlyphOutline
- CDC [MFC], GetGraphicsMode
- CDC [MFC], GetHalftoneBrush
- CDC [MFC], GetKerningPairs
- CDC [MFC], GetLayout
- CDC [MFC], GetMapMode
- CDC [MFC], GetMiterLimit
- CDC [MFC], GetNearestColor
- CDC [MFC], GetOutlineTextMetrics
- CDC [MFC], GetOutputCharWidth
- CDC [MFC], GetOutputTabbedTextExtent
- CDC [MFC], GetOutputTextExtent
- CDC [MFC], GetOutputTextMetrics
- CDC [MFC], GetPath
- CDC [MFC], GetPixel
- CDC [MFC], GetPolyFillMode
- CDC [MFC], GetROP2
- CDC [MFC], GetSafeHdc
- CDC [MFC], GetStretchBltMode
- CDC [MFC], GetTabbedTextExtent
- CDC [MFC], GetTextAlign
- CDC [MFC], GetTextCharacterExtra
- CDC [MFC], GetTextColor
- CDC [MFC], GetTextExtent
- CDC [MFC], GetTextExtentExPointI
- CDC [MFC], GetTextExtentPointI
- CDC [MFC], GetTextFace
- CDC [MFC], GetTextMetrics
- CDC [MFC], GetViewportExt
- CDC [MFC], GetViewportOrg
- CDC [MFC], GetWindow
- CDC [MFC], GetWindowExt
- CDC [MFC], GetWindowOrg
- CDC [MFC], GetWorldTransform
- CDC [MFC], GradientFill
- CDC [MFC], GrayString
- CDC [MFC], HIMETRICtoDP
- CDC [MFC], HIMETRICtoLP
- CDC [MFC], IntersectClipRect
- CDC [MFC], InvertRect
- CDC [MFC], InvertRgn
- CDC [MFC], IsPrinting
- CDC [MFC], LineTo
- CDC [MFC], LPtoDP
- CDC [MFC], LPtoHIMETRIC
- CDC [MFC], MaskBlt
- CDC [MFC], ModifyWorldTransform
- CDC [MFC], MoveTo
- CDC [MFC], OffsetClipRgn
- CDC [MFC], OffsetViewportOrg
- CDC [MFC], OffsetWindowOrg
- CDC [MFC], PaintRgn
- CDC [MFC], PatBlt
- CDC [MFC], Pie
- CDC [MFC], PlayMetaFile
- CDC [MFC], PlgBlt
- CDC [MFC], PolyBezier
- CDC [MFC], PolyBezierTo
- CDC [MFC], PolyDraw
- CDC [MFC], Polygon
- CDC [MFC], Polyline
- CDC [MFC], PolylineTo
- CDC [MFC], PolyPolygon
- CDC [MFC], PolyPolyline
- CDC [MFC], PtVisible
- CDC [MFC], RealizePalette
- CDC [MFC], Rectangle
- CDC [MFC], RectVisible
- CDC [MFC], ReleaseAttribDC
- CDC [MFC], ReleaseOutputDC
- CDC [MFC], ResetDC
- CDC [MFC], RestoreDC
- CDC [MFC], RoundRect
- CDC [MFC], SaveDC
- CDC [MFC], ScaleViewportExt
- CDC [MFC], ScaleWindowExt
- CDC [MFC], ScrollDC
- CDC [MFC], SelectClipPath
- CDC [MFC], SelectClipRgn
- CDC [MFC], SelectObject
- CDC [MFC], SelectPalette
- CDC [MFC], SelectStockObject
- CDC [MFC], SetAbortProc
- CDC [MFC], SetArcDirection
- CDC [MFC], SetAttribDC
- CDC [MFC], SetBkColor
- CDC [MFC], SetBkMode
- CDC [MFC], SetBoundsRect
- CDC [MFC], SetBrushOrg
- CDC [MFC], SetColorAdjustment
- CDC [MFC], SetDCBrushColor
- CDC [MFC], SetDCPenColor
- CDC [MFC], SetGraphicsMode
- CDC [MFC], SetLayout
- CDC [MFC], SetMapMode
- CDC [MFC], SetMapperFlags
- CDC [MFC], SetMiterLimit
- CDC [MFC], SetOutputDC
- CDC [MFC], SetPixel
- CDC [MFC], SetPixelV
- CDC [MFC], SetPolyFillMode
- CDC [MFC], SetROP2
- CDC [MFC], SetStretchBltMode
- CDC [MFC], SetTextAlign
- CDC [MFC], SetTextCharacterExtra
- CDC [MFC], SetTextColor
- CDC [MFC], SetTextJustification
- CDC [MFC], SetViewportExt
- CDC [MFC], SetViewportOrg
- CDC [MFC], SetWindowExt
- CDC [MFC], SetWindowOrg
- CDC [MFC], SetWorldTransform
- CDC [MFC], StartDoc
- CDC [MFC], StartPage
- CDC [MFC], StretchBlt
- CDC [MFC], StrokeAndFillPath
- CDC [MFC], StrokePath
- CDC [MFC], TabbedTextOut
- CDC [MFC], TextOut
- CDC [MFC], TransparentBlt
- CDC [MFC], UpdateColors
- CDC [MFC], WidenPath
- CDC [MFC], m_hAttribDC
- CDC [MFC], m_hDC
ms.assetid: 715b3334-cb2b-4c9c-8067-02eb7c66c8b2
ms.openlocfilehash: 432d560da0ae3459ba43faed9a50b9771b0de5d1
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/27/2020
ms.locfileid: "87212553"
---
# <a name="cdc-class"></a>CDC (classe)

Definisce una classe di oggetti di un contesto di dispositivo.

## <a name="syntax"></a>Sintassi

```
class CDC : public CObject
```

## <a name="members"></a>Membri

### <a name="public-constructors"></a>Costruttori pubblici

|Nome|Descrizione|
|----------|-----------------|
|[CDC:: CDC](#cdc)|Costruisce un oggetto `CDC`.|

### <a name="public-methods"></a>Metodi pubblici

|Nome|Descrizione|
|----------|-----------------|
|[CDC:: AbortDoc](#abortdoc)|Termina il processo di stampa corrente, cancellando tutti gli elementi scritti dall'applicazione nel dispositivo dopo l'ultima chiamata della `StartDoc` funzione membro.|
|[CDC:: AbortPath](#abortpath)|Chiude ed Elimina tutti i percorsi nel contesto di dispositivo.|
|[CDC:: AddMetaFileComment](#addmetafilecomment)|Copia il commento da un buffer in un metafile del formato avanzato specificato.|
|[CDC:: AlphaBlend](#alphablend)|Visualizza le bitmap con pixel trasparenti o semitrasparenti.|
|[CDC:: AngleArc](#anglearc)|Disegna un segmento di linea e un arco e sposta la posizione corrente fino al punto finale dell'arco.|
|[CDC:: Arc](#arc)|Disegna un arco ellittico.|
|[CDC:: ArcTo](#arcto)|Disegna un arco ellittico. Questa funzione è simile a `Arc` , ad eccezione del fatto che la posizione corrente è aggiornata.|
|[CDC:: Connetti](#attach)|Connette un contesto di dispositivo Windows a questo `CDC` oggetto.|
|[CDC:: BeginPath](#beginpath)|Apre una parentesi del percorso nel contesto di dispositivo.|
|[CDC::BitBlt](#bitblt)|Copia una bitmap da un contesto di dispositivo specificato.|
|[CDC:: Chord](#chord)|Disegna una corda (una figura chiusa delimitata dall'intersezione tra un'ellisse e un segmento di linea).|
|[CDC:: CloseFigure](#closefigure)|Chiude una figura aperta in un percorso.|
|[CDC:: CreateCompatibleDC](#createcompatibledc)|Crea un contesto di dispositivo di memoria compatibile con un altro contesto di dispositivo. È possibile usarlo per preparare le immagini in memoria.|
|[CDC:: CreateDC](#createdc)|Crea un contesto di dispositivo per un dispositivo specifico.|
|[CDC:: create](#createic)|Crea un contesto di informazioni per un dispositivo specifico. Questo consente di ottenere rapidamente informazioni sul dispositivo senza creare un contesto di dispositivo.|
|[CDC::D eleteDC](#deletedc)|Elimina il contesto di dispositivo Windows associato a questo `CDC` oggetto.|
|[CDC::D eleteTempMap](#deletetempmap)|Chiamato dal `CWinApp` gestore del tempo di inattività per eliminare qualsiasi `CDC` oggetto temporaneo creato da `FromHandle` . Scollega inoltre il contesto di dispositivo.|
|[CDC::D etach](#detach)|Scollega il contesto di dispositivo Windows da questo `CDC` oggetto.|
|[CDC::D PtoHIMETRIC](#dptohimetric)|Converte le unità del dispositivo in unità HIMETRIC.|
|[CDC::D PtoLP](#dptolp)|Converte le unità del dispositivo in unità logiche.|
|[CDC::D raw3dRect](#draw3drect)|Disegna un rettangolo tridimensionale.|
|[CDC::D rawDragRect](#drawdragrect)|Cancella e ridisegna un rettangolo mentre viene trascinato.|
|[CDC::D rawEdge](#drawedge)|Disegna i bordi di un rettangolo.|
|[CDC::D rawEscape](#drawescape)|Accede alle funzionalità di disegno di una visualizzazione video che non sono direttamente disponibili tramite GDI (Graphics Device Interface).|
|[CDC::D rawFocusRect](#drawfocusrect)|Disegna un rettangolo nello stile utilizzato per indicare lo stato attivo.|
|[CDC::D rawFrameControl](#drawframecontrol)|Creare un controllo frame.|
|[CDC::D rawIcon](#drawicon)|Disegna un'icona.|
|[CDC::D rawState](#drawstate)|Visualizza un'immagine e applica un effetto visivo per indicare uno stato.|
|[CDC::DrawText](#drawtext)|Disegna il testo formattato nel rettangolo specificato.|
|[CDC::D rawTextEx](#drawtextex)|Disegna il testo formattato nel rettangolo specificato usando formati aggiuntivi.|
|[CDC:: Ellipse](#ellipse)|Disegna un ellisse.|
|[CDC:: EndDoc](#enddoc)|Termina un processo di stampa avviato dalla `StartDoc` funzione membro.|
|[CDC:: EndPage](#endpage)|Informa il driver di dispositivo che una pagina sta per terminare.|
|[CDC:: EndPath](#endpath)|Chiude una parentesi del percorso e seleziona il percorso definito dalla parentesi nel contesto di dispositivo.|
|[CDC:: EnumObjects](#enumobjects)|Enumera le penne e i pennelli disponibili in un contesto di dispositivo.|
|[CDC:: Escape](#escape)|Consente alle applicazioni di accedere a funzionalità che non sono direttamente disponibili da un particolare dispositivo tramite GDI. Consente inoltre l'accesso alle funzioni di escape di Windows. Le chiamate di escape effettuate da un'applicazione vengono convertite e inviate al driver di dispositivo.|
|[CDC:: ExcludeClipRect](#excludecliprect)|Crea una nuova area di visualizzazione costituita dall'area di ridimensionamento esistente meno il rettangolo specificato.|
|[CDC:: ExcludeUpdateRgn](#excludeupdatergn)|Impedisce il disegno all'interno di aree non valide di una finestra escludendo un'area aggiornata nella finestra da un'area di ridimensionamento.|
|[CDC:: ExtFloodFill](#extfloodfill)|Riempie un'area con il pennello corrente. Offre una maggiore flessibilità rispetto alla funzione membro [CDC:: FLOODFILL](#floodfill) .|
|[CDC:: ExtTextOut](#exttextout)|Scrive una stringa di caratteri all'interno di un'area rettangolare usando il tipo di carattere correntemente selezionato.|
|[CDC:: FillPath](#fillpath)|Chiude tutte le figure aperte nel percorso corrente e riempie l'area interna del percorso utilizzando il pennello corrente e la modalità di riempimento del poligono.|
|[CDC:: FillRect](#fillrect)|Riempie un rettangolo specificato utilizzando un pennello specifico.|
|[CDC:: FillRgn](#fillrgn)|Riempie un'area specifica con il pennello specificato.|
|[CDC:: FillSolidRect](#fillsolidrect)|Riempie un rettangolo con un colore a tinta unita.|
|[CDC:: FlattenPath](#flattenpath)|Trasforma le curve nel percorso selezionato nel contesto di dispositivo corrente e trasforma ogni curva in una sequenza di righe.|
|[CDC:: FloodFill](#floodfill)|Riempie un'area con il pennello corrente.|
|[CDC:: FrameRect](#framerect)|Disegna un bordo intorno a un rettangolo.|
|[CDC:: FrameRgn](#framergn)|Disegna un bordo intorno a un'area specifica usando un pennello.|
|[CDC:: FromHandle](#fromhandle)|Restituisce un puntatore a un `CDC` oggetto quando viene fornito un handle a un contesto di dispositivo. Se all'handle non è collegato un oggetto `CDC`, viene creato e collegato un oggetto `CDC` temporaneo.|
|[CDC:: GetArcDirection](#getarcdirection)|Restituisce la direzione di arco corrente per il contesto di dispositivo.|
|[CDC:: GetAspectRatioFilter](#getaspectratiofilter)|Recupera l'impostazione per il filtro proporzioni corrente.|
|[CDC:: GetBkColor](#getbkcolor)|Recupera il colore di sfondo corrente.|
|[CDC:: GetBkMode](#getbkmode)|Recupera la modalità di sfondo.|
|[CDC:: GetBoundsRect](#getboundsrect)|Restituisce il rettangolo di delimitazione corrente accumulato per il contesto di dispositivo specificato.|
|[CDC:: GetBrushOrg](#getbrushorg)|Recupera l'origine del pennello corrente.|
|[CDC:: GetCharABCWidths](#getcharabcwidths)|Recupera le larghezze, in unità logiche, di caratteri consecutivi in un intervallo specificato dal tipo di carattere corrente.|
|[CDC:: GetCharABCWidthsI](#getcharabcwidthsi)|Recupera le larghezze, in unità logiche, di indici di glifi consecutivi in un intervallo specificato dal tipo di carattere TrueType corrente.|
|[CDC:: GetCharacterPlacement](#getcharacterplacement)|Recupera vari tipi di informazioni su una stringa di caratteri.|
|[CDC:: GetCharWidth](#getcharwidth)|Recupera le larghezze frazionarie dei caratteri consecutivi in un intervallo specificato dal tipo di carattere corrente.|
|[CDC:: GetCharWidthI](#getcharwidthi)|Recupera le larghezze, in coordinate logiche, di indici di glifi consecutivi in un intervallo specificato dal tipo di carattere corrente.|
|[CDC:: GetClipBox](#getclipbox)|Recupera le dimensioni del rettangolo di delimitazione più stretto intorno al limite di ritaglio corrente.|
|[CDC:: GetColorAdjustment](#getcoloradjustment)|Recupera i valori di regolazione del colore per il contesto di dispositivo.|
|[CDC:: GetCurrentBitmap](#getcurrentbitmap)|Restituisce un puntatore all'oggetto attualmente selezionato `CBitmap` .|
|[CDC:: GetCurrentBrush](#getcurrentbrush)|Restituisce un puntatore all'oggetto attualmente selezionato `CBrush` .|
|[CDC:: GetCurrentFont](#getcurrentfont)|Restituisce un puntatore all'oggetto attualmente selezionato `CFont` .|
|[CDC:: GetCurrentPalette](#getcurrentpalette)|Restituisce un puntatore all'oggetto attualmente selezionato `CPalette` .|
|[CDC:: GetCurrentPen](#getcurrentpen)|Restituisce un puntatore all'oggetto attualmente selezionato `CPen` .|
|[CDC:: GetCurrentPosition](#getcurrentposition)|Recupera la posizione corrente della penna (in coordinate logiche).|
|[CDC:: GetDCBrushColor](#getdcbrushcolor)|Recupera il colore corrente del pennello.|
|[CDC:: GetDCPenColor](#getdcpencolor)|Recupera il colore corrente della penna.|
|[CDC:: GetDeviceCaps](#getdevicecaps)|Recupera un tipo specificato di informazioni specifiche del dispositivo su una determinata funzionalità del dispositivo di visualizzazione.|
|[CDC:: GetFontData](#getfontdata)|Recupera le informazioni relative alla metrica del tipo di carattere da un file del tipo di carattere Le informazioni da recuperare vengono identificate specificando un offset nel file del tipo di carattere e la lunghezza delle informazioni da restituire.|
|[CDC:: GetFontLanguageInfo](#getfontlanguageinfo)|Restituisce informazioni sul tipo di carattere attualmente selezionato per il contesto di visualizzazione specificato.|
|[CDC:: GetGlyphOutline](#getglyphoutline)|Recupera la curva di contorno o la bitmap per un carattere di struttura nel tipo di carattere corrente.|
|[CDC:: GetGraphicsMode](#getgraphicsmode)|Recupera la modalità grafica corrente per il contesto di dispositivo specificato.|
|[CDC:: GetHalftoneBrush](#gethalftonebrush)|Recupera un pennello a mezzitoni.|
|[CDC:: GetKerningPairs](#getkerningpairs)|Recupera le coppie di caratteri di crenatura per il tipo di carattere attualmente selezionato nel contesto di dispositivo specificato.|
|[CDC:: GetLayout](#getlayout)|Recupera il layout di un contesto di dispositivo (DC). Il layout può essere da sinistra a destra (impostazione predefinita) o da destra a sinistra (con mirroring).|
|[CDC:: GetMapMode](#getmapmode)|Recupera la modalità di mapping corrente.|
|[CDC:: GetMiterLimit](#getmiterlimit)|Restituisce il limite di smussatura per il contesto di dispositivo.|
|[CDC:: GetNearestColor](#getnearestcolor)|Recupera il colore logico più vicino a un colore logico specificato che può essere rappresentato dal dispositivo specificato.|
|[CDC:: GetOutlineTextMetrics](#getoutlinetextmetrics)|Recupera le informazioni sulla metrica dei caratteri per i tipi di carattere TrueType.|
|[CDC:: GetOutputCharWidth](#getoutputcharwidth)|Recupera le larghezze dei singoli caratteri in un gruppo di caratteri consecutivi dal tipo di carattere corrente usando il contesto di dispositivo di output.|
|[CDC:: GetOutputTabbedTextExtent](#getoutputtabbedtextextent)|Calcola la larghezza e l'altezza di una stringa di caratteri nel contesto di dispositivo di output.|
|[CDC:: GetOutputTextExtent](#getoutputtextextent)|Calcola la larghezza e l'altezza di una riga di testo nel contesto del dispositivo di output usando il tipo di carattere corrente per determinare le dimensioni.|
|[CDC:: GetOutputTextMetrics](#getoutputtextmetrics)|Recupera le metriche per il tipo di carattere corrente dal contesto del dispositivo di output.|
|[CDC:: GetPath](#getpath)|Recupera le coordinate che definiscono gli endpoint delle linee e i punti di controllo delle curve trovate nel percorso selezionato nel contesto di dispositivo.|
|[CDC:: GetPixel](#getpixel)|Recupera il valore di colore RGB del pixel in corrispondenza del punto specificato.|
|[CDC:: GetPolyFillMode](#getpolyfillmode)|Recupera la modalità di riempimento poligono corrente.|
|[CDC:: GetROP2](#getrop2)|Recupera la modalità di disegno corrente.|
|[CDC:: GetSafeHdc](#getsafehdc)|Restituisce [CDC:: m_hDC](#m_hdc), il contesto di dispositivo di output.|
|[CDC:: GetStretchBltMode](#getstretchbltmode)|Recupera la modalità di estensione bitmap corrente.|
|[CDC:: GetTabbedTextExtent](#gettabbedtextextent)|Calcola la larghezza e l'altezza di una stringa di caratteri nel contesto di dispositivo dell'attributo.|
|[CDC:: GetTextAlign](#gettextalign)|Recupera i flag di allineamento del testo.|
|[CDC:: GetTextCharacterExtra](#gettextcharacterextra)|Recupera l'impostazione corrente per la quantità di spaziatura tra caratteri.|
|[CDC:: GetTextColor](#gettextcolor)|Recupera il colore del testo corrente.|
|[CDC:: GetTextExtent](#gettextextent)|Calcola la larghezza e l'altezza di una riga di testo nel contesto di dispositivo dell'attributo usando il tipo di carattere corrente per determinare le dimensioni.|
|[CDC:: GetTextExtentExPointI](#gettextextentexpointi)|Recupera il numero di caratteri in una stringa specificata che rientrerà in uno spazio specificato e riempie una matrice con l'extent del testo per ognuno di questi caratteri.|
|[CDC:: GetTextExtentPointI](#gettextextentpointi)|Recupera la larghezza e l'altezza della matrice specificata di indici di glifi.|
|[CDC:: GetTextFace](#gettextface)|Copia il nome tipografico del tipo di carattere corrente in un buffer come stringa con terminazione null.|
|[CDC:: GetTextMetrics](#gettextmetrics)|Recupera le metriche per il tipo di carattere corrente dal contesto di dispositivo dell'attributo.|
|[CDC:: GetViewportExt](#getviewportext)|Recupera gli extent x e y del viewport.|
|[CDC:: GetViewportOrg](#getviewportorg)|Recupera le coordinate x e y dell'origine del viewport.|
|[CDC:: GetWindow](#getwindow)|Restituisce la finestra associata al contesto del dispositivo di visualizzazione.|
|[CDC:: GetWindowExt](#getwindowext)|Recupera gli extent x e y della finestra associata.|
|[CDC:: GetWindowOrg](#getwindoworg)|Recupera le coordinate x e y dell'origine della finestra associata.|
|[CDC:: GetWorldTransform](#getworldtransform)|Recupera lo spazio globale corrente nella trasformazione dello spazio pagina.|
|[CDC:: GradientFill](#gradientfill)|Riempie le strutture Rectangle e Triangle con un colore sfumando.|
|[CDC:: GrayString](#graystring)|Disegna il testo disattivato (in grigio) nella posizione specificata.|
|[CDC:: HIMETRICtoDP](#himetrictodp)|Converte le unità HIMETRIC in unità di dispositivo.|
|[CDC:: HIMETRICtoLP](#himetrictolp)|Converte le unità HIMETRIC in unità logiche.|
|[CDC:: IntersectClipRect](#intersectcliprect)|Crea una nuova area di ridimensionamento formando l'intersezione tra l'area corrente e un rettangolo.|
|[CDC:: InvertRect](#invertrect)|Inverte il contenuto di un rettangolo.|
|[CDC:: InvertRgn](#invertrgn)|Inverte i colori in un'area.|
|[CDC:: Printable](#isprinting)|Determina se il contesto di dispositivo viene utilizzato per la stampa.|
|[CDC:: LineTo](#lineto)|Disegna una linea dalla posizione corrente fino a un punto, ma non include.|
|[CDC:: DPtoLP](#lptodp)|Converte le unità logiche in unità di dispositivo.|
|[CDC:: LPtoHIMETRIC](#lptohimetric)|Converte le unità logiche in unità HIMETRIC.|
|[CDC:: MaskBlt](#maskblt)|Combina i dati relativi al colore per le bitmap di origine e di destinazione utilizzando la maschera e l'operazione raster specificati.|
|[CDC:: ModifyWorldTransform](#modifyworldtransform)|Modifica la trasformazione globale per un contesto di dispositivo utilizzando la modalità specificata.|
|[CDC:: MoveTo](#moveto)|Sposta la posizione corrente.|
|[CDC:: OffsetClipRgn](#offsetcliprgn)|Sposta l'area di visualizzazione del dispositivo specificato.|
|[CDC:: OffsetViewportOrg](#offsetviewportorg)|Modifica l'origine del viewport rispetto alle coordinate dell'origine del viewport corrente.|
|[CDC:: OffsetWindowOrg](#offsetwindoworg)|Modifica l'origine della finestra rispetto alle coordinate dell'origine della finestra corrente.|
|[CDC::P aintRgn](#paintrgn)|Riempie un'area con il pennello selezionato.|
|[CDC::P atBlt](#patblt)|Crea uno schema di bit.|
|[CDC::P IE](#pie)|Disegna un cuneo a torta.|
|[CDC::P layMetaFile](#playmetafile)|Riproduce il contenuto del metafile specificato nel dispositivo specificato. La versione migliorata di `PlayMetaFile` consente di visualizzare l'immagine archiviata nel metafile del formato avanzato specificato. Il metafile può essere riprodotto per un numero qualsiasi di volte.|
|[CDC::P lgBlt](#plgblt)|Esegue un trasferimento a blocchi di bit dei bit di dati del colore dal rettangolo specificato nel contesto di dispositivo di origine al parallelogramma specificato nel contesto di dispositivo specificato.|
|[CDC::P olyBezier](#polybezier)|Disegna una o più spline Bzier. La posizione corrente non viene né utilizzata né aggiornata.|
|[CDC::P olyBezierTo](#polybezierto)|Disegna una o più spline Bzier e sposta la posizione corrente fino al punto finale dell'ultima spline Bzier.|
|[CDC::P olyDraw](#polydraw)|Disegna un set di segmenti di linea e spline Bzier. Questa funzione aggiorna la posizione corrente.|
|[CDC::P olygon](#polygon)|Disegna un poligono costituito da due o più punti (vertici) connessi da linee.|
|[CDC::P olyline](#polyline)|Disegna un set di segmenti lineari che connettono i punti specificati.|
|[CDC::P olylineTo](#polylineto)|Disegna una o più linee rette e sposta la posizione corrente fino al punto finale dell'ultima riga.|
|[CDC::P olyPolygon](#polypolygon)|Crea due o più poligoni compilati usando la modalità di riempimento poligono corrente. I poligoni possono essere disgiunti o sovrapposti.|
|[CDC::P olyPolyline](#polypolyline)|Disegna più serie di segmenti di linea collegati. La posizione corrente non viene utilizzata né aggiornata da questa funzione.|
|[CDC::P tVisible](#ptvisible)|Specifica se il punto specificato si trova all'interno dell'area di visualizzazione.|
|[CDC:: RealizePalette](#realizepalette)|Esegue il mapping delle voci della tavolozza nella tavolozza logica corrente alla tavolozza di sistema.|
|[CDC:: Rectangle](#rectangle)|Disegna un rettangolo usando la penna corrente e lo riempie usando il pennello corrente.|
|[CDC:: RectVisible](#rectvisible)|Determina se una parte del rettangolo specificato si trova all'interno dell'area di visualizzazione.|
|[CDC:: ReleaseAttribDC](#releaseattribdc)|Rilascia `m_hAttribDC` il contesto di dispositivo dell'attributo.|
|[CDC:: ReleaseOutputDC](#releaseoutputdc)|Rilascia `m_hDC` il contesto di dispositivo di output.|
|[CDC:: ResetDC](#resetdc)|Aggiorna il `m_hAttribDC` contesto di dispositivo.|
|[CDC:: RestoreDC](#restoredc)|Ripristina il contesto di dispositivo con uno stato precedente salvato con `SaveDC` .|
|[CDC:: RoundRect](#roundrect)|Disegna un rettangolo con angoli arrotondati utilizzando la penna corrente e riempito utilizzando il pennello corrente.|
|[CDC:: SaveDC](#savedc)|Salva lo stato corrente del contesto di dispositivo.|
|[CDC:: ScaleViewportExt](#scaleviewportext)|Modifica l'extent del viewport rispetto ai valori correnti.|
|[CDC:: ScaleWindowExt](#scalewindowext)|Modifica gli extent della finestra relativi ai valori correnti.|
|[CDC:: ScrollDC](#scrolldc)|Scorre un rettangolo di bit orizzontalmente e verticalmente.|
|[CDC:: SelectClipPath](#selectclippath)|Seleziona il percorso corrente come area di ridimensionamento per il contesto di dispositivo, combinando la nuova regione con qualsiasi area di ritaglio esistente usando la modalità specificata.|
|[CDC:: SelectClipRgn](#selectcliprgn)|Combina l'area specificata con l'area di ritaglio corrente usando la modalità specificata.|
|[CDC::SelectObject](#selectobject)|Seleziona un oggetto disegno GDI, ad esempio una penna.|
|[CDC:: SelectPalette](#selectpalette)|Seleziona la tavolozza logica.|
|[CDC::SelectStockObject](#selectstockobject)|Seleziona una delle penne predefinite predefinite, dei pennelli o dei tipi di carattere forniti da Windows.|
|[CDC:: SetAbortProc](#setabortproc)|Imposta una funzione di callback fornita dal programmatore che Windows chiama se è necessario interrompere un processo di stampa.|
|[CDC:: SetArcDirection](#setarcdirection)|Imposta la direzione di disegno da utilizzare per le funzioni arco e rettangolo.|
|[CDC:: SetAttribDC](#setattribdc)|Imposta `m_hAttribDC` il contesto di dispositivo dell'attributo.|
|[CDC:: SetBkColor](#setbkcolor)|Imposta il colore di sfondo corrente.|
|[CDC:: SetBkMode](#setbkmode)|Imposta la modalità di sfondo.|
|[CDC:: SetBoundsRect](#setboundsrect)|Controlla l'accumulo di informazioni sul rettangolo di delimitazione per il contesto di dispositivo specificato.|
|[CDC:: SetBrushOrg](#setbrushorg)|Specifica l'origine per il pennello successivo selezionato in un contesto di dispositivo.|
|[CDC:: SetColorAdjustment](#setcoloradjustment)|Imposta i valori di regolazione del colore per il contesto di dispositivo usando i valori specificati.|
|[CDC:: SetDCBrushColor](#setdcbrushcolor)|Imposta il colore corrente del pennello.|
|[CDC:: SetDCPenColor](#setdcpencolor)|Imposta il colore corrente della penna.|
|[CDC:: SetGraphicsMode](#setgraphicsmode)|Imposta la modalità grafica corrente per il contesto di dispositivo specificato.|
|[CDC:: selayout](#setlayout)|Modifica il layout di un contesto di dispositivo (DC).|
|[CDC:: SetMapMode](#setmapmode)|Imposta la modalità di mapping corrente.|
|[CDC:: SetMapperFlags](#setmapperflags)|Modifica l'algoritmo utilizzato dal mapper del tipo di carattere quando esegue il mapping di tipi di carattere logici a tipi di carattere fisici.|
|[CDC:: SetMiterLimit](#setmiterlimit)|Imposta il limite per la lunghezza dei join degli angoli smussati per il contesto di dispositivo.|
|[CDC:: SetOutputDC](#setoutputdc)|Imposta `m_hDC` il contesto del dispositivo di output.|
|[CDC:: sepixel](#setpixel)|Imposta il pixel in corrispondenza del punto specificato sull'approssimazione più vicina del colore specificato.|
|[CDC:: SetPixelV](#setpixelv)|Imposta il pixel in corrispondenza delle coordinate specificate sull'approssimazione più vicina del colore specificato. `SetPixelV`è più veloce di `SetPixel` perché non deve restituire il valore del colore del punto effettivamente disegnato.|
|[CDC:: SetPolyFillMode](#setpolyfillmode)|Imposta la modalità di riempimento del poligono.|
|[CDC:: SetROP2](#setrop2)|Imposta la modalità di disegno corrente.|
|[CDC:: SetStretchBltMode](#setstretchbltmode)|Imposta la modalità di estensione della bitmap.|
|[CDC:: SetTextAlign](#settextalign)|Imposta i flag di allineamento del testo.|
|[CDC:: SetTextCharacterExtra](#settextcharacterextra)|Imposta la quantità di spaziatura tra caratteri.|
|[CDC:: SetTextColor](#settextcolor)|Imposta il colore del testo.|
|[CDC:: SetTextJustification](#settextjustification)|Aggiunge spazio ai caratteri break in una stringa.|
|[CDC:: SetViewportExt](#setviewportext)|Imposta gli extent x e y del viewport.|
|[CDC:: SetViewportOrg](#setviewportorg)|Imposta l'origine del viewport.|
|[CDC:: SetWindowExt](#setwindowext)|Imposta gli extent x e y della finestra associata.|
|[CDC:: SetWindowOrg](#setwindoworg)|Imposta l'origine della finestra del contesto di dispositivo.|
|[CDC:: SetWorldTransform](#setworldtransform)|Imposta lo spazio globale corrente sulla trasformazione dello spazio pagina.|
|[CDC:: StartDoc](#startdoc)|Informa il driver di dispositivo che è in corso l'avvio di un nuovo processo di stampa.|
|[CDC:: StartPage](#startpage)|Informa il driver di dispositivo che è in corso l'avvio di una nuova pagina.|
|[CDC:: StretchBlt](#stretchblt)|Sposta una bitmap da un rettangolo di origine e da un dispositivo a un rettangolo di destinazione, allungando o comprimendo la bitmap, se necessario, per adattarla alle dimensioni del rettangolo di destinazione.|
|[CDC:: StrokeAndFillPath](#strokeandfillpath)|Chiude tutte le figure aperte in un percorso, colpisce il contorno del tracciato utilizzando la penna corrente e riempie l'interno utilizzando il pennello corrente.|
|[CDC:: StrokePath](#strokepath)|Esegue il rendering del percorso specificato utilizzando la penna corrente.|
|[CDC:: TabbedTextOut](#tabbedtextout)|Scrive una stringa di caratteri in una posizione specificata, espandendo le tabulazioni ai valori specificati in una matrice di posizioni di interruzione di tabulazione.|
|[CDC:: Text out](#textout)|Scrive una stringa di caratteri in una posizione specificata usando il tipo di carattere correntemente selezionato.|
|[CDC:: TransparentBlt](#transparentblt)|Trasferisce un blocco di bit dei dati relativi al colore dal contesto del dispositivo di origine specificato in un contesto di dispositivo di destinazione, eseguendo il rendering di un colore specificato trasparente durante il trasferimento.|
|[CDC:: UpdateColors](#updatecolors)|Aggiorna l'area client del contesto di dispositivo mediante la corrispondenza tra i colori correnti nell'area client e la tavolozza di sistema in base ai pixel.|
|[CDC:: WidenPath](#widenpath)|Ridefinisce il percorso corrente come area da disegnare se il tracciato è stato tracciato utilizzando la penna attualmente selezionata nel contesto di dispositivo.|

### <a name="public-operators"></a>Operatori pubblici

|Nome|Descrizione|
|----------|-----------------|
|[CDC:: operator HDC](#operator_hdc)|Recupera l'handle del contesto di dispositivo.|

### <a name="public-data-members"></a>Membri dati pubblici

|Nome|Descrizione|
|----------|-----------------|
|[CDC:: m_hAttribDC](#m_hattribdc)|Il contesto di dispositivo attributo usato da questo `CDC` oggetto.|
|[CDC:: m_hDC](#m_hdc)|Il contesto di dispositivo di output usato da questo `CDC` oggetto.|

## <a name="remarks"></a>Osservazioni

L' `CDC` oggetto fornisce funzioni membro per l'utilizzo di un contesto di dispositivo, ad esempio uno schermo o una stampante, nonché i membri per l'utilizzo di un contesto di visualizzazione associato all'area client di una finestra.

Eseguire tutte le operazioni di disegno tramite le funzioni membro di un `CDC` oggetto. La classe fornisce funzioni membro per le operazioni del contesto del dispositivo, l'utilizzo di strumenti di disegno, la selezione di oggetti GDI (Graphics Device Interface) indipendente dai tipi e l'utilizzo di colori e tavolozze. Fornisce anche funzioni membro per ottenere e impostare attributi di disegno, mapping, utilizzo del viewport, utilizzo dell'extent della finestra, conversione di coordinate, utilizzo di aree, ritaglio, disegno di linee e disegno di forme semplici, ellissi e poligoni. Sono inoltre disponibili funzioni membro per il disegno di testo, l'utilizzo di tipi di carattere, l'utilizzo di caratteri di escape della stampante, lo scorrimento e la riproduzione di metafile.

Per usare un `CDC` oggetto, costruirlo, quindi chiamare le relative funzioni membro che funzioni Windows parallele che usano i contesti di dispositivo.

> [!NOTE]
> In Windows 95/98, tutte le coordinate dello schermo sono limitate a 16 bit. Una **`int`** passata a una `CDC` funzione membro deve pertanto essere compresa nell'intervallo da-32768 a 32767.

Per usi specifici, il libreria Microsoft Foundation Class fornisce diverse classi derivate da `CDC` . `CPaintDC`Incapsula le chiamate a `BeginPaint` e `EndPaint` . `CClientDC`gestisce un contesto di visualizzazione associato all'area client di una finestra. `CWindowDC`gestisce un contesto di visualizzazione associato a un'intera finestra, inclusi il frame e i controlli. `CMetaFileDC`associa un contesto di dispositivo a un metafile.

`CDC`fornisce due funzioni membro, [GetLayout](#getlayout) e [selayout](#setlayout), per invertire il layout di un contesto di dispositivo, che non eredita il layout da una finestra. Questo orientamento da destra a sinistra è necessario per le applicazioni scritte per le impostazioni cultura, ad esempio l'arabo o l'ebraico, in cui il layout dei caratteri non è lo standard europeo.

`CDC`contiene due contesti di dispositivo, [m_hDC](#m_hdc) e [m_hAttribDC](#m_hattribdc), che, al momento della creazione di un `CDC` oggetto, fanno riferimento allo stesso dispositivo. `CDC`indirizza tutte le chiamate GDI di output a `m_hDC` e la maggior parte delle chiamate GDI dell'attributo a `m_hAttribDC` . Un esempio di chiamata di attributo è `GetTextColor` , mentre `SetTextColor` è una chiamata di output.

Ad esempio, il Framework usa questi due contesti di dispositivo per implementare un `CMetaFileDC` oggetto che invierà l'output a un metafile durante la lettura degli attributi da un dispositivo fisico. L'anteprima di stampa è implementata nel Framework in modo analogo. È anche possibile usare i due contesti di dispositivo in modo analogo nel codice specifico dell'applicazione.

In alcuni casi è possibile che siano necessarie informazioni sulle metriche di testo sia da `m_hDC` che da `m_hAttribDC` contesti di dispositivo. Le seguenti coppie di funzioni forniscono questa funzionalità:

|USA m_hAttribDC|USA m_hDC|
|-----------------------|-----------------|
|[GetTextExtent](#gettextextent)|[GetOutputTextExtent](#getoutputtextextent)|
|[GetTabbedTextExtent](#gettabbedtextextent)|[GetOutputTabbedTextExtent](#getoutputtabbedtextextent)|
|[GetTextMetrics](#gettextmetrics)|[GetOutputTextMetrics](#getoutputtextmetrics)|
|[GetCharWidth](#getcharwidth)|[GetOutputCharWidth](#getoutputcharwidth)|

Per altre informazioni su `CDC` , vedere [contesti di dispositivo](../../mfc/device-contexts.md).

## <a name="inheritance-hierarchy"></a>Gerarchia di ereditarietà

[CObject](../../mfc/reference/cobject-class.md)

`CDC`

## <a name="requirements"></a>Requisiti

**Intestazione:** afxwin.h

## <a name="cdcabortdoc"></a><a name="abortdoc"></a>CDC:: AbortDoc

Termina il processo di stampa corrente e cancella tutti gli elementi scritti dall'applicazione nel dispositivo dopo l'ultima chiamata alla funzione membro [StartDoc](#startdoc) .

```
int AbortDoc();
```

### <a name="return-value"></a>Valore restituito

Un valore maggiore o uguale a 0 se ha esito positivo o un valore negativo se si è verificato un errore. L'elenco seguente mostra i valori di errore comuni e i relativi significati:

- SP_ERROR errore generale.

- SP_OUTOFDISK spazio su disco insufficiente è attualmente disponibile per lo spooling e non sarà più disponibile spazio.

- SP_OUTOFMEMORY la memoria disponibile non è sufficiente per lo spooling.

- SP_USERABORT utente ha terminato il processo tramite il gestore di stampa.

### <a name="remarks"></a>Osservazioni

Questa funzione membro sostituisce l'escape della stampante ABORTDOC.

`AbortDoc`usare per terminare le operazioni seguenti:

- Operazioni di stampa che non specificano una funzione Abort utilizzando [SetAbortProc](#setabortproc).

- Operazioni di stampa che non hanno ancora raggiunto la prima chiamata di escape NEWFRAME o NEXTBAND.

Se un'applicazione rileva un errore di stampa o un'operazione di stampa annullata, non deve tentare di terminare l'operazione usando le funzioni membro o [EndDoc](#enddoc) `AbortDoc` della classe `CDC` . L'operazione viene terminata automaticamente da GDI prima di restituire il valore di errore.

Se l'applicazione visualizza una finestra di dialogo per consentire all'utente di annullare l'operazione di stampa, deve chiamare `AbortDoc` prima di eliminare la finestra di dialogo.

Se è stato usato gestione stampa per avviare il processo di stampa, la chiamata a `AbortDoc` Cancella l'intero processo di spooling, la stampante non riceve nulla. Se il gestore di stampa non è stato utilizzato per avviare il processo di stampa, è possibile che i dati siano stati inviati alla stampante prima della `AbortDoc` chiamata a. In questo caso, il driver della stampante avrebbe reimpostato la stampante (se possibile) e chiuso il processo di stampa.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: StartDoc](#startdoc).

## <a name="cdcabortpath"></a><a name="abortpath"></a>CDC:: AbortPath

Chiude ed Elimina tutti i percorsi nel contesto di dispositivo.

```
BOOL AbortPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Se è presente una parentesi quadra aperta nel contesto di dispositivo, la parentesi del percorso viene chiusa e il percorso viene ignorato. Se è presente un percorso chiuso nel contesto di dispositivo, il percorso viene ignorato.

## <a name="cdcaddmetafilecomment"></a><a name="addmetafilecomment"></a>CDC:: AddMetaFileComment

Copia il commento da un buffer in un metafile del formato avanzato specificato.

```
BOOL AddMetaFileComment(
    UINT nDataSize,
    const BYTE* pCommentData);
```

### <a name="parameters"></a>Parametri

*nDataSize*<br/>
Specifica la lunghezza in byte del buffer di commento.

*pCommentData*<br/>
Punta al buffer che contiene il commento.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Un commento può includere informazioni private, ad esempio l'origine dell'immagine e la data di creazione. Un commento deve iniziare con una firma dell'applicazione, seguito dai dati. I commenti non devono contenere dati specifici della posizione. I dati specifici della posizione specificano il percorso di un record e non devono essere inclusi perché un metafile può essere incorporato in un altro metafile. Questa funzione può essere usata solo con i metafile avanzati.

## <a name="cdcalphablend"></a><a name="alphablend"></a>CDC:: AlphaBlend

Chiamare questa funzione membro per visualizzare bitmap con pixel trasparenti o semitrasparenti.

```
BOOL AlphaBlend(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    BLENDFUNCTION blend);
```

### <a name="parameters"></a>Parametri

*xDest*<br/>
Specifica la coordinata x, in unità logiche, dell'angolo superiore sinistro del rettangolo di destinazione.

*yDest*<br/>
Specifica la coordinata y, in unità logiche, dell'angolo superiore sinistro del rettangolo di destinazione.

*nDestWidth*<br/>
Specifica la larghezza, in unità logiche, del rettangolo di destinazione.

*nDestHeight*<br/>
Specifica l'altezza, in unità logiche, del rettangolo di destinazione.

*pSrcDC*<br/>
Puntatore al contesto del dispositivo di origine.

*xSrc*<br/>
Specifica la coordinata x, in unità logiche, dell'angolo superiore sinistro del rettangolo di origine.

*ySrc*<br/>
Specifica la coordinata y, in unità logiche, dell'angolo superiore sinistro del rettangolo di origine.

*nSrcWidth*<br/>
Specifica la larghezza, in unità logiche, del rettangolo di origine.

*nSrcHeight*<br/>
Specifica l'altezza, in unità logiche, del rettangolo di origine.

*miscela*<br/>
Specifica una struttura [BlendFunction](/windows/win32/api/wingdi/ns-wingdi-blendfunction) .

### <a name="return-value"></a>Valore restituito

TRUE se l'operazione riesce; in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Per ulteriori informazioni, vedere [AlphaBlend](/windows/win32/api/wingdi/nf-wingdi-alphablend) nella Windows SDK.

## <a name="cdcanglearc"></a><a name="anglearc"></a>CDC:: AngleArc

Disegna un segmento di linea e un arco.

```
BOOL AngleArc(
    int x,
    int y,
    int nRadius,
    float fStartAngle,
    float fSweepAngle);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del centro del cerchio.

*y*<br/>
Specifica la coordinata y logica del centro del cerchio.

*nRadius*<br/>
Specifica il raggio del cerchio nelle unità logiche. Il valore deve essere positivo.

*fStartAngle*<br/>
Specifica l'angolo iniziale in gradi rispetto all'asse x.

*fSweepAngle*<br/>
Specifica l'angolo di sweep in gradi rispetto all'angolo iniziale.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Il segmento di linea viene disegnato dalla posizione corrente fino all'inizio dell'arco. L'arco viene disegnato lungo il perimetro di un cerchio con il raggio e il centro specificati. La lunghezza dell'arco è definita dagli angoli di inizio e di sweep specificati.

`AngleArc`Sposta la posizione corrente fino al punto finale dell'arco. L'arco disegnato da questa funzione può sembrare ellittico, a seconda della modalità di trasformazione e di mapping corrente. Prima di disegnare l'arco, questa funzione disegna il segmento di linea dalla posizione corrente fino all'inizio dell'arco. L'arco viene disegnato costruendo un cerchio immaginario con il raggio specificato intorno al punto centrale specificato. Il punto iniziale dell'arco è determinato dalla misurazione in senso antiorario dall'asse x del cerchio per il numero di gradi nell'angolo iniziale. Il punto finale viene individuato in modo analogo misurando in senso antiorario dal punto iniziale per il numero di gradi nell'angolo di apertura.

Se l'angolo di sweep è maggiore di 360 gradi, l'arco viene eliminato più volte. Questa funzione disegna righe usando la penna corrente. La figura non è compilata.

## <a name="cdcarc"></a><a name="arc"></a>CDC:: Arc

Disegna un arco ellittico.

```
BOOL Arc(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Arc(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x dell'angolo superiore sinistro del rettangolo di delimitazione (in unità logiche).

*Y1*<br/>
Specifica la coordinata y dell'angolo superiore sinistro del rettangolo di delimitazione (in unità logiche).

*X2*<br/>
Specifica la coordinata x dell'angolo inferiore destro del rettangolo di delimitazione (in unità logiche).

*Y2*<br/>
Specifica la coordinata y dell'angolo inferiore destro del rettangolo di delimitazione (in unità logiche).

*X3*<br/>
Specifica la coordinata x del punto che definisce il punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*Y3*<br/>
Specifica la coordinata y del punto che definisce il punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*X4*<br/>
Specifica la coordinata x del punto che definisce l'endpoint dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*Y4*<br/>
Specifica la coordinata y del punto che definisce l'endpoint dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*lpRect*<br/>
Specifica il rettangolo di delimitazione (in unità logiche). È possibile passare un oggetto LPRECT o un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

*ptStart*<br/>
Specifica le coordinate x e y del punto che definisce il punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco. Per questo parametro è possibile passare una struttura [Point](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*ptEnd*<br/>
Specifica le coordinate x e y del punto che definisce il punto finale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

L'arco disegnato usando la funzione è un segmento dell'ellisse definito dal rettangolo di delimitazione specificato.

Il punto iniziale effettivo dell'arco è il punto in corrispondenza del quale un raggio disegnato dal centro del rettangolo di delimitazione fino al punto iniziale specificato interseca l'ellisse. Il punto finale effettivo dell'arco è il punto in corrispondenza del quale un raggio disegnato dal centro del rettangolo di delimitazione fino al punto finale specificato interseca l'ellisse. L'arco viene disegnato in senso antiorario. Poiché un arco non è una figura chiusa, non viene riempito. Sia la larghezza che l'altezza del rettangolo devono essere maggiori di 2 unità e minori di 32.767 unità.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#29](../../mfc/codesnippet/cpp/cdc-class_1.cpp)]

## <a name="cdcarcto"></a><a name="arcto"></a>CDC:: ArcTo

Disegna un arco ellittico.

```
BOOL ArcTo(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL ArcTo(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x dell'angolo superiore sinistro del rettangolo di delimitazione (in unità logiche).

*Y1*<br/>
Specifica la coordinata y dell'angolo superiore sinistro del rettangolo di delimitazione (in unità logiche).

*X2*<br/>
Specifica la coordinata x dell'angolo inferiore destro del rettangolo di delimitazione (in unità logiche).

*Y2*<br/>
Specifica la coordinata y dell'angolo inferiore destro del rettangolo di delimitazione (in unità logiche).

*X3*<br/>
Specifica la coordinata x del punto che definisce il punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*Y3*<br/>
Specifica la coordinata y del punto che definisce il punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*X4*<br/>
Specifica la coordinata x del punto che definisce l'endpoint dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*Y4*<br/>
Specifica la coordinata y del punto che definisce l'endpoint dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*lpRect*<br/>
Specifica il rettangolo di delimitazione (in unità logiche). È possibile passare un puntatore a una struttura di dati [Rect](/windows/win32/api/windef/ns-windef-rect) o un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

*ptStart*<br/>
Specifica le coordinate x e y del punto che definisce il punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco. Per questo parametro è possibile passare una struttura di dati [punto](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*ptEnd*<br/>
Specifica le coordinate x e y del punto che definisce il punto finale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco. È possibile passare una `POINT` struttura di dati o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione è simile a `CDC::Arc` , ad eccezione del fatto che la posizione corrente è aggiornata. I punti ( *X1*, *Y1*) e ( *X2*, *Y2*) specificano il rettangolo di delimitazione. Un'ellisse formata dal rettangolo di delimitazione specificato definisce la curva dell'arco. L'arco si estende in senso antiorario (direzione di arco predefinita) dal punto in cui interseca la linea radiale dal centro del rettangolo di delimitazione a ( *X3*, *Y3*). L'arco termina dove interseca la linea radiale dal centro del rettangolo di delimitazione a ( *X4*, *Y4*). Se il punto iniziale e il punto finale sono uguali, viene disegnata un'ellisse completa.

Viene disegnata una linea dalla posizione corrente al punto iniziale dell'arco. Se non si verificano errori, la posizione corrente viene impostata sul punto finale dell'arco. L'arco viene disegnato usando la penna corrente; non viene compilato.

## <a name="cdcattach"></a><a name="attach"></a>CDC:: Connetti

Usare questa funzione membro per alleghi un *HDC* all' `CDC` oggetto.

```
BOOL Attach(HDC hDC);
```

### <a name="parameters"></a>Parametri

*hDC*<br/>
Contesto di dispositivo Windows.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

*HDC* viene archiviato sia nel `m_hDC` contesto del dispositivo di output che in `m_hAttribDC` , il contesto di dispositivo dell'attributo.

## <a name="cdcbeginpath"></a><a name="beginpath"></a>CDC:: BeginPath

Apre una parentesi del percorso nel contesto di dispositivo.

```
BOOL BeginPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Dopo l'apertura di una parentesi quadra da un percorso, un'applicazione può iniziare a chiamare funzioni di disegno GDI per definire i punti che si trovano nel percorso. Un'applicazione può chiudere una parentesi aperta del percorso chiamando la `EndPath` funzione membro. Quando un'applicazione chiama `BeginPath` , tutti i percorsi precedenti vengono eliminati.

Vedere [beginPath](/windows/win32/api/wingdi/nf-wingdi-beginpath) nell'Windows SDK per un elenco delle funzioni di disegno che definiscono i punti in un percorso.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#30](../../mfc/codesnippet/cpp/cdc-class_2.cpp)]

## <a name="cdcbitblt"></a><a name="bitblt"></a>CDC:: BitBlt

Copia una bitmap dal contesto di dispositivo di origine a questo contesto di dispositivo corrente.

```
BOOL BitBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    DWORD dwRop);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo di destinazione.

*y*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo di destinazione.

*nWidth*<br/>
Specifica la larghezza (in unità logiche) del rettangolo di destinazione e della bitmap di origine.

*nHeight*<br/>
Specifica l'altezza (in unità logiche) del rettangolo di destinazione e della bitmap di origine.

*pSrcDC*<br/>
Puntatore a un `CDC` oggetto che identifica il contesto di dispositivo da cui verrà copiata la bitmap. Deve essere NULL se *dwRop* specifica un'operazione raster che non include un'origine.

*xSrc*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro della bitmap di origine.

*ySrc*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro della bitmap di origine.

*dwRop*<br/>
Specifica l'operazione raster da eseguire. I codici di operazioni raster definiscono il modo in cui GDI combina i colori nelle operazioni di output che coinvolgono un pennello corrente, una possibile bitmap di origine e una bitmap di destinazione. Vedere [BitBlt](/windows/win32/api/wingdi/nf-wingdi-bitblt) nel Windows SDK per un elenco dei codici delle operazioni raster per *dwRop* e le relative descrizioni

Per un elenco completo dei codici operativi raster, vedere [informazioni sui codici operativi raster](/windows/win32/gdi/raster-operation-codes) nel Windows SDK.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

L'applicazione può allineare le aree di Windows o client sui limiti di byte per garantire che le `BitBlt` operazioni vengano eseguite sui rettangoli allineati a byte. Impostare i flag di CS_BYTEALIGNWINDOW o CS_BYTEALIGNCLIENT quando si registrano le classi di finestra.

`BitBlt`le operazioni sui rettangoli allineati a byte sono molto più veloci rispetto `BitBlt` alle operazioni sui rettangoli che non sono allineati a byte. Se si desidera specificare stili di classe come l'allineamento dei byte per il proprio contesto di dispositivo, sarà necessario registrare una classe della finestra anziché basarsi sulle classi Microsoft Foundation per eseguire questa operazione. Usare la funzione globale [AfxRegisterWndClass](../../mfc/reference/application-information-and-management.md#afxregisterwndclass).

GDI trasforma *nWidth* e *nHeight*, una volta usando il contesto di dispositivo di destinazione e una volta usando il contesto del dispositivo di origine. Se gli extent risultanti non corrispondono, GDI utilizza la funzione Windows `StretchBlt` per comprimere o allungare la bitmap di origine in base alle esigenze.

Se le bitmap di destinazione, origine e modello non hanno lo stesso formato di colore, la `BitBlt` funzione converte le bitmap di origine e modello in modo che corrispondano alla destinazione. I colori di primo piano e di sfondo della bitmap di destinazione vengono utilizzati nella conversione.

Quando la `BitBlt` funzione converte una bitmap monocromatica in colore, imposta i bit bianchi (1) sul colore di sfondo e i bit neri (0) sul colore di primo piano. Vengono utilizzati i colori di primo piano e di sfondo del contesto di dispositivo di destinazione. Per convertire il colore in monocromatico, `BitBlt` imposta i pixel che corrispondono al colore di sfondo al bianco e imposta tutti gli altri pixel su nero. `BitBlt`USA i colori di primo piano e di sfondo del contesto di dispositivo colore per eseguire la conversione da colore a monocromatico.

Si noti che non tutti i contesti di dispositivo supportano `BitBlt` . Per verificare se un determinato contesto di dispositivo supporta `BitBlt` , usare la `GetDeviceCaps` funzione membro e specificare l'indice RASTERCAPS.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: CreateCompatibleDC](#createcompatibledc).

## <a name="cdccdc"></a><a name="cdc"></a>CDC:: CDC

Costruisce un oggetto `CDC`.

```
CDC();
```

## <a name="cdcchord"></a><a name="chord"></a>CDC:: Chord

Disegna una corda (una figura chiusa delimitata dall'intersezione tra un'ellisse e un segmento di linea).

```
BOOL Chord(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Chord(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x dell'angolo superiore sinistro del rettangolo di delimitazione del Chord (in unità logiche).

*Y1*<br/>
Specifica la coordinata y dell'angolo superiore sinistro del rettangolo di delimitazione del Chord (in unità logiche).

*X2*<br/>
Specifica la coordinata x dell'angolo inferiore destro del rettangolo di delimitazione dell'accordo (in unità logiche).

*Y2*<br/>
Specifica la coordinata y dell'angolo inferiore destro del rettangolo di delimitazione dell'accordo (in unità logiche).

*X3*<br/>
Specifica la coordinata x del punto che definisce il punto iniziale della corda (in unità logiche).

*Y3*<br/>
Specifica la coordinata y del punto che definisce il punto iniziale della corda (in unità logiche).

*X4*<br/>
Specifica la coordinata x del punto che definisce l'endpoint dell'accordo (in unità logiche).

*Y4*<br/>
Specifica la coordinata y del punto che definisce l'endpoint dell'accordo (in unità logiche).

*lpRect*<br/>
Specifica il rettangolo di delimitazione (in unità logiche). È possibile passare un oggetto LPRECT o un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

*ptStart*<br/>
Specifica le coordinate x e y del punto che definisce il punto iniziale della corda (in unità logiche). Non è necessario che questo punto si trovi esattamente nella corda. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

*ptEnd*<br/>
Specifica le coordinate x e y del punto che definisce il punto finale della corda (in unità logiche). Non è necessario che questo punto si trovi esattamente nella corda. Per questo parametro è possibile passare una struttura [Point](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

I parametri ( *X1*, *Y1*) e ( *X2*, *Y2*) specificano rispettivamente gli angoli superiore sinistro e inferiore destro di un rettangolo che delimita l'ellisse che fa parte della corda. I parametri ( *X3*, *Y3*) e ( *X4*, *Y4*) specificano gli endpoint di una riga che interseca l'ellisse. La corda viene disegnata utilizzando la penna selezionata e riempita utilizzando il pennello selezionato.

La figura disegnata dalla `Chord` funzione si estende fino a, ma non include le coordinate giuste e inferiori. Ciò significa che l'altezza della figura è *Y2*  -  *Y1* e la larghezza della figura è *X2*  -  *X1*.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#31](../../mfc/codesnippet/cpp/cdc-class_3.cpp)]

## <a name="cdcclosefigure"></a><a name="closefigure"></a>CDC:: CloseFigure

Chiude una figura aperta in un percorso.

```
BOOL CloseFigure();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La funzione chiude la figura disegnando una linea dalla posizione corrente fino al primo punto della figura, in genere il punto specificato dalla chiamata più recente alla `MoveTo` funzione membro, e connette le linee usando lo stile di aggiunta a linee. Se una figura viene chiusa usando la `LineTo` funzione membro anziché, i `CloseFigure` tappi finali vengono usati per creare l'angolo anziché un join. `CloseFigure`deve essere chiamato solo se è presente una parentesi quadra aperta nel contesto di dispositivo.

Una figura in un percorso è aperta a meno che non venga chiusa in modo esplicito tramite questa funzione. Una figura può essere aperta anche se il punto corrente e il punto iniziale della figura sono uguali. Qualsiasi riga o curva aggiunta al percorso dopo l' `CloseFigure` avvio di una nuova figura.

## <a name="cdccreatecompatibledc"></a><a name="createcompatibledc"></a>CDC:: CreateCompatibleDC

Crea un contesto di dispositivo di memoria compatibile con il dispositivo specificato da *PDC*.

```
BOOL CreateCompatibleDC(CDC* pDC);
```

### <a name="parameters"></a>Parametri

*pDC*<br/>
Puntatore a un contesto di dispositivo. Se *PDC* è null, la funzione crea un contesto di dispositivo di memoria compatibile con la visualizzazione del sistema.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Un contesto di dispositivo di memoria è un blocco di memoria che rappresenta una superficie di visualizzazione. Può essere usato per preparare le immagini in memoria prima di copiarle nell'effettiva superficie del dispositivo compatibile.

Quando viene creato un contesto di dispositivo di memoria, GDI seleziona automaticamente una bitmap di stock monocromatica 1 per 1. Le funzioni di output GDI possono essere utilizzate con un contesto di dispositivo di memoria solo se è stata creata e selezionata una bitmap in tale contesto.

Questa funzione può essere usata solo per creare contesti di dispositivo compatibili per i dispositivi che supportano le operazioni raster. Per informazioni relative ai trasferimenti di blocchi di bit tra contesti di dispositivo, vedere la funzione membro [CDC:: BitBlt](#bitblt) . Per determinare se un contesto di dispositivo supporta le operazioni raster, vedere la RC_BITBLT funzionalità raster nella funzione membro `CDC::GetDeviceCaps` .

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#32](../../mfc/codesnippet/cpp/cdc-class_4.cpp)]

## <a name="cdccreatedc"></a><a name="createdc"></a>CDC:: CreateDC

Crea un contesto di dispositivo per il dispositivo specificato.

```
BOOL CreateDC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>Parametri

*lpszDriverName*<br/>
Punta a una stringa con terminazione null che specifica il nome file (senza estensione) del driver di dispositivo (ad esempio, "EPSON"). È anche possibile passare un `CString` oggetto per questo parametro.

*lpszDeviceName*<br/>
Punta a una stringa con terminazione null che specifica il nome del dispositivo specifico da supportare, ad esempio "EPSON FX-80". Il parametro *lpszDeviceName* viene usato se il modulo supporta più di un dispositivo. È anche possibile passare un `CString` oggetto per questo parametro.

*lpszOutput*<br/>
Punta a una stringa con terminazione null che specifica il nome del file o del dispositivo per il supporto di output fisico (file o porta di output). È anche possibile passare un `CString` oggetto per questo parametro.

*lpInitData*<br/>
Punta a una `DEVMODE` struttura che contiene i dati di inizializzazione specifici del dispositivo per il driver di dispositivo. La `DocumentProperties` funzione Windows recupera la struttura compilata per un determinato dispositivo. Il parametro *lpInitData* deve essere null se il driver di dispositivo utilizza l'inizializzazione predefinita, se presente, specificata dall'utente tramite il pannello di controllo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

STAMPA. Il file di intestazione H è obbligatorio se si usa la struttura [DEVMODE](/windows/win32/api/wingdi/ns-wingdi-devmodea) .

I nomi dei dispositivi seguono le convenzioni seguenti: i due punti finali (:) è consigliato, ma facoltativo. Windows rimuove i due punti finali in modo che il nome di un dispositivo che termina con i due punti venga mappato alla stessa porta con lo stesso nome senza i due punti. I nomi di porta e di driver non devono contenere spazi iniziali o finali. Non è possibile usare le funzioni di output GDI con contesti di informazioni.

## <a name="cdccreateic"></a><a name="createic"></a>CDC:: create

Crea un contesto delle informazioni per il dispositivo specificato.

```
BOOL CreateIC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>Parametri

*lpszDriverName*<br/>
Punta a una stringa con terminazione null che specifica il nome file (senza estensione) del driver di dispositivo (ad esempio, "EPSON"). È possibile passare un `CString` oggetto per questo parametro.

*lpszDeviceName*<br/>
Punta a una stringa con terminazione null che specifica il nome del dispositivo specifico da supportare, ad esempio "EPSON FX-80". Il parametro *lpszDeviceName* viene usato se il modulo supporta più di un dispositivo. È possibile passare un `CString` oggetto per questo parametro.

*lpszOutput*<br/>
Punta a una stringa con terminazione null che specifica il nome del file o del dispositivo per il supporto di output fisico (file o porta). È possibile passare un `CString` oggetto per questo parametro.

*lpInitData*<br/>
Punta ai dati di inizializzazione specifici del dispositivo per il driver di dispositivo. Il parametro *lpInitData* deve essere null se il driver di dispositivo utilizza l'inizializzazione predefinita, se presente, specificata dall'utente tramite il pannello di controllo. Vedere `CreateDC` per il formato dati per l'inizializzazione specifica del dispositivo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Il contesto delle informazioni fornisce un modo rapido per ottenere informazioni sul dispositivo senza creare un contesto di dispositivo.

I nomi dei dispositivi seguono le convenzioni seguenti: i due punti finali (:) è consigliato, ma facoltativo. Windows rimuove i due punti finali in modo che il nome di un dispositivo che termina con i due punti venga mappato alla stessa porta con lo stesso nome senza i due punti. I nomi di porta e di driver non devono contenere spazi iniziali o finali. Non è possibile usare le funzioni di output GDI con contesti di informazioni.

## <a name="cdcdeletedc"></a><a name="deletedc"></a>CDC::D eleteDC

In generale, non chiamare questa funzione; il distruttore eseguirà questa operazione.

```
BOOL DeleteDC();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione è stata completata correttamente; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La `DeleteDC` funzione membro Elimina i contesti di dispositivo Windows associati a `m_hDC` nell' `CDC` oggetto corrente. Se questo `CDC` oggetto è l'ultimo contesto di dispositivo attivo per un determinato dispositivo, il dispositivo viene informato e tutte le risorse di archiviazione e di sistema usate dal dispositivo vengono rilasciate.

Un'applicazione non deve chiamare `DeleteDC` se gli oggetti sono stati selezionati nel contesto di dispositivo. Prima di essere eliminati, gli oggetti devono essere selezionati prima del contesto di dispositivo.

Un'applicazione non deve eliminare un contesto di dispositivo il cui handle è stato ottenuto chiamando [CWnd:: GetDC](../../mfc/reference/cwnd-class.md#getdc). Al contrario, deve chiamare [CWnd:: ReleaseDC](../../mfc/reference/cwnd-class.md#releasedc) per liberare il contesto di dispositivo. Per eseguire il wrapping di questa funzionalità, vengono fornite le classi [CClientDC](../../mfc/reference/cclientdc-class.md) e [CWindowDC](../../mfc/reference/cwindowdc-class.md) .

La `DeleteDC` funzione viene in genere usata per eliminare i contesti di dispositivo creati con [CreateDC](#createdc), [create](#createic), o [CreateCompatibleDC](#createcompatibledc).

### <a name="example"></a>Esempio

  Vedere l'esempio per [CPrintDialog:: GetPrinterDC](../../mfc/reference/cprintdialog-class.md#getprinterdc).

## <a name="cdcdeletetempmap"></a><a name="deletetempmap"></a>CDC::D eleteTempMap

Chiamato automaticamente dal `CWinApp` gestore del tempo di inattività, `DeleteTempMap` Elimina tutti `CDC` gli oggetti temporanei creati da `FromHandle` , ma non elimina definitivamente gli handle del contesto `hDC` di dispositivo associati agli `CDC` oggetti.

```
static void PASCAL DeleteTempMap();
```

## <a name="cdcdetach"></a><a name="detach"></a>CDC::D etach

Chiamare questa funzione per scollegare `m_hDC` (il contesto di dispositivo di output) dall' `CDC` oggetto e impostare sia `m_hDC` che `m_hAttribDC` su null.

```
HDC Detach();
```

### <a name="return-value"></a>Valore restituito

Contesto di dispositivo Windows.

## <a name="cdcdptohimetric"></a><a name="dptohimetric"></a>CDC::D PtoHIMETRIC

Usare questa funzione quando si assegnano dimensioni HIMETRIC a OLE, convertendo i pixel in HIMETRIC.

```cpp
void DPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*lpSize*<br/>
Punta a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) o a un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

Se la modalità di mapping dell'oggetto contesto di dispositivo è MM_LOENGLISH, MM_HIENGLISH, MM_LOMETRIC o MM_HIMETRIC, la conversione è basata sul numero di pixel in pollici fisici. Se la modalità di mapping è una delle altre modalità non vincolate (ad esempio, MM_TEXT), la conversione è basata sul numero di pixel nel pollice logico.

## <a name="cdcdptolp"></a><a name="dptolp"></a>CDC::D PtoLP

Converte le unità del dispositivo in unità logiche.

```cpp
void DPtoLP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void DPtoLP(LPRECT lpRect) const;
void DPtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture [Point](/windows/win32/api/windef/ns-windef-point) o di oggetti [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*nCount*<br/>
Numero di punti nella matrice.

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) . Questo parametro viene usato per il semplice caso di conversione di un rettangolo da punti di dispositivo a punti logici.

*lpSize*<br/>
Punta a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) o a un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

La funzione esegue il mapping delle coordinate di ogni punto o dimensione di una dimensione dal sistema di coordinate del dispositivo nel sistema di coordinate logico di GDI. La conversione dipende dalla modalità di mapping corrente e dalle impostazioni delle origini e degli extent per la finestra e il viewport del dispositivo.

## <a name="cdcdraw3drect"></a><a name="draw3drect"></a>CDC::D raw3dRect

Chiamare questa funzione membro per creare un rettangolo tridimensionale.

```cpp
void Draw3dRect(
    LPCRECT lpRect,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);

void Draw3dRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Specifica il rettangolo di delimitazione (in unità logiche). È possibile passare un puntatore a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

*clrTopLeft*<br/>
Specifica il colore dei lati superiore e sinistro del rettangolo tridimensionale.

*clrBottomRight*<br/>
Specifica il colore dei lati inferiore e destro del rettangolo tridimensionale.

*x*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo tridimensionale.

*y*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo tridimensionale.

*CX*<br/>
Specifica la larghezza del rettangolo tridimensionale.

*CY*<br/>
Specifica l'altezza del rettangolo tridimensionale.

### <a name="remarks"></a>Osservazioni

Il rettangolo verrà disegnato con i lati superiore e sinistro nel colore specificato da *clrTopLeft* e i lati inferiore e destro del colore specificato da *clrBottomRight*.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#33](../../mfc/codesnippet/cpp/cdc-class_5.cpp)]

## <a name="cdcdrawdragrect"></a><a name="drawdragrect"></a>CDC::D rawDragRect

Chiamare ripetutamente questa funzione membro per ricreare un rettangolo di trascinamento.

```cpp
void DrawDragRect(
    LPCRECT lpRect,
    SIZE size,
    LPCRECT lpRectLast,
    SIZE sizeLast,
    CBrush* pBrush = NULL,
    CBrush* pBrushLast = NULL);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che specifica le coordinate logiche di un rettangolo, in questo caso la posizione finale del rettangolo da ricreare.

*size*<br/>
Consente di specificare lo spostamento dall'angolo superiore sinistro del bordo esterno all'angolo superiore sinistro del bordo interno (ovvero lo spessore del bordo) di un rettangolo.

*lpRectLast*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che specifica le coordinate logiche della posizione di un rettangolo, in questo caso la posizione originale del rettangolo da ricreare.

*sizeLast*<br/>
Specifica lo spostamento dall'angolo superiore sinistro del bordo esterno all'angolo superiore sinistro del bordo interno (ovvero lo spessore del bordo) del rettangolo originale di cui è in corso il ridisegnato.

*pBrush*<br/>
Puntatore a un oggetto Brush. Impostare su NULL per utilizzare il pennello predefinito per i mezzitoni.

*pBrushLast*<br/>
Puntatore all'ultimo oggetto Brush utilizzato. Impostare su NULL per utilizzare il pennello predefinito per i mezzitoni.

### <a name="remarks"></a>Osservazioni

Chiamarlo in un ciclo mentre si campiona la posizione del mouse, in modo da ottenere commenti visivi. Quando si chiama `DrawDragRect` , il rettangolo precedente viene cancellato e ne viene creato uno nuovo. Ad esempio, quando l'utente trascina un rettangolo sullo schermo, `DrawDragRect` cancellerà il rettangolo originale e ne ritrarrà uno nuovo nella nuova posizione. Per impostazione predefinita, `DrawDragRect` Disegna il rettangolo usando un pennello a mezzitoni per eliminare lo sfarfallio e per creare l'aspetto di un rettangolo a spostamenti uniformi.

La prima volta che si chiama `DrawDragRect` , il parametro *lpRectLast* deve essere null.

## <a name="cdcdrawedge"></a><a name="drawedge"></a>CDC::D rawEdge

Chiamare questa funzione membro per creare i bordi di un rettangolo del tipo e dello stile specificati.

```
BOOL DrawEdge(
    LPRECT lpRect,
    UINT nEdge,
    UINT nFlags);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Puntatore a una `RECT` struttura che contiene le coordinate logiche del rettangolo.

*nEdge*<br/>
Specifica il tipo di bordo interno ed esterno da creare. Questo parametro deve essere una combinazione di un flag di bordo interno e un flag di bordo esterno. Vedere [DrawEdge](/windows/win32/api/winuser/nf-winuser-drawedge) nel Windows SDK per una tabella dei tipi di parametro.

*nFlags*<br/>
Flag che specificano il tipo di bordo da disegnare. Vedere `DrawEdge` nel Windows SDK per una tabella dei valori del parametro. Per le linee diagonali, i flag di BF_RECT specificano il punto finale del vettore associato al parametro Rectangle.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

## <a name="cdcdrawescape"></a><a name="drawescape"></a>CDC::D rawEscape

Accede alle funzionalità di disegno di una visualizzazione video che non sono direttamente disponibili tramite GDI (Graphics Device Interface).

```
int DrawEscape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData);
```

### <a name="parameters"></a>Parametri

*nEscape*<br/>
Specifica la funzione di escape da eseguire.

*nInputSize*<br/>
Specifica il numero di byte di dati a cui punta il parametro *lpszInputData* .

*lpszInputData*<br/>
Punta alla struttura di input necessaria per l'escape specificato.

### <a name="return-value"></a>Valore restituito

Specifica il risultato della funzione. Maggiore di zero se ha esito positivo, ad eccezione dell'escape di QUERYESCSUPPORT di estrazione, che controlla solo l'implementazione; o zero se l'escape non è implementato. o minore di zero se si è verificato un errore.

### <a name="remarks"></a>Osservazioni

Quando un'applicazione chiama `DrawEscape` , i dati identificati da *NInputSize* e *lpszInputData* vengono passati direttamente al driver di visualizzazione specificato.

## <a name="cdcdrawfocusrect"></a><a name="drawfocusrect"></a>CDC::D rawFocusRect

Disegna un rettangolo nello stile utilizzato per indicare che il rettangolo dispone dello stato attivo.

```cpp
void DrawFocusRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che specifica le coordinate logiche del rettangolo da disegnare.

### <a name="remarks"></a>Osservazioni

Poiché si tratta di una funzione XOR booleana, la chiamata di questa funzione una seconda volta con lo stesso rettangolo rimuove il rettangolo dalla visualizzazione. Il rettangolo disegnato da questa funzione non può essere spostato. Per scorrere un'area contenente un rettangolo disegnato da questa funzione, chiamare prima `DrawFocusRect` per rimuovere il rettangolo dalla visualizzazione, quindi scorrere l'area e quindi chiamare `DrawFocusRect` di nuovo per disegnare il rettangolo nella nuova posizione.

> [!CAUTION]
> `DrawFocusRect`funziona solo in modalità MM_TEXT. In altre modalità, questa funzione non consente di creare correttamente il rettangolo di attivazione, ma non restituisce i valori di errore.

## <a name="cdcdrawframecontrol"></a><a name="drawframecontrol"></a>CDC::D rawFrameControl

Chiamare questa funzione membro per creare un controllo frame del tipo e dello stile specificati.

```
BOOL DrawFrameControl(
    LPRECT lpRect,
    UINT nType,
    UINT nState);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Puntatore a una `RECT` struttura che contiene le coordinate logiche del rettangolo.

*nType*<br/>
Specifica il tipo di controllo frame da creare. Per un elenco dei valori possibili di questo parametro, vedere il parametro *uType* in [DrawFrameControl](/windows/win32/api/winuser/nf-winuser-drawframecontrol) nella Windows SDK.

*nState*<br/>
Specifica lo stato iniziale del controllo frame. Può essere uno o più valori descritti per il parametro *uState* in `DrawFrameControl` nell'Windows SDK. Usare il valore *nState* DFCS_ADJUSTRECT per modificare il rettangolo di delimitazione in modo da escludere il bordo circostante del pulsante di push.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

In molti casi, *nState* dipende dal parametro *nType* . Nell'elenco seguente viene illustrata la relazione tra i quattro valori *nType* e *nState*:

- DFC_BUTTON

  - DFCS_BUTTON3STATE pulsante a tre Stati

  - Casella di controllo DFCS_BUTTONCHECK

  - Pulsante di DFCS_BUTTONPUSH push

  - Pulsante di opzione DFCS_BUTTONRADIO

  - DFCS_BUTTONRADIOIMAGE immagine per il pulsante di opzione (immagine di richiesta non quadrata)

  - Maschera DFCS_BUTTONRADIOMASK per il pulsante di opzione (maschera richiesta non quadrata)

- DFC_CAPTION

  - Pulsante Chiudi DFCS_CAPTIONCLOSE

  - Pulsante della Guida DFCS_CAPTIONHELP

  - Pulsante Ingrandisci DFCS_CAPTIONMAX

  - Pulsante Riduci a icona DFCS_CAPTIONMIN

  - Pulsante ripristino DFCS_CAPTIONRESTORE

- DFC_MENU

  - DFCS_MENUARROW freccia del sottomenu

  - Punto di DFCS_MENUBULLET

  - Segno di spunta DFCS_MENUCHECK

- DFC_SCROLL

  - Barra di scorrimento della casella combinata DFCS_SCROLLCOMBOBOX

  - DFCS_SCROLLDOWN freccia giù della barra di scorrimento

  - DFCS_SCROLLLEFT freccia sinistra della barra di scorrimento

  - DFCS_SCROLLRIGHT freccia destra della barra di scorrimento

  - Grip dimensioni DFCS_SCROLLSIZEGRIP nell'angolo inferiore destro della finestra

  - DFCS_SCROLLUP freccia su della barra di scorrimento

### <a name="example"></a>Esempio

Questo codice disegna il pinza di ridimensionamento nell'angolo inferiore destro della finestra. È appropriato per il `OnPaint` gestore di una finestra di dialogo, che non ha stili e che in genere non contiene altri controlli, ad esempio una barra di stato, che potrebbero assegnare a tale finestra una pinza di dimensioni.

[!code-cpp[NVC_MFCDocView#34](../../mfc/codesnippet/cpp/cdc-class_6.cpp)]

## <a name="cdcdrawicon"></a><a name="drawicon"></a>CDC::D rawIcon

Disegna un'icona sul dispositivo rappresentato dall' `CDC` oggetto corrente.

```
BOOL DrawIcon(
    int x,
    int y,
    HICON hIcon);

BOOL DrawIcon(
    POINT point,
    HICON hIcon);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro dell'icona.

*y*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro dell'icona.

*hIcon*<br/>
Identifica l'handle dell'icona da disegnare.

*punto*<br/>
Specifica le coordinate x e y logiche dell'angolo superiore sinistro dell'icona. Per questo parametro è possibile passare una struttura [Point](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione è stata completata correttamente; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La funzione posiziona l'angolo superiore sinistro dell'icona nella posizione specificata da *x* e *y*. Il percorso è soggetto alla modalità di mapping corrente del contesto di dispositivo.

È necessario che la risorsa icona sia stata caricata in precedenza usando le funzioni `CWinApp::LoadIcon` , `CWinApp::LoadStandardIcon` o `CWinApp::LoadOEMIcon` . `MM_TEXT`Prima di utilizzare questa funzione, è necessario selezionare la modalità di mapping.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CWnd:: l'icona](../../mfc/reference/cwnd-class.md#isiconic).

## <a name="cdcdrawstate"></a><a name="drawstate"></a>CDC::D rawState

Chiamare questa funzione membro per visualizzare un'immagine e applicare un effetto visivo per indicare uno stato, ad esempio uno stato disabilitato o predefinito.

> [!NOTE]
> Per tutti gli stati *nFlag* ad eccezione di DSS_NORMAL, l'immagine viene convertita in monocromatico prima che venga applicato l'effetto visivo.

```
BOOL DrawState(
    CPoint pt,
    CSize size,
    HBITMAP hBitmap,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    CBitmap* pBitmap,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    CBrush* pBrush = NULL);
```

### <a name="parameters"></a>Parametri

*PT*<br/>
Specifica il percorso dell'immagine.

*size*<br/>
Specifica la dimensione dell'immagine.

*hBitmap*<br/>
Handle per una bitmap.

*nFlags*<br/>
Flag che specificano il tipo di immagine e lo stato. Vedere [DrawState](/windows/win32/api/winuser/nf-winuser-drawstatew) nel Windows SDK per i tipi e gli stati *nFlags* possibili.

*hBrush*<br/>
Handle per un pennello.

*pBitmap*<br/>
Puntatore a un oggetto CBitmap.

*pBrush*<br/>
Puntatore a un oggetto CBrush.

*hIcon*<br/>
Handle per un'icona.

*lpszText*<br/>
Puntatore al testo.

*bPrefixText*<br/>
Testo che può contenere un tasto di scelta rapida. Il parametro *lData* specifica l'indirizzo della stringa e il parametro *nTextLen* specifica la lunghezza. Se *nTextLen* è 0, si presuppone che la stringa sia con terminazione null.

*nTextLen*<br/>
Lunghezza della stringa di testo a cui punta *lpszText*. Se *nTextLen* è 0, si presuppone che la stringa sia con terminazione null.

*lpDrawProc*<br/>
Puntatore a una funzione di callback utilizzata per eseguire il rendering di un'immagine. Questo parametro è obbligatorio se il tipo di immagine in *nFlags* è DST_COMPLEX. È facoltativo e può essere NULL se il tipo di immagine è DST_TEXT. Per tutti gli altri tipi di immagine, questo parametro viene ignorato. Per ulteriori informazioni sulla funzione di callback, vedere la funzione [DrawStateProc](/windows/win32/api/winuser/nc-winuser-drawstateproc) nella Windows SDK.

*lData*<br/>
Specifica le informazioni sull'immagine. Il significato di questo parametro dipende dal tipo di immagine.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

## <a name="cdcdrawtext"></a><a name="drawtext"></a>CDC::D rawText

Chiamare questa funzione membro per formattare il testo nel rettangolo specificato. Per specificare opzioni di formattazione aggiuntive, utilizzare [CDC::D rawtextex](#drawtextex).

```
virtual int DrawText(
    LPCTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat);

int DrawText(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat);
```

### <a name="parameters"></a>Parametri

*lpszString*<br/>
Punta alla stringa da disegnare. Se *nCount* è-1, la stringa deve essere con terminazione null.

*nCount*<br/>
Specifica il numero di caratteri nella stringa. Se *nCount* è-1, si presuppone che *lpszString* sia un puntatore lungo a una stringa con terminazione null e `DrawText` Calcola automaticamente il numero di caratteri.

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che contiene il rettangolo (in coordinate logiche) in cui deve essere formattato il testo.

*str*<br/>
Oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) contenente i caratteri specificati da disegnare.

*nFormat*<br/>
Specifica il metodo di formattazione del testo. Può essere qualsiasi combinazione dei valori descritti per il parametro *UFormat* in [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext) nel Windows SDK. (combinare utilizzando l'operatore OR bit per bit):

> [!NOTE]
> Alcune combinazioni di flag *UFormat* possono causare la modifica della stringa passata. L'uso di DT_MODIFYSTRING con DT_END_ELLIPSIS o DT_PATH_ELLIPSIS può causare la modifica della stringa, causando un'asserzione nell' `CString` override. I valori DT_CALCRECT, DT_EXTERNALLEADING, DT_INTERNAL, DT_NOCLIP e DT_NOPREFIX non possono essere usati con il valore di DT_TABSTOP.

### <a name="return-value"></a>Valore restituito

Altezza del testo se la funzione ha esito positivo.

### <a name="remarks"></a>Osservazioni

Formatta il testo espandendo le tabulazioni in spazi appropriati, allineando il testo a sinistra, a destra o al centro del rettangolo specificato e suddividendo il testo in linee che rientrano nel rettangolo specificato. Il tipo di formattazione è specificato da *nFormat*.

Questa funzione membro usa il tipo di carattere, il colore del testo e il colore di sfondo selezionati del contesto di dispositivo per creare il testo. A meno che non venga usato il formato di DT_NOCLIP, il testo viene ritagliato in `DrawText` modo che il testo non venga visualizzato all'esterno del rettangolo specificato. Si presuppone che tutte le formattazioni abbiano più righe, a meno che non venga specificato il formato DT_SINGLELINE.

Se il tipo di carattere selezionato è troppo grande per il rettangolo specificato, la `DrawText` funzione membro non tenta di sostituire un tipo di carattere più piccolo.

Se viene specificato il flag di DT_CALCRECT, il rettangolo specificato da *lpRect* verrà aggiornato in modo da riflettere la larghezza e l'altezza necessarie per tracciare il testo.

Se è stato impostato il flag di allineamento del testo TA_UPDATECP (vedere [CDC:: setTextAlign](#settextalign)), visualizzerà il `DrawText` testo a partire dalla posizione corrente, anziché a sinistra del rettangolo specificato. `DrawText`non esegue il wrapping del testo quando è stato impostato il flag di TA_UPDATECP (ovvero, il flag DT_WORDBREAK non avrà alcun effetto).

Il colore del testo può essere impostato da [CDC:: SetTextColor](#settextcolor).

## <a name="cdcdrawtextex"></a><a name="drawtextex"></a>CDC::D rawTextEx

Formatta il testo nel rettangolo specificato.

```
virtual int DrawTextEx(
    LPTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);

int DrawTextEx(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);
```

### <a name="parameters"></a>Parametri

*lpszString*<br/>
Punta alla stringa da disegnare. Se *nCount* è-1, la stringa deve essere con terminazione null.

*nCount*<br/>
Specifica il numero di caratteri nella stringa. Se *nCount* è-1, si presuppone che *lpszString* sia un puntatore lungo a una stringa con terminazione null e `DrawText` Calcola automaticamente il numero di caratteri.

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che contiene il rettangolo (in coordinate logiche) in cui deve essere formattato il testo.

*str*<br/>
Oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) contenente i caratteri specificati da disegnare.

*nFormat*<br/>
Specifica il metodo di formattazione del testo. Può essere qualsiasi combinazione dei valori descritti per il parametro *UFormat* in [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext) nel Windows SDK. (Combinare utilizzando **l'operatore OR** bit per bit):

> [!NOTE]
> Alcune combinazioni di flag *UFormat* possono causare la modifica della stringa passata. L'uso di DT_MODIFYSTRING con DT_END_ELLIPSIS o DT_PATH_ELLIPSIS può causare la modifica della stringa, causando un'asserzione nell' `CString` override. I valori DT_CALCRECT, DT_EXTERNALLEADING, DT_INTERNAL, DT_NOCLIP e DT_NOPREFIX non possono essere usati con il valore di DT_TABSTOP.

*lpDTParams*<br/>
Puntatore a una struttura [DRAWTEXTPARAMS](/windows/win32/api/winuser/ns-winuser-drawtextparams) che specifica le opzioni di formattazione aggiuntive. Questo parametro può essere NULL.

### <a name="remarks"></a>Osservazioni

Formatta il testo espandendo le tabulazioni in spazi appropriati, allineando il testo a sinistra, a destra o al centro del rettangolo specificato e suddividendo il testo in linee che rientrano nel rettangolo specificato. Il tipo di formattazione è specificato da *nFormat* e *lpDTParams*. Per ulteriori informazioni, vedere [CDC::D rawtext](#drawtext) e [DrawTextEx](/windows/win32/api/winuser/nf-winuser-drawtextexw) nel Windows SDK.

Il colore del testo può essere impostato da [CDC:: SetTextColor](#settextcolor).

## <a name="cdcellipse"></a><a name="ellipse"></a>CDC:: Ellipse

Disegna un ellisse.

```
BOOL Ellipse(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Ellipse(LPCRECT lpRect);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo di delimitazione dell'ellisse.

*Y1*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo di delimitazione dell'ellisse.

*X2*<br/>
Specifica la coordinata x logica dell'angolo inferiore destro del rettangolo di delimitazione dell'ellisse.

*Y2*<br/>
Specifica la coordinata y logica dell'angolo inferiore destro del rettangolo di delimitazione dell'ellisse.

*lpRect*<br/>
Specifica il rettangolo di delimitazione dell'ellisse. È anche possibile passare un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il centro dell'ellisse è il centro del rettangolo di delimitazione specificato da *X1*, *Y1*, *X2*e *Y2*, o *lpRect*. L'ellisse viene disegnata con la penna corrente e la relativa parte interna viene riempita con il pennello corrente.

La figura disegnata da questa funzione si estende fino a, ma non include, le coordinate giuste e inferiori. Ciò significa che l'altezza della figura è *Y2*  -  *Y1* e la larghezza della figura è *X2*  -  *X1*.

Se la larghezza o l'altezza del rettangolo di delimitazione è 0, non viene disegnato alcun ellisse.

## <a name="cdcenddoc"></a><a name="enddoc"></a>CDC:: EndDoc

Termina un processo di stampa avviato da una chiamata alla funzione membro [StartDoc](#startdoc) .

```
int EndDoc();
```

### <a name="return-value"></a>Valore restituito

Maggiore o uguale a 0 se la funzione ha esito positivo o un valore negativo se si è verificato un errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro sostituisce l'escape della stampante ENDDOC e deve essere chiamata immediatamente dopo il completamento di un processo di stampa.

Se un'applicazione rileva un errore di stampa o un'operazione di stampa annullata, non deve tentare di terminare l'operazione utilizzando `EndDoc` o [AbortDoc](#abortdoc). L'operazione viene terminata automaticamente da GDI prima di restituire il valore di errore.

Questa funzione non deve essere usata all'interno di metafile.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: StartDoc](#startdoc).

## <a name="cdcendpage"></a><a name="endpage"></a>CDC:: EndPage

Informa il dispositivo che l'applicazione ha terminato la scrittura in una pagina.

```
int EndPage();
```

### <a name="return-value"></a>Valore restituito

Maggiore o uguale a 0 se la funzione ha esito positivo o un valore negativo se si è verificato un errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro viene in genere usata per indicare al driver di dispositivo di passare a una nuova pagina.

Questa funzione membro sostituisce l'escape della stampante NEWFRAME. A differenza di NEWFRAME, questa funzione viene sempre chiamata dopo la stampa di una pagina.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: StartDoc](#startdoc).

## <a name="cdcendpath"></a><a name="endpath"></a>CDC:: EndPath

Chiude una parentesi del percorso e seleziona il percorso definito dalla parentesi nel contesto di dispositivo.

```
BOOL EndPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: BeginPath](#beginpath).

## <a name="cdcenumobjects"></a><a name="enumobjects"></a>CDC:: EnumObjects

Enumera le penne e i pennelli disponibili in un contesto di dispositivo.

```
int EnumObjects(
    int nObjectType,
    int (CALLBACK* lpfn)(
    LPVOID,
    LPARAM),
    LPARAM lpData);
```

### <a name="parameters"></a>Parametri

*nObjectType*<br/>
Specifica il tipo di oggetto. Può contenere i valori OBJ_BRUSH o OBJ_PEN.

*lpfn*<br/>
È l'indirizzo dell'istanza della routine della funzione di callback fornita dall'applicazione. Vedere la sezione "osservazioni" riportata di seguito.

*lpData*<br/>
Punta ai dati forniti dall'applicazione. I dati vengono passati alla funzione di callback insieme alle informazioni sull'oggetto.

### <a name="return-value"></a>Valore restituito

Specifica l'ultimo valore restituito dalla [funzione di callback](callback-functions-used-by-mfc.md#enum_objects). Il suo significato è definito dall'utente.

### <a name="remarks"></a>Osservazioni

Per ogni oggetto di un tipo specificato, la funzione di callback passata viene chiamata con le informazioni relative a tale oggetto. Il sistema chiama la funzione di callback fino a quando non sono presenti altri oggetti o la funzione di callback restituisce 0.

Si noti che le nuove funzionalità di Microsoft Visual C++ consentono di usare una funzione ordinaria come la funzione passata a `EnumObjects` . L'indirizzo passato a `EnumObjects` è un puntatore a una funzione esportata con **Export** e con la convenzione di chiamata Pascal. Nelle applicazioni in modalità di protezione, non è necessario creare questa funzione con la funzione MakeProcInstance di Windows o liberare la funzione dopo l'uso con la funzione di Windows FreeProcInstance.

Non è inoltre necessario esportare il nome della funzione in un'istruzione **exports** nel file di definizione del modulo dell'applicazione. È invece possibile usare il modificatore di funzione **Export** , come in

**esportazione callback int** AFunction **(LPSTR**, **LPSTR);**

per fare in modo che il compilatore crei il record di esportazione appropriato per l'esportazione per nome senza alias. Questa operazione funziona per la maggior parte delle esigenze. Per alcuni casi speciali, ad esempio l'esportazione di una funzione in base al numero ordinale o l'aliasing dell'esportazione, è comunque necessario utilizzare un'istruzione **exports** in un file di definizione del modulo.

Per la compilazione di programmi Microsoft Foundation, in genere si useranno le opzioni del compilatore/GA e/GEs. L'opzione del compilatore/GW non viene usata con le classi di Microsoft Foundation. Se si usa la funzione di Windows `MakeProcInstance` , sarà necessario eseguire il cast esplicito del puntatore a funzione restituito da FARPROC al tipo necessario in questa API. Le interfacce di registrazione di callback sono ora indipendenti dai tipi (è necessario passare un puntatore a funzione che punta al tipo corretto di funzione per il callback specifico).

Si noti inoltre che tutte le funzioni di callback devono intercettare le eccezioni di Microsoft Foundation prima di tornare a Windows, perché non è possibile generare eccezioni tra i limiti di callback. Per ulteriori informazioni sulle eccezioni, vedere l'articolo [eccezioni](../../mfc/exception-handling-in-mfc.md).

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#35](../../mfc/codesnippet/cpp/cdc-class_7.cpp)]

## <a name="cdcescape"></a><a name="escape"></a>CDC:: Escape

Questa funzione membro è praticamente obsoleta per la programmazione Win32.

```
virtual int Escape(
    int nEscape,
    int nCount,
    LPCSTR lpszInData,
    LPVOID lpOutData);

int Escape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData,
    int nOutputSize,
    LPSTR lpszOutputData);
```

### <a name="parameters"></a>Parametri

*nEscape*<br/>
Specifica la funzione di escape da eseguire.

Per un elenco completo delle funzioni di escape, vedere [escape](/windows/win32/api/wingdi/nf-wingdi-escape) nell'Windows SDK.

*nCount*<br/>
Specifica il numero di byte di dati a cui punta *lpszInData*.

*lpszInData*<br/>
Punta alla struttura dei dati di input necessaria per l'escape.

*lpOutData*<br/>
Punta alla struttura che deve ricevere l'output da questo escape. Il parametro *lpOutData* è null se non viene restituito alcun dato.

*nInputSize*<br/>
Specifica il numero di byte di dati a cui punta il parametro *lpszInputData* .

*lpszInputData*<br/>
Punta alla struttura di input necessaria per l'escape specificato.

*nOutputSize*<br/>
Specifica il numero di byte di dati a cui punta il parametro *lpszOutputData* .

*lpszOutputData*<br/>
Punta alla struttura che riceve l'output da questo escape. Questo parametro deve essere NULL se non viene restituito alcun dato.

### <a name="return-value"></a>Valore restituito

Viene restituito un valore positivo se la funzione ha esito positivo, ad eccezione dell'escape QUERYESCSUPPORT, che controlla solo l'implementazione. Se l'escape non è implementato, viene restituito zero. Se si è verificato un errore, viene restituito un valore negativo. Di seguito sono riportati i valori di errore comuni:

- SP_ERROR errore generale.

- SP_OUTOFDISK spazio su disco insufficiente è attualmente disponibile per lo spooling e non sarà più disponibile spazio.

- SP_OUTOFMEMORY la memoria disponibile non è sufficiente per lo spooling.

- SP_USERABORT utente ha terminato il processo tramite il gestore di stampa.

### <a name="remarks"></a>Osservazioni

Dei caratteri di escape della stampante originale, per le applicazioni Win32 è supportato solo QUERYESCSUPPORT. Tutti gli altri caratteri di escape della stampante sono obsoleti e sono supportati solo per la compatibilità con le applicazioni a 16 bit.

Per la programmazione Win32, `CDC` ora fornisce sei funzioni membro che sostituiscono le Escape corrispondenti della stampante:

- [CDC:: AbortDoc](#abortdoc)

- [CDC:: EndDoc](#enddoc)

- [CDC:: EndPage](#endpage)

- [CDC:: SetAbortProc](#setabortproc)

- [CDC:: StartDoc](#startdoc)

- [CDC:: StartPage](#startpage)

Inoltre, [CDC:: GetDeviceCaps](#getdevicecaps) supporta gli indici Win32 che sostituiscono altri caratteri di escape della stampante. Per ulteriori informazioni, vedere [GetDeviceCaps](/windows/win32/api/wingdi/nf-wingdi-getdevicecaps) nella Windows SDK.

Questa funzione membro consente alle applicazioni di accedere alle funzionalità di un dispositivo specifico che non sono direttamente disponibili tramite GDI.

Usare la prima versione se l'applicazione usa valori di escape predefiniti. Utilizzare la seconda versione se l'applicazione definisce i valori di escape privati. Per ulteriori informazioni sulla seconda versione, vedere [ExtEscape](/windows/win32/api/wingdi/nf-wingdi-extescape) nella Windows SDK.

## <a name="cdcexcludecliprect"></a><a name="excludecliprect"></a>CDC:: ExcludeClipRect

Crea una nuova area di visualizzazione costituita dall'area di ridimensionamento esistente meno il rettangolo specificato.

```
int ExcludeClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int ExcludeClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo.

*Y1*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo.

*X2*<br/>
Specifica la coordinata x logica dell'angolo inferiore destro del rettangolo.

*Y2*<br/>
Specifica la coordinata y logica dell'angolo inferiore destro del rettangolo.

*lpRect*<br/>
Specifica il rettangolo. Può anche essere un `CRect` oggetto.

### <a name="return-value"></a>Valore restituito

Specifica il nuovo tipo di area di ridimensionamento. Può essere uno dei valori seguenti:

- COMPLEXREGION l'area presenta bordi sovrapposti.

- ERRORE non è stata creata alcuna area.

- DINULLREGION l'area è vuota.

- SIMPLEREGION l'area non presenta bordi sovrapposti.

### <a name="remarks"></a>Osservazioni

La larghezza del rettangolo, specificata dal valore assoluto di *X2*  -  *X1*, non deve superare 32.767 unità. Questo limite si applica anche all'altezza del rettangolo.

## <a name="cdcexcludeupdatergn"></a><a name="excludeupdatergn"></a>CDC:: ExcludeUpdateRgn

Impedisce il disegno all'interno di aree non valide di una finestra escludendo un'area aggiornata nella finestra dall'area di visualizzazione associata all' `CDC` oggetto.

```
int ExcludeUpdateRgn(CWnd* pWnd);
```

### <a name="parameters"></a>Parametri

*pWnd*<br/>
Punta all'oggetto finestra di cui viene aggiornata la finestra.

### <a name="return-value"></a>Valore restituito

Tipo di area esclusa. Può essere uno dei valori seguenti:

- COMPLEXREGION l'area presenta bordi sovrapposti.

- ERRORE non è stata creata alcuna area.

- DINULLREGION l'area è vuota.

- SIMPLEREGION l'area non presenta bordi sovrapposti.

## <a name="cdcextfloodfill"></a><a name="extfloodfill"></a>CDC:: ExtFloodFill

Riempie un'area della superficie di visualizzazione con il pennello corrente.

```
BOOL ExtFloodFill(
    int x,
    int y,
    COLORREF crColor,
    UINT nFillType);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto in cui inizia il riempimento.

*y*<br/>
Specifica la coordinata y logica del punto in cui inizia il riempimento.

*crColor*<br/>
Specifica il colore del limite o dell'area da riempire. L'interpretazione di *crColor* dipende dal valore di *nFillType*.

*nFillType*<br/>
Specifica il tipo di riempimento flood da eseguire. Deve essere uno dei valori seguenti:

- FLOODFILLBORDER l'area di riempimento è delimitata dal colore specificato da *crColor*. Questo stile è identico al riempimento eseguito da `FloodFill` .

- FLOODFILLSURFACE l'area di riempimento è definita dal colore specificato da *crColor*. Il riempimento continua verso l'esterno in tutte le direzioni fino a quando viene rilevato il colore. Questo stile è utile per le aree di riempimento con limiti multicolori.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0 se non è stato possibile completare il riempimento, se il punto specificato ha il colore limite specificato da *crColor* (se è stato richiesto FLOODFILLBORDER), se il punto specificato non dispone del colore specificato da *CRCOLOR* (se FLOODFILLSURFACE è stato richiesto) o se il punto è esterno all'area di ridimensionamento.

### <a name="remarks"></a>Osservazioni

Questa funzione membro offre maggiore flessibilità rispetto a `FloodFill` perché è possibile specificare un tipo di riempimento in *nFillType*.

Se *nFillType* è impostato su FLOODFILLBORDER, si presuppone che l'area sia completamente delimitata dal colore specificato da *crColor*. La funzione inizia in corrispondenza del punto specificato da *x* e *y* e riempie tutte le direzioni al limite del colore.

Se *nFillType* è impostato su FLOODFILLSURFACE, la funzione inizia in corrispondenza del punto specificato da *x* e *y* e continua in tutte le direzioni, compilando tutte le aree adiacenti che contengono il colore specificato da *crColor*.

Solo i contesti di dispositivo di memoria e i dispositivi che supportano il supporto per la tecnologia di visualizzazione raster `ExtFloodFill` . Per ulteriori informazioni, vedere la funzione membro [GetDeviceCaps](#getdevicecaps) .

## <a name="cdcexttextout"></a><a name="exttextout"></a>CDC:: ExtTextOut

Chiamare questa funzione membro per scrivere una stringa di caratteri all'interno di un'area rettangolare usando il tipo di carattere correntemente selezionato.

```
virtual BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    LPCTSTR lpszString,
    UINT nCount,
    LPINT lpDxWidths);

BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    const CString& str,
    LPINT lpDxWidths);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica della cella di caratteri per il primo carattere nella stringa specificata.

*y*<br/>
Specifica la coordinata y logica della parte superiore della cella del carattere per il primo carattere nella stringa specificata.

*nOptions*<br/>
Specifica il tipo di rettangolo. Questo parametro può essere uno, entrambi o nessuno dei seguenti valori:

- ETO_CLIPPED specifica che il testo viene ritagliato nel rettangolo.

- ETO_OPAQUE specifica che il colore di sfondo corrente riempie il rettangolo. È possibile impostare ed eseguire una query sul colore di sfondo corrente con le funzioni membro [SetBkColor](#setbkcolor) e [GetBkColor](#getbkcolor) .

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) che determina le dimensioni del rettangolo. Questo parametro può essere NULL. È anche possibile passare un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

*lpszString*<br/>
Punta alla stringa di caratteri specificata da disegnare. È anche possibile passare un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) per questo parametro.

*nCount*<br/>
Specifica il numero di caratteri nella stringa.

*lpDxWidths*<br/>
Punta a una matrice di valori che indica la distanza tra le origini delle celle di caratteri adiacenti. Ad esempio, le unità logiche *lpDxWidths*[ *i*] separano le origini della cella di tipo *i* e dei caratteri *i* + 1. Se *lpDxWidths* è null, `ExtTextOut` Usa la spaziatura predefinita tra i caratteri.

*str*<br/>
`CString`Oggetto contenente i caratteri specificati da disegnare.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

L'area rettangolare può essere opaca (riempita con il colore di sfondo corrente) e può essere un'area di ridimensionamento.

Se *nOptions* è 0 e *lpRect* è null, la funzione scrive il testo nel contesto di dispositivo senza usare un'area rettangolare. Per impostazione predefinita, la posizione corrente non viene utilizzata o aggiornata dalla funzione. Se un'applicazione deve aggiornare la posizione corrente quando chiama `ExtTextOut` , l'applicazione può chiamare la `CDC` funzione membro [setTextAlign](#settextalign) con *nFlags* impostato su TA_UPDATECP. Quando questo flag è impostato, Windows ignora *x* e *y* nelle chiamate successive a `ExtTextOut` e usa invece la posizione corrente. Quando un'applicazione usa TA_UPDATECP per aggiornare la posizione corrente, `ExtTextOut` imposta la posizione corrente alla fine della riga di testo precedente o alla posizione specificata dall'ultimo elemento della matrice a cui punta *lpDxWidths*, a seconda del valore maggiore.

## <a name="cdcfillpath"></a><a name="fillpath"></a>CDC:: FillPath

Chiude tutte le figure aperte nel percorso corrente e riempie l'area interna del percorso utilizzando il pennello corrente e la modalità di riempimento del poligono.

```
BOOL FillPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Al termine del riempimento dell'interno, il percorso viene rimosso dal contesto di dispositivo.

## <a name="cdcfillrect"></a><a name="fillrect"></a>CDC:: FillRect

Chiamare questa funzione membro per riempire un rettangolo specificato utilizzando il pennello specificato.

```cpp
void FillRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) che contiene le coordinate logiche del rettangolo da riempire. È anche possibile passare un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) per questo parametro.

*pBrush*<br/>
Identifica il pennello utilizzato per riempire il rettangolo.

### <a name="remarks"></a>Osservazioni

La funzione riempie il rettangolo completo, inclusi i bordi sinistro e superiore, ma non riempie i bordi destro e inferiore.

Il pennello deve essere creato con le funzioni membro [CBrush](../../mfc/reference/cbrush-class.md) [CreateHatchBrush](../../mfc/reference/cbrush-class.md#createhatchbrush), [CreatePatternBrush](../../mfc/reference/cbrush-class.md#createpatternbrush)e [CreateSolidBrush](../../mfc/reference/cbrush-class.md#createsolidbrush)oppure recuperato dalla `GetStockObject` funzione Windows.

Quando si compila il rettangolo specificato, non `FillRect` include i lati destro e inferiore del rettangolo. GDI riempie un rettangolo fino a, ma non include, la colonna destra e la riga inferiore, indipendentemente dalla modalità di mapping corrente. `FillRect`Confronta i valori dei `top` `bottom` membri,, `left` e `right` del rettangolo specificato. Se `bottom` è minore o uguale a `top` oppure se `right` è minore o uguale a `left` , il rettangolo non viene disegnato.

`FillRect`è simile a [CDC:: FillSolidRect](#fillsolidrect); Tuttavia, `FillRect` accetta un pennello e pertanto può essere utilizzato per riempire un rettangolo con un colore a tinta unita, un colore con retinatura, pennelli tratteggiati o un modello. `FillSolidRect`USA solo colori a tinta unita (indicati da un parametro COLORREF). `FillRect`in genere è più lento di `FillSolidRect` .

## <a name="cdcfillrgn"></a><a name="fillrgn"></a>CDC:: FillRgn

Riempie l'area specificata da *PRGN* con il pennello specificato da *PBRUSH*.

```
BOOL FillRgn(
    CRgn* pRgn,
    CBrush* pBrush);
```

### <a name="parameters"></a>Parametri

*pRgn*<br/>
Puntatore all'area da riempire. Le coordinate per l'area specificata vengono specificate in unità logiche.

*pBrush*<br/>
Identifica il pennello da utilizzare per riempire l'area.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il pennello deve essere creato utilizzando le `CBrush` funzioni membro `CreateHatchBrush` ,, `CreatePatternBrush` `CreateSolidBrush` o essere recuperato da `GetStockObject` .

### <a name="example"></a>Esempio

  Vedere l'esempio per [CRgn:: CreateRoundRectRgn](../../mfc/reference/crgn-class.md#createroundrectrgn).

## <a name="cdcfillsolidrect"></a><a name="fillsolidrect"></a>CDC:: FillSolidRect

Chiamare questa funzione membro per riempire il rettangolo specificato con il colore a tinta unita specificato.

```cpp
void FillSolidRect(
    LPCRECT lpRect,
    COLORREF clr);

void FillSolidRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clr);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Specifica il rettangolo di delimitazione (in unità logiche). È possibile passare un puntatore a una struttura di dati [Rect](/windows/win32/api/windef/ns-windef-rect) o a un `CRect` oggetto per questo parametro.

*CLR* Specifica il colore da utilizzare per riempire il rettangolo.

*x*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo.

*y*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo di destinazione.

*CX*<br/>
Specifica la larghezza del rettangolo.

*CY*<br/>
Specifica l'altezza del rettangolo.

### <a name="remarks"></a>Osservazioni

`FillSolidRect`è molto simile a [CDC:: FillRect](#fillrect); Tuttavia, `FillSolidRect` utilizza solo colori a tinta unita (indicati dal parametro COLORREF), mentre `FillRect` accetta un pennello e pertanto può essere utilizzato per riempire un rettangolo con un colore a tinta unita, un colore con retinatura, pennelli tratteggiati o un modello. `FillSolidRect`in genere è più veloce di `FillRect` .

> [!NOTE]
> Quando si chiama `FillSolidRect` , il colore di sfondo, precedentemente impostato con [SetBkColor](#setbkcolor), viene impostato sul colore indicato da *CLR*.

## <a name="cdcflattenpath"></a><a name="flattenpath"></a>CDC:: FlattenPath

Trasforma le curve nel percorso selezionato nel contesto di dispositivo corrente e trasforma ogni curva in una sequenza di righe.

```
BOOL FlattenPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

## <a name="cdcfloodfill"></a><a name="floodfill"></a>CDC:: FloodFill

Riempie un'area della superficie di visualizzazione con il pennello corrente.

```
BOOL FloodFill(
    int x,
    int y,
    COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto in cui inizia il riempimento.

*y*<br/>
Specifica la coordinata y logica del punto in cui inizia il riempimento.

*crColor*<br/>
Specifica il colore del limite.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, viene restituito 0 se non è stato possibile completare il riempimento, il punto specificato ha il colore limite specificato da *crColor*oppure il punto è esterno all'area di ridimensionamento.

### <a name="remarks"></a>Osservazioni

Si presuppone che l'area venga vincolata come specificato da *crColor*. La `FloodFill` funzione inizia in corrispondenza del punto specificato da *x* e *y* e continua in tutte le direzioni al limite del colore.

Solo i contesti di dispositivo di memoria e i dispositivi che supportano la tecnologia di visualizzazione raster supportano la `FloodFill` funzione membro. Per informazioni sulla funzionalità RC_BITBLT, vedere la `GetDeviceCaps` funzione membro.

La `ExtFloodFill` funzione offre funzionalità simili, ma maggiore flessibilità.

## <a name="cdcframerect"></a><a name="framerect"></a>CDC:: FrameRect

Disegna un bordo intorno al rettangolo specificato da *lpRect*.

```cpp
void FrameRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che contiene le coordinate logiche degli angoli superiore sinistro e inferiore destro del rettangolo. È anche possibile passare un `CRect` oggetto per questo parametro.

*pBrush*<br/>
Identifica il pennello da utilizzare per incorniciare il rettangolo.

### <a name="remarks"></a>Osservazioni

Per creare il bordo, la funzione utilizza il pennello specificato. La larghezza e l'altezza del bordo sono sempre di 1 unità logica.

Se la `bottom` coordinata del rettangolo è minore o uguale a `top` oppure se `right` è minore o uguale a `left` , il rettangolo non viene disegnato.

Il bordo disegnato da `FrameRect` si trova nella stessa posizione di un bordo disegnato dalla `Rectangle` funzione membro usando le stesse coordinate (se `Rectangle` Usa una penna che è 1 unità logica estesa). L'interno del rettangolo non è riempito da `FrameRect` .

## <a name="cdcframergn"></a><a name="framergn"></a>CDC:: FrameRgn

Disegna un bordo intorno all'area specificata da *PRGN* utilizzando il pennello specificato da *PBRUSH*.

```
BOOL FrameRgn(
    CRgn* pRgn,
    CBrush* pBrush,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Parametri

*pRgn*<br/>
Punta all' `CRgn` oggetto che identifica l'area da includere in un bordo. Le coordinate per l'area specificata vengono specificate in unità logiche.

*pBrush*<br/>
Punta all' `CBrush` oggetto che identifica il pennello da utilizzare per il disegno del bordo.

*nWidth*<br/>
Specifica la larghezza del bordo nei tratti di pennello verticali in unità di dispositivo.

*nHeight*<br/>
Specifica l'altezza del bordo nei tratti del pennello orizzontale in unità di dispositivo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CRgn:: CombineRgn](../../mfc/reference/crgn-class.md#combinergn).

## <a name="cdcfromhandle"></a><a name="fromhandle"></a>CDC:: FromHandle

Restituisce un puntatore a un `CDC` oggetto quando viene fornito un handle a un contesto di dispositivo.

```
static CDC* PASCAL FromHandle(HDC hDC);
```

### <a name="parameters"></a>Parametri

*hDC*<br/>
Contiene un handle per un contesto di dispositivo Windows.

### <a name="return-value"></a>Valore restituito

Il puntatore può essere temporaneo e non deve essere archiviato oltre l'utilizzo immediato.

### <a name="remarks"></a>Osservazioni

Se all'handle non è collegato un oggetto `CDC`, viene creato e collegato un oggetto `CDC` temporaneo.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CPrintDialog:: GetPrinterDC](../../mfc/reference/cprintdialog-class.md#getprinterdc).

## <a name="cdcgetarcdirection"></a><a name="getarcdirection"></a>CDC:: GetArcDirection

Restituisce la direzione di arco corrente per il contesto di dispositivo.

```
int GetArcDirection() const;
```

### <a name="return-value"></a>Valore restituito

Specifica la direzione di arco corrente, in caso di esito positivo. Di seguito sono riportati i valori restituiti validi:

- AD_COUNTERCLOCKWISE archi e rettangoli disegnati in senso antiorario.

- AD_CLOCKWISE archi e rettangoli disegnati in senso orario.

Se si verifica un errore, il valore restituito è zero.

### <a name="remarks"></a>Osservazioni

Le funzioni arco e rettangolo utilizzano la direzione di arco.

## <a name="cdcgetaspectratiofilter"></a><a name="getaspectratiofilter"></a>CDC:: GetAspectRatioFilter

Recupera l'impostazione per il filtro proporzioni corrente.

```
CSize GetAspectRatioFilter() const;
```

### <a name="return-value"></a>Valore restituito

`CSize`Oggetto che rappresenta le proporzioni utilizzate dal filtro delle proporzioni corrente.

### <a name="remarks"></a>Osservazioni

Proporzioni è il rapporto formato dalla larghezza e dall'altezza dei pixel di un dispositivo. Le informazioni sulle proporzioni di un dispositivo vengono usate per la creazione, la selezione e la visualizzazione dei tipi di carattere. Windows offre un filtro speciale, il filtro per le proporzioni, per selezionare i tipi di carattere progettati per una particolare proporzioni da tutti i tipi di carattere disponibili. Il filtro usa le proporzioni specificate dalla `SetMapperFlags` funzione membro.

## <a name="cdcgetbkcolor"></a><a name="getbkcolor"></a>CDC:: GetBkColor

Restituisce il colore di sfondo corrente.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valore restituito

Valore di colore RGB.

### <a name="remarks"></a>Osservazioni

Se la modalità sfondo è OPACa, il sistema utilizza il colore di sfondo per colmare le lacune nelle linee con stile, i gap tra le linee tratteggiate nei pennelli e lo sfondo nelle celle dei caratteri. Il sistema usa anche il colore di sfondo durante la conversione di bitmap tra i contesti di dispositivo colore e monocromatico.

## <a name="cdcgetbkmode"></a><a name="getbkmode"></a>CDC:: GetBkMode

Restituisce la modalità di sfondo.

```
int GetBkMode() const;
```

### <a name="return-value"></a>Valore restituito

Modalità di sfondo corrente, che può essere OPACa o trasparente.

### <a name="remarks"></a>Osservazioni

La modalità in background definisce se il sistema rimuove i colori di sfondo esistenti sulla superficie di disegno prima di disegnare testo, pennelli tratteggiati o qualsiasi stile di penna che non sia una linea continua.

## <a name="cdcgetboundsrect"></a><a name="getboundsrect"></a>CDC:: GetBoundsRect

Restituisce il rettangolo di delimitazione corrente accumulato per il contesto di dispositivo specificato.

```
UINT GetBoundsRect(
    LPRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>Parametri

*lpRectBounds*<br/>
Punta a un buffer che riceverà il rettangolo di delimitazione corrente. Il rettangolo viene restituito nelle coordinate logiche.

*flags*<br/>
Specifica se il rettangolo di delimitazione deve essere cancellato dopo che è stato restituito. Questo parametro deve essere impostato su zero o sul valore seguente:

- DCB_RESET forza la cancellazione del rettangolo di delimitazione dopo la relativa restituzione.

### <a name="return-value"></a>Valore restituito

Specifica lo stato corrente del rettangolo di delimitazione se la funzione ha esito positivo. Può essere una combinazione dei valori seguenti:

- È in corso l'accumulo di DCB_ACCUMULATE rettangolo di delimitazione.

- Il rettangolo di delimitazione DCB_RESET è vuoto.

- Il rettangolo di delimitazione DCB_SET non è vuoto.

- DCB_ENABLE l'accumulo di delimitazione è on.

- DCB_DISABLE l'accumulo delimitatore è disattivato.

## <a name="cdcgetbrushorg"></a><a name="getbrushorg"></a>CDC:: GetBrushOrg

Recupera l'origine (in unità dispositivo) del pennello attualmente selezionato per il contesto di dispositivo.

```
CPoint GetBrushOrg() const;
```

### <a name="return-value"></a>Valore restituito

Origine corrente del pennello (in unità dispositivo) come oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="remarks"></a>Osservazioni

L'origine del pennello iniziale è in (0,0) dell'area client. Il valore restituito specifica questo punto in unità di dispositivo rispetto all'origine della finestra desktop.

## <a name="cdcgetcharacterplacement"></a><a name="getcharacterplacement"></a>CDC:: GetCharacterPlacement

Recupera vari tipi di informazioni su una stringa di caratteri.

```
DWORD GetCharacterPlacement(
    LPCTSTR lpString,
    int nCount,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;

DWORD GetCharacterPlacement(
    CString& str,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Parametri

*lpString*<br/>
Puntatore alla stringa di caratteri da elaborare.

*nCount*<br/>
Specifica la lunghezza della stringa. Per la versione ANSI, è un conteggio di BYTE e per la funzione Unicode è un conteggio di parole. Per ulteriori informazioni, vedere [GetCharacterPlacement](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw).

*nMaxExtent*<br/>
Specifica l'extent massimo (in unità logiche) in cui viene elaborata la stringa. I caratteri che, se elaborati, superano questo extent vengono ignorati. I calcoli per gli ordini o le matrici di glifi richiesti si applicano solo ai caratteri inclusi. Questo parametro viene utilizzato solo se il valore GCP_MAXEXTENT viene specificato nel parametro *dwFlags* . Quando la funzione elabora la stringa di input, ogni carattere e l'extent vengono aggiunti all'output, all'extent e ad altre matrici solo se l'extent totale non ha ancora superato il limite massimo. Una volta raggiunto il limite, l'elaborazione verrà arrestata.

*lpResults*<br/>
Puntatore a una struttura [GCP_Results](/windows/win32/api/wingdi/ns-wingdi-gcp_resultsw) che riceve i risultati della funzione.

*dwFlags*<br/>
Specifica come elaborare la stringa nelle matrici obbligatorie. Il parametro può essere costituito da uno o più valori elencati nella sezione *dwFlags* dell'argomento [GetCharacterPlacement](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw) .

*str*<br/>
Puntatore a un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) da elaborare.

### <a name="return-value"></a>Valore restituito

Se la funzione ha esito positivo, il valore restituito è la larghezza e l'altezza della stringa in unità logiche.

Se la funzione ha esito negativo, il valore restituito è zero.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetCharacterPlacement](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw), come descritto nella Windows SDK.

## <a name="cdcgetcharabcwidths"></a><a name="getcharabcwidths"></a>CDC:: GetCharABCWidths

Recupera le larghezze dei caratteri consecutivi in un intervallo specificato dal tipo di carattere TrueType corrente.

```
BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABC lpabc) const;

BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABCFLOAT lpABCF) const;
```

### <a name="parameters"></a>Parametri

*nFirstChar*<br/>
Specifica il primo carattere nell'intervallo di caratteri del tipo di carattere corrente per cui vengono restituite le larghezze dei caratteri.

*nLastChar*<br/>
Specifica l'ultimo carattere nell'intervallo di caratteri del tipo di carattere corrente per il quale vengono restituite le larghezze dei caratteri.

*lpabc*<br/>
Punta a una matrice di strutture [ABC](/windows/win32/api/wingdi/ns-wingdi-abc) che ricevono la larghezza dei caratteri quando la funzione restituisce. Questa matrice deve contenere almeno il numero di `ABC` strutture in cui sono presenti caratteri nell'intervallo specificato dai parametri *NFirstChar* e *nLastChar* .

*lpABCF*<br/>
Punta a un buffer fornito dall'applicazione con una matrice di strutture [ABCFLOAT](/windows/win32/api/wingdi/ns-wingdi-abcfloat) per ricevere la larghezza dei caratteri quando la funzione restituisce un valore. Le larghezze restituite da questa funzione sono nel formato a virgola mobile IEEE.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Le larghezze vengono restituite in unità logiche. Questa funzione ha esito positivo solo con i tipi di carattere TrueType.

Il rasterizzatore TrueType fornisce la spaziatura dei caratteri "ABC" dopo la selezione di una specifica dimensione del punto. La spaziatura "a" è la distanza che viene aggiunta alla posizione corrente prima di posizionare il glifo. La spaziatura "B" è la larghezza della parte nera del glifo. La spaziatura "C" viene aggiunta alla posizione corrente per tenere conto dello spazio vuoto a destra del glifo. La larghezza totale avanzata viene fornita da A + B + C.

Quando la `GetCharABCWidths` funzione membro recupera le larghezze negative "A" o "C" per un carattere, tale carattere include le sottoblocchi o i blocchi.

Per convertire le larghezze ABC in unità di progettazione dei tipi di carattere, un'applicazione deve creare un tipo di carattere la cui altezza (come specificato nel `lfHeight` membro della struttura [LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfontw) ) è uguale al valore archiviato nel `ntmSizeEM` membro della struttura [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetricw) . Il valore del `ntmSizeEM` membro può essere recuperato chiamando la funzione [EnumFontFamilies](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesw) di Windows.

Le larghezze ABC del carattere predefinito vengono utilizzate per i caratteri che non rientrano nell'intervallo del tipo di carattere attualmente selezionato.

Per recuperare le larghezze dei caratteri nei tipi di carattere non TrueType, le applicazioni devono utilizzare la funzione [GetCharWidth](/windows/win32/api/wingdi/nf-wingdi-getcharwidthw) di Windows.

## <a name="cdcgetcharabcwidthsi"></a><a name="getcharabcwidthsi"></a>CDC:: GetCharABCWidthsI

Recupera le larghezze, in unità logiche, di indici di glifi consecutivi in un intervallo specificato dal tipo di carattere TrueType corrente.

```
BOOL GetCharABCWidthsI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPABC lpabc) const;
```

### <a name="parameters"></a>Parametri

*giFirst*<br/>
Specifica il primo indice di glifo nel gruppo di indici di glifi consecutivi dal tipo di carattere corrente. Questo parametro viene usato solo se il parametro *IGP* è null.

*CGI*<br/>
Specifica il numero di indici di glifi.

*IGP*<br/>
Puntatore a una matrice che contiene gli indici di glifi. Se il valore è NULL, viene utilizzato il parametro *giFirst* . Il parametro *CGI* specifica il numero di indici di glifi in questa matrice.

*lpabc*<br/>
Puntatore a una matrice di strutture [ABC](/windows/win32/api/wingdi/ns-wingdi-abc) che riceve la larghezza dei caratteri. Questa matrice deve contenere almeno il numero di `ABC` strutture in cui sono presenti indici di glifi specificati dal parametro *CGI* .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetCharABCWidthsI](/windows/win32/api/wingdi/nf-wingdi-getcharabcwidthsi), come descritto nella Windows SDK.

## <a name="cdcgetcharwidth"></a><a name="getcharwidth"></a>CDC:: GetCharWidth

Recupera le larghezze dei singoli caratteri in un gruppo di caratteri consecutivi dal tipo di carattere corrente, usando `m_hAttribDC` , il contesto del dispositivo di input.

```
BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;

BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    float* lpFloatBuffer) const;
```

### <a name="parameters"></a>Parametri

*nFirstChar*<br/>
Specifica il primo carattere in un gruppo consecutivo di caratteri nel tipo di carattere corrente.

*nLastChar*<br/>
Specifica l'ultimo carattere in un gruppo consecutivo di caratteri nel tipo di carattere corrente.

*lpBuffer*<br/>
Punta a un buffer che riceverà i valori di larghezza per un gruppo di caratteri consecutivi nel tipo di carattere corrente.

*lpFloatBuffer*<br/>
Punta a un buffer per ricevere la larghezza dei caratteri. Le larghezze restituite sono nel formato a virgola mobile IEEE a 32 bit. (Le larghezze vengono misurate lungo la linea di base dei caratteri).

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Se, ad esempio, *nFirstChar* identifica la lettera "a" e *nLastChar* identifica la lettera "z", la funzione recupera le larghezze di tutti i caratteri minuscoli.

La funzione archivia i valori nel buffer a cui punta *lpBuffer*. Questo buffer deve essere sufficientemente grande da contenere tutte le larghezze. Ovvero, è necessario che nell'esempio siano presenti almeno 26 voci.

Se un carattere del gruppo di caratteri consecutivi non esiste in un particolare tipo di carattere, verrà assegnato il valore della larghezza del carattere predefinito.

## <a name="cdcgetcharwidthi"></a><a name="getcharwidthi"></a>CDC:: GetCharWidthI

Recupera le larghezze, in coordinate logiche, di indici di glifi consecutivi in un intervallo specificato dal tipo di carattere corrente.

```
BOOL GetCharWidthI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>Parametri

*giFirst*<br/>
Specifica il primo indice di glifo nel gruppo di indici di glifi consecutivi dal tipo di carattere corrente. Questo parametro viene usato solo se il parametro *IGP* è null.

*CGI*<br/>
Specifica il numero di indici di glifi.

*IGP*<br/>
Puntatore a una matrice che contiene gli indici di glifi. Se il valore è NULL, viene utilizzato il parametro *giFirst* . Il parametro *CGI* specifica il numero di indici di glifi in questa matrice.

*lpBuffer*<br/>
Puntatore a un buffer che riceve le larghezze.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetCharWidthI](/windows/win32/api/wingdi/nf-wingdi-getcharwidthi), come descritto nella Windows SDK.

## <a name="cdcgetclipbox"></a><a name="getclipbox"></a>CDC:: GetClipBox

Recupera le dimensioni del rettangolo di delimitazione più stretto intorno al limite di ritaglio corrente.

```
virtual int GetClipBox(LPRECT lpRect) const;
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta alla struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o all'oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) che deve ricevere le dimensioni del rettangolo.

### <a name="return-value"></a>Valore restituito

Tipo dell'area di ridimensionamento. Può essere uno dei valori seguenti:

- L'area di ritaglio COMPLEXREGION presenta bordi sovrapposti.

- ERRORE di contesto di dispositivo non valido.

- L'area di ritaglio DINULLREGION è vuota.

- L'area di ritaglio SIMPLEREGION non presenta bordi sovrapposti.

### <a name="remarks"></a>Osservazioni

Le dimensioni vengono copiate nel buffer a cui punta *lpRect*.

## <a name="cdcgetcoloradjustment"></a><a name="getcoloradjustment"></a>CDC:: GetColorAdjustment

Recupera i valori di regolazione del colore per il contesto di dispositivo.

```
BOOL GetColorAdjustment(LPCOLORADJUSTMENT lpColorAdjust) const;
```

### <a name="parameters"></a>Parametri

*lpColorAdjust*<br/>
Punta a una struttura di dati [COLORADJUSTMENT](/windows/win32/api/wingdi/ns-wingdi-coloradjustment) per ricevere i valori di regolazione del colore.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

## <a name="cdcgetcurrentbitmap"></a><a name="getcurrentbitmap"></a>CDC:: GetCurrentBitmap

Restituisce un puntatore all'oggetto attualmente selezionato `CBitmap` .

```
CBitmap* GetCurrentBitmap() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CBitmap` oggetto, se ha esito positivo; in caso contrario, null.

### <a name="remarks"></a>Osservazioni

Questa funzione membro può restituire oggetti temporanei.

## <a name="cdcgetcurrentbrush"></a><a name="getcurrentbrush"></a>CDC:: GetCurrentBrush

Restituisce un puntatore all'oggetto attualmente selezionato `CBrush` .

```
CBrush* GetCurrentBrush() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CBrush` oggetto, se ha esito positivo; in caso contrario, null.

### <a name="remarks"></a>Osservazioni

Questa funzione membro può restituire oggetti temporanei.

## <a name="cdcgetcurrentfont"></a><a name="getcurrentfont"></a>CDC:: GetCurrentFont

Restituisce un puntatore all'oggetto attualmente selezionato `CFont` .

```
CFont* GetCurrentFont() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CFont` oggetto, se ha esito positivo; in caso contrario, null.

### <a name="remarks"></a>Osservazioni

Questa funzione membro può restituire oggetti temporanei.

## <a name="cdcgetcurrentpalette"></a><a name="getcurrentpalette"></a>CDC:: GetCurrentPalette

Restituisce un puntatore all'oggetto attualmente selezionato `CPalette` .

```
CPalette* GetCurrentPalette() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CPalette` oggetto, se ha esito positivo; in caso contrario, null.

### <a name="remarks"></a>Osservazioni

Questa funzione membro può restituire oggetti temporanei.

## <a name="cdcgetcurrentpen"></a><a name="getcurrentpen"></a>CDC:: GetCurrentPen

Restituisce un puntatore all'oggetto attualmente selezionato `CPen` .

```
CPen* GetCurrentPen() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CPen` oggetto, se ha esito positivo; in caso contrario, null.

### <a name="remarks"></a>Osservazioni

Questa funzione membro può restituire oggetti temporanei.

## <a name="cdcgetcurrentposition"></a><a name="getcurrentposition"></a>CDC:: GetCurrentPosition

Recupera la posizione corrente (in coordinate logiche).

```
CPoint GetCurrentPosition() const;
```

### <a name="return-value"></a>Valore restituito

Posizione corrente come `CPoint` oggetto.

### <a name="remarks"></a>Osservazioni

La posizione corrente può essere impostata con la `MoveTo` funzione membro.

## <a name="cdcgetdcbrushcolor"></a><a name="getdcbrushcolor"></a>CDC:: GetDCBrushColor

Recupera il colore corrente del pennello.

```
COLORREF GetDCBrushColor() const;
```

### <a name="return-value"></a>Valore restituito

Se la funzione ha esito positivo, il valore restituito è il valore [COLORREF](/windows/win32/gdi/colorref) per il colore corrente del pennello.

Se la funzione ha esito negativo, il valore restituito è CLR_INVALID.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetDCBrushColor](/windows/win32/api/wingdi/nf-wingdi-getdcbrushcolor), come descritto nella Windows SDK.

## <a name="cdcgetdcpencolor"></a><a name="getdcpencolor"></a>CDC:: GetDCPenColor

Recupera il colore corrente della penna.

```
COLORREF GetDCPenColor() const;
```

### <a name="return-value"></a>Valore restituito

Se la funzione ha esito positivo, il valore restituito è il valore [COLORREF](/windows/win32/gdi/colorref) per il colore corrente della penna.

Se la funzione ha esito negativo, il valore restituito è CLR_INVALID.

### <a name="remarks"></a>Osservazioni

Questa funzione membro utilizza la funzione Win32 [GetDCPenColor](/windows/win32/api/wingdi/nf-wingdi-getdcpencolor), come descritto nel Windows SDK.

## <a name="cdcgetdevicecaps"></a><a name="getdevicecaps"></a>CDC:: GetDeviceCaps

Recupera un'ampia gamma di informazioni specifiche del dispositivo sul dispositivo di visualizzazione.

```
int GetDeviceCaps(int nIndex) const;
```

### <a name="parameters"></a>Parametri

*nIndex*<br/>
Specifica il tipo di informazioni da restituire. Per un elenco di valori, vedere [GetDeviceCaps](/windows/win32/api/wingdi/nf-wingdi-getdevicecaps) nel Windows SDK.

### <a name="return-value"></a>Valore restituito

Valore della funzionalità richiesta se la funzione ha esito positivo.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CPrintDialog:: GetDefaults](../../mfc/reference/cprintdialog-class.md#getdefaults).

## <a name="cdcgetfontdata"></a><a name="getfontdata"></a>CDC:: GetFontData

Recupera le informazioni sulle metriche dei tipi di carattere da un file del tipo di carattere scalabile

```
DWORD GetFontData(
    DWORD dwTable,
    DWORD dwOffset,
    LPVOID lpData,
    DWORD cbData) const;
```

### <a name="parameters"></a>Parametri

*dwTable*<br/>
Specifica il nome della tabella della metrica da restituire. Questo parametro può essere una delle tabelle metriche documentate nella specifica dei file dei tipi di carattere TrueType pubblicata da Microsoft Corporation. Se questo parametro è 0, le informazioni vengono recuperate a partire dall'inizio del file del tipo di carattere.

*dwOffset*<br/>
Specifica l'offset dall'inizio della tabella da cui iniziare il recupero delle informazioni. Se questo parametro è 0, le informazioni vengono recuperate a partire dall'inizio della tabella specificata dal parametro *dwTable* . Se questo valore è maggiore o uguale alla dimensione della tabella, `GetFontData` restituisce 0.

*lpData*<br/>
Punta a un buffer che riceverà le informazioni sul tipo di carattere. Se questo valore è NULL, la funzione restituisce la dimensione del buffer richiesto per i dati del tipo di carattere specificati nel parametro *dwTable* .

*cbData*<br/>
Specifica la lunghezza, in byte, delle informazioni da recuperare. Se questo parametro è 0, `GetFontData` restituisce la dimensione dei dati specificati nel parametro *dwTable* .

### <a name="return-value"></a>Valore restituito

Specifica il numero di byte restituiti nel buffer a cui punta *lpData* se la funzione ha esito positivo; in caso contrario,-1.

### <a name="remarks"></a>Osservazioni

Le informazioni da recuperare vengono identificate specificando un offset nel file del tipo di carattere e la lunghezza delle informazioni da restituire.

Un'applicazione può talvolta utilizzare la `GetFontData` funzione membro per salvare un tipo di carattere TrueType con un documento. A tale scopo, l'applicazione determina se il tipo di carattere può essere incorporato, quindi recupera l'intero file del tipo di carattere, specificando 0 per i parametri *dwTable*, *dwOffset*e *cbData* .

Le applicazioni possono determinare se un tipo di carattere può essere incorporato controllando il `otmfsType` membro della struttura [OUTLINETEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw) . Se `otmfsType` viene impostato il bit 1 di, l'incorporamento non è consentito per il tipo di carattere. Se il bit 1 è chiaro, il tipo di carattere può essere incorporato. Se è impostato il bit 2, l'incorporamento è di sola lettura.

Se un'applicazione tenta di utilizzare questa funzione per recuperare informazioni per un tipo di carattere non TrueType, la `GetFontData` funzione membro restituisce-1.

## <a name="cdcgetfontlanguageinfo"></a><a name="getfontlanguageinfo"></a>CDC:: GetFontLanguageInfo

Restituisce informazioni sul tipo di carattere attualmente selezionato per il contesto di visualizzazione specificato.

```
DWORD GetFontLanguageInfo() const;
```

### <a name="return-value"></a>Valore restituito

Il valore restituito identifica le caratteristiche del tipo di carattere attualmente selezionato. Per un elenco completo dei valori possibili, vedere [GetFontLanguageInfo](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo).

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetFontLanguageInfo](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo), come descritto nella Windows SDK.

## <a name="cdcgetglyphoutline"></a><a name="getglyphoutline"></a>CDC:: GetGlyphOutline

Recupera la curva di contorno o la bitmap per un carattere di struttura nel tipo di carattere corrente.

```
DWORD GetGlyphOutline(
    UINT nChar,
    UINT nFormat,
    LPGLYPHMETRICS lpgm,
    DWORD cbBuffer,
    LPVOID lpBuffer,
    const MAT2* lpmat2) const;
```

### <a name="parameters"></a>Parametri

*nChar*<br/>
Specifica il carattere per il quale devono essere restituite le informazioni.

*nFormat*<br/>
Specifica il formato in cui la funzione deve restituire le informazioni. Può essere uno dei valori seguenti oppure 0:

|valore|Significato|
|-----------|-------------|
|GGO_BITMAP|Restituisce la bitmap del glifo. Quando la funzione restituisce, il buffer a cui punta *lpBuffer* contiene una bitmap a 1 bit per pixel le cui righe iniziano con i limiti di parola doppia.|
|GGO_NATIVE|Restituisce i punti dati della curva nel formato nativo del rasterizzatore usando le unità del dispositivo. Quando si specifica questo valore, qualsiasi trasformazione specificata in *lpmat2* viene ignorata.|

Quando il valore di *nFormat* è 0, la funzione compila una struttura [GlyphMetrics](/windows/win32/api/wingdi/ns-wingdi-glyphmetrics) ma non restituisce dati del contorno di glifi.

*lpgm*<br/>
Punta a una struttura GLYPHMETRICS che descrive la posizione del glifo nella cella del carattere.

*cbBuffer*<br/>
Specifica la dimensione del buffer in cui la funzione copia le informazioni sul carattere del contorno. Se questo valore è 0 e il parametro *nFormat* è il GGO_BITMAP o GGO_NATIVE valori, la funzione restituisce la dimensione richiesta del buffer.

*lpBuffer*<br/>
Punta a un buffer in cui la funzione copia le informazioni sul carattere del contorno. Se *nFormat* specifica il valore GGO_NATIVE, le informazioni vengono copiate sotto forma di strutture TTPOLYGONHEADER e TTPOLYCURVE. Se questo valore è NULL e *nFormat* è il valore GGO_BITMAP o GGO_NATIVE, la funzione restituisce la dimensione richiesta del buffer.

*lpmat2*<br/>
Punta a una struttura [MAT2](/windows/win32/api/wingdi/ns-wingdi-mat2) che contiene una matrice di trasformazione per il carattere. Questo parametro non può essere NULL, anche quando viene specificato il valore GGO_NATIVE per *nFormat*.

### <a name="return-value"></a>Valore restituito

Dimensione, in byte, del buffer necessario per le informazioni recuperate se *cbBuffer* è 0 o *lpBuffer* è null. In caso contrario, si tratta di un valore positivo se la funzione ha esito positivo oppure-1 se si verifica un errore.

### <a name="remarks"></a>Osservazioni

Un'applicazione può ruotare i caratteri recuperati in formato bitmap specificando una matrice di trasformazione 2 per 2 nella struttura a cui punta *lpmat2*.

Un contorno di glifo viene restituito come una serie di contorni. Ogni contorno è definito da una struttura [TTPOLYGONHEADER](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) seguita dal numero di `TTPOLYCURVE` strutture necessarie per la relativa descrizione. Tutti i punti vengono restituiti come strutture [POINTFX](/windows/win32/api/wingdi/ns-wingdi-pointfx) e rappresentano posizioni assolute, non spostamenti relativi. Il punto iniziale dato dal `pfxStart` membro della struttura [TTPOLYGONHEADER](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) è il punto in cui inizia il contorno di un contorno. Le strutture [TTPOLYCURVE](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve) che seguono possono essere record polilinea o record spline. I record di polilinea sono una serie di punti; le linee tracciate tra i punti descrivono il contorno del carattere. I record spline rappresentano le curve quadratiche utilizzate da TrueType, ovvero le spline b quadratiche.

## <a name="cdcgetgraphicsmode"></a><a name="getgraphicsmode"></a>CDC:: GetGraphicsMode

Recupera la modalità grafica corrente per il contesto di dispositivo specificato.

```
int GetGraphicsMode() const;
```

### <a name="return-value"></a>Valore restituito

Restituisce la modalità grafica corrente in seguito all'esito positivo. Per un elenco dei valori che questo metodo può restituire, vedere [GetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-getgraphicsmode).

Restituisce 0 in caso di errore.

Per ottenere informazioni estese sull'errore, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Osservazioni

Questo metodo esegue il wrapping della funzione GDI [GetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-getgraphicsmode)di Windows.

## <a name="cdcgethalftonebrush"></a><a name="gethalftonebrush"></a>CDC:: GetHalftoneBrush

Chiamare questa funzione membro per recuperare un pennello a mezzitoni.

```
static CBrush* PASCAL GetHalftoneBrush();
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CBrush` oggetto in caso di esito positivo; in caso contrario null.

### <a name="remarks"></a>Osservazioni

Un pennello a mezzitoni Mostra i pixel che sono alternativamente di primo piano e di sfondo per creare un modello con ditinatura. Di seguito è riportato un esempio di modello con ditinatura creato da un pennello a mezzitoni.

![Dettagli di un tratto di penna con dithering](../../mfc/reference/media/vc318s1.gif "Dettagli di un tratto di penna con dithering")

## <a name="cdcgetkerningpairs"></a><a name="getkerningpairs"></a>CDC:: GetKerningPairs

Recupera le coppie di caratteri di crenatura per il tipo di carattere attualmente selezionato nel contesto di dispositivo specificato.

```
int GetKerningPairs(
    int nPairs,
    LPKERNINGPAIR lpkrnpair) const;
```

### <a name="parameters"></a>Parametri

*nPairs*<br/>
Specifica il numero di strutture [KERNINGPAIR](/windows/win32/api/wingdi/ns-wingdi-kerningpair) a cui punta *lpkrnpair*. La funzione non copierà più coppie di crenatura rispetto a quanto specificato da *nPairs*.

*lpkrnpair*<br/>
Punta a una matrice di `KERNINGPAIR` strutture che ricevono le coppie di crenatura quando la funzione restituisce. Questa matrice deve contenere almeno il numero di strutture specificato da *nPairs*. Se questo parametro è NULL, la funzione restituisce il numero totale di coppie di crenatura per il tipo di carattere.

### <a name="return-value"></a>Valore restituito

Specifica il numero di coppie di crenatura recuperate o il numero totale di coppie di crenatura nel tipo di carattere, se la funzione ha esito positivo. Se la funzione ha esito negativo o se non sono presenti coppie di crenatura per il tipo di carattere, viene restituito zero.

## <a name="cdcgetlayout"></a><a name="getlayout"></a>CDC:: GetLayout

Chiamare questa funzione membro per determinare il layout del testo e della grafica per un contesto di dispositivo, ad esempio una stampante o un metafile.

```
DWORD GetLayout() const;
```

### <a name="return-value"></a>Valore restituito

Se ha esito positivo, i flag di layout per il contesto di dispositivo corrente. In caso contrario, GDI_ERROR. Per informazioni estese sugli errori, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror). Per un elenco dei flag di layout, vedere [CDC:: selayout](#setlayout).

### <a name="remarks"></a>Osservazioni

Il layout predefinito è da sinistra a destra.

## <a name="cdcgetmapmode"></a><a name="getmapmode"></a>CDC:: GetMapMode

Recupera la modalità di mapping corrente.

```
int GetMapMode() const;
```

### <a name="return-value"></a>Valore restituito

Modalità di mapping.

### <a name="remarks"></a>Osservazioni

Per una descrizione delle modalità di mapping, vedere la `SetMapMode` funzione membro.

> [!NOTE]
> Se si chiama il metodo [selayout](#setlayout) per modificare il layout del controller di dominio in un layout da destra a sinistra, `SetLayout` la modalità di mapping viene modificata automaticamente in MM_ISOTROPIC. Di conseguenza, qualsiasi chiamata successiva a restituirà `GetMapMode` MM_ISOTROPIC.

## <a name="cdcgetmiterlimit"></a><a name="getmiterlimit"></a>CDC:: GetMiterLimit

Restituisce il limite di smussatura per il contesto di dispositivo.

```
float GetMiterLimit() const;
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il limite di smussatura viene usato quando si disegnano linee geometriche con join di un Miter.

## <a name="cdcgetnearestcolor"></a><a name="getnearestcolor"></a>CDC:: GetNearestColor

Restituisce il colore a tinta unita che corrisponde meglio a un colore logico specificato.

```
COLORREF GetNearestColor(COLORREF crColor) const;
```

### <a name="parameters"></a>Parametri

*crColor*<br/>
Specifica il colore da confrontare.

### <a name="return-value"></a>Valore restituito

Valore di colore RGB (rosso, verde, blu) che definisce il colore a tinta unita più vicino al valore *crColor* che può essere rappresentato dal dispositivo.

### <a name="remarks"></a>Osservazioni

Il dispositivo specificato deve essere in grado di rappresentare questo colore.

## <a name="cdcgetoutlinetextmetrics"></a><a name="getoutlinetextmetrics"></a>CDC:: GetOutlineTextMetrics

Recupera le informazioni sulla metrica per i tipi di carattere TrueType.

```
UINT GetOutlineTextMetrics(
    UINT cbData,
    LPOUTLINETEXTMETRIC lpotm) const;
```

### <a name="parameters"></a>Parametri

*lpotm*<br/>
Punta a una matrice di strutture [OUTLINETEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw) . Se questo parametro è NULL, la funzione restituisce la dimensione del buffer necessaria per i dati della metrica recuperata.

*cbData*<br/>
Specifica la dimensione, in byte, del buffer in cui vengono restituite le informazioni.

*lpotm*<br/>
Punta a una `OUTLINETEXTMETRIC` struttura. Se questo parametro è NULL, la funzione restituisce la dimensione del buffer necessario per le informazioni sulle metriche recuperate.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La struttura [OUTLINETEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw) contiene la maggior parte delle informazioni sulla metrica del tipo di carattere fornite con il formato TrueType, inclusa una struttura [TEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-textmetricw) . Gli ultimi quattro membri della `OUTLINETEXTMETRIC` struttura sono puntatori alle stringhe. Le applicazioni devono allocare spazio per queste stringhe oltre allo spazio necessario per gli altri membri. Poiché non esiste un limite imposto dal sistema alle dimensioni delle stringhe, il metodo più semplice per l'allocazione della memoria consiste nel recuperare le dimensioni richieste specificando NULL per *lpotm* nella prima chiamata alla `GetOutlineTextMetrics` funzione.

## <a name="cdcgetoutputcharwidth"></a><a name="getoutputcharwidth"></a>CDC:: GetOutputCharWidth

Usa il contesto di dispositivo di output, `m_hDC` e recupera le larghezze dei singoli caratteri in un gruppo di caratteri consecutivi dal tipo di carattere corrente.

```
BOOL GetOutputCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>Parametri

*nFirstChar*<br/>
Specifica il primo carattere in un gruppo consecutivo di caratteri nel tipo di carattere corrente.

*nLastChar*<br/>
Specifica l'ultimo carattere in un gruppo consecutivo di caratteri nel tipo di carattere corrente.

*lpBuffer*<br/>
Punta a un buffer che riceverà i valori di larghezza per un gruppo di caratteri consecutivi nel tipo di carattere corrente.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Se, ad esempio, *nFirstChar* identifica la lettera "a" e *nLastChar* identifica la lettera "z", la funzione recupera le larghezze di tutti i caratteri minuscoli.

La funzione archivia i valori nel buffer a cui punta *lpBuffer*. Questo buffer deve essere sufficientemente grande da contenere tutte le larghezze; ovvero, è necessario che nell'esempio siano presenti almeno 26 voci.

Se un carattere del gruppo di caratteri consecutivi non esiste in un particolare tipo di carattere, verrà assegnato il valore della larghezza del carattere predefinito.

## <a name="cdcgetoutputtabbedtextextent"></a><a name="getoutputtabbedtextextent"></a>CDC:: GetOutputTabbedTextExtent

Chiamare questa funzione membro per calcolare la larghezza e l'altezza di una stringa di caratteri usando [m_hDC](#m_hdc), il contesto di dispositivo di output.

```
CSize GetOutputTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetOutputTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>Parametri

*lpszString*<br/>
Punta a una stringa di caratteri da misurare. È anche possibile passare un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) per questo parametro.

*nCount*<br/>
Specifica la [lunghezza della stringa](/windows/win32/gdi/specifying-length-of-text-output-string) a cui punta *lpszString*.

*nTabPositions*<br/>
Specifica il numero di posizioni di interruzione di tabulazione nella matrice a cui punta *lpnTabStopPositions*.

*lpnTabStopPositions*<br/>
Punta a una matrice di numeri interi contenenti le posizioni di interruzione di tabulazione in unità logiche. Il numero di tabulazioni deve essere ordinato in ordine crescente. il valore x più piccolo deve essere il primo elemento della matrice. Non sono consentite schede back.

*str*<br/>
`CString`Oggetto contenente i caratteri specificati da misurare.

### <a name="return-value"></a>Valore restituito

Dimensioni della stringa (in unità logiche) in un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

Se la stringa contiene uno o più caratteri di tabulazione, la larghezza della stringa si basa sulle tabulazioni specificate da *lpnTabStopPositions*. La funzione usa il tipo di carattere attualmente selezionato per calcolare le dimensioni della stringa.

L'area di visualizzazione corrente non compensa la larghezza e l'altezza restituite dalla `GetOutputTabbedTextExtent` funzione.

Poiché alcuni dispositivi non inseriscono caratteri nelle matrici di celle normali, ovvero i caratteri sono kernati, la somma degli extent dei caratteri di una stringa non può essere uguale all'extent della stringa.

Se *nTabPositions* è 0 e *lpnTabStopPositions* è null, le tabulazioni vengono espanse a otto larghezze di carattere medie. Se *nTabPositions* è 1, le tabulazioni verranno separate dalla distanza specificata dal primo valore nella matrice a cui punta *lpnTabStopPositions* . Se *lpnTabStopPositions* punta a più di un valore singolo, viene impostato un tasto TAB per ogni valore nella matrice, fino al numero specificato da *nTabPositions*.

## <a name="cdcgetoutputtextextent"></a><a name="getoutputtextextent"></a>CDC:: GetOutputTextExtent

Chiamare questa funzione membro per usare il contesto di dispositivo di output, [m_hDC](#m_hdc)e calcolare la larghezza e l'altezza di una riga di testo, usando il tipo di carattere corrente.

```
CSize GetOutputTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetOutputTextExtent(const CString& str) const;
```

### <a name="parameters"></a>Parametri

*lpszString*<br/>
Punta a una stringa di caratteri. È anche possibile passare un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) per questo parametro.

*nCount*<br/>
Specifica la [lunghezza della stringa](/windows/win32/gdi/specifying-length-of-text-output-string) a cui punta *lpszString*.

*str*<br/>
`CString`Oggetto contenente i caratteri specificati da misurare.

### <a name="return-value"></a>Valore restituito

Dimensioni della stringa (in unità logiche) restituite in un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

L'area di visualizzazione corrente non influisce sulla larghezza e sull'altezza restituite da `GetOutputTextExtent` .

Poiché alcuni dispositivi non inseriscono caratteri nelle matrici di celle regolari (ovvero eseguono la crenatura), la somma degli extent dei caratteri in una stringa non può essere uguale all'extent della stringa.

## <a name="cdcgetoutputtextmetrics"></a><a name="getoutputtextmetrics"></a>CDC:: GetOutputTextMetrics

Recupera le metriche per il tipo di carattere corrente usando `m_hDC` , il contesto di dispositivo di output.

```
BOOL GetOutputTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>Parametri

*lpMetrics*<br/>
Punta alla struttura [TEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-textmetricw) che riceve la metrica.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

## <a name="cdcgetpath"></a><a name="getpath"></a>CDC:: GetPath

Recupera le coordinate che definiscono gli endpoint delle linee e i punti di controllo delle curve trovate nel percorso selezionato nel contesto di dispositivo.

```
int GetPath(
    LPPOINT lpPoints,
    LPBYTE lpTypes,
    int nCount) const;
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture di dati [punto](/windows/win32/api/windef/ns-windef-point) o `CPoint` oggetti in cui vengono posizionati gli endpoint di riga e i punti di controllo della curva.

*lpTypes*<br/>
Punta a una matrice di byte in cui vengono inseriti i tipi di vertici. I valori sono uno dei seguenti:

- PT_MOVETO specifica che il punto corrispondente in *lpPoints* avvia una figura non contigua.

- PT_LINETO specifica che il punto precedente e il punto corrispondente in *lpPoints* sono gli endpoint di una riga.

- PT_BEZIERTO specifica che il punto corrispondente in *lpPoints* è un punto di controllo o un punto finale per una curva Bzier.

I tipi di PT_BEZIERTO vengono sempre eseguiti in set di tre. Il punto nel percorso immediatamente precedente definisce il punto iniziale per la curva Bzier. I primi due punti PT_BEZIERTO sono i punti di controllo e il terzo punto di PT_BEZIERTO è il punto finale, se hardcoded.

   Un tipo PT_LINETO o PT_BEZIERTO può essere combinato con il flag seguente (usando l'operatore bit per bit **o**) per indicare che il punto corrispondente è l'ultimo punto in una figura e che la figura deve essere chiusa:

- PT_CLOSEFIGURE specifica che la figura viene chiusa automaticamente dopo che è stata disegnata la linea o la curva corrispondente. La figura viene chiusa disegnando una linea dall'endpoint linea o curva al punto corrispondente all'ultimo PT_MOVETO.

*nCount*<br/>
Specifica il numero totale di strutture di dati [punto](/windows/win32/api/windef/ns-windef-point) che possono essere inserite nella matrice *lpPoints* . Questo valore deve corrispondere al numero di byte che può essere inserito nella matrice *lpTypes* .

### <a name="return-value"></a>Valore restituito

Se il parametro *nCount* è diverso da zero, il numero di punti enumerati. Se *nCount* è 0, il numero totale di punti nel percorso (e `GetPath` non scrive niente nei buffer). Se *nCount* è diverso da zero ed è inferiore al numero di punti nel percorso, il valore restituito è-1.

### <a name="remarks"></a>Osservazioni

Il contesto di dispositivo deve contenere un percorso chiuso. I punti del percorso vengono restituiti nelle coordinate logiche. I punti vengono archiviati nel percorso nelle coordinate del dispositivo, quindi `GetPath` modificano i punti dalle coordinate del dispositivo alle coordinate logiche usando l'inverso della trasformazione corrente. La `FlattenPath` funzione membro può essere chiamata prima `GetPath` di, per convertire tutte le curve nel percorso in segmenti di linea.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: BeginPath](#beginpath).

## <a name="cdcgetpixel"></a><a name="getpixel"></a>CDC:: GetPixel

Recupera il valore di colore RGB del pixel in corrispondenza del punto specificato da *x* e *y*.

```
COLORREF GetPixel(
    int x,
    int y) const;

COLORREF GetPixel(POINT point) const;
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto da esaminare.

*y*<br/>
Specifica la coordinata y logica del punto da esaminare.

*punto*<br/>
Specifica le coordinate x e y logiche del punto da esaminare.

### <a name="return-value"></a>Valore restituito

Per entrambe le versioni della funzione, un valore di colore RGB per il colore del punto specificato. È-1 se le coordinate non specificano un punto nell'area di ridimensionamento.

### <a name="remarks"></a>Osservazioni

Il punto deve trovarsi nell'area di ridimensionamento. Se il punto non si trova nell'area di ridimensionamento, la funzione non ha alcun effetto e restituisce-1.

Non tutti i dispositivi supportano la funzione `GetPixel`. Per ulteriori informazioni, vedere la RC_BITBLT funzionalità raster sotto la funzione membro [GetDeviceCaps](#getdevicecaps) .

La `GetPixel` funzione membro ha due formati. Il primo accetta due valori delle coordinate. il secondo accetta una struttura [Point](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

## <a name="cdcgetpolyfillmode"></a><a name="getpolyfillmode"></a>CDC:: GetPolyFillMode

Recupera la modalità di riempimento poligono corrente.

```
int GetPolyFillMode() const;
```

### <a name="return-value"></a>Valore restituito

Modalità corrente con riempimento a poligono, alternativa o AVVOLGImento, se la funzione ha esito positivo.

### <a name="remarks"></a>Osservazioni

`SetPolyFillMode`Per una descrizione delle modalità di riempimento poligono, vedere la funzione membro.

## <a name="cdcgetrop2"></a><a name="getrop2"></a>CDC:: GetROP2

Recupera la modalità di disegno corrente.

```
int GetROP2() const;
```

### <a name="return-value"></a>Valore restituito

Modalità di disegno. Per un elenco dei valori della modalità di disegno, vedere la `SetROP2` funzione membro.

### <a name="remarks"></a>Osservazioni

La modalità di disegno specifica il modo in cui i colori della penna e della parte interna degli oggetti riempiti vengono combinati con il colore già presente sulla superficie di visualizzazione.

## <a name="cdcgetsafehdc"></a><a name="getsafehdc"></a>CDC:: GetSafeHdc

Chiamare questa funzione membro per ottenere [m_hDC](#m_hdc), il contesto di dispositivo di output.

```
HDC GetSafeHdc() const;
```

### <a name="return-value"></a>Valore restituito

Handle di contesto di dispositivo.

### <a name="remarks"></a>Osservazioni

Questa funzione membro funziona anche con puntatori null.

## <a name="cdcgetstretchbltmode"></a><a name="getstretchbltmode"></a>CDC:: GetStretchBltMode

Recupera la modalità di estensione bitmap corrente.

```
int GetStretchBltMode() const;
```

### <a name="return-value"></a>Valore restituito

Il valore restituito specifica la modalità di estensione della bitmap corrente, ovvero STRETCH_ANDSCANS, STRETCH_DELETESCANS o STRETCH_ORSCANS, se la funzione ha esito positivo.

### <a name="remarks"></a>Osservazioni

La modalità di estensione bitmap definisce il modo in cui le informazioni vengono rimosse dalle bitmap allungate o compresse dalla `StretchBlt` funzione membro.

Le modalità STRETCH_ANDSCANS e STRETCH_ORSCANS vengono in genere utilizzate per mantenere i pixel in primo piano nelle bitmap monocromatiche. La modalità STRETCH_DELETESCANS viene in genere usata per mantenere il colore nelle bitmap dei colori.

## <a name="cdcgettabbedtextextent"></a><a name="gettabbedtextextent"></a>CDC:: GetTabbedTextExtent

Chiamare questa funzione membro per calcolare la larghezza e l'altezza di una stringa di caratteri usando [m_hAttribDC](#m_hattribdc), il contesto di dispositivo dell'attributo.

```
CSize GetTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>Parametri

*lpszString*<br/>
Punta a una stringa di caratteri. È anche possibile passare un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) per questo parametro.

*nCount*<br/>
Specifica la [lunghezza della stringa](/windows/win32/gdi/specifying-length-of-text-output-string) a cui punta *lpszString*.

*nTabPositions*<br/>
Specifica il numero di posizioni di interruzione di tabulazione nella matrice a cui punta *lpnTabStopPositions*.

*lpnTabStopPositions*<br/>
Punta a una matrice di numeri interi contenenti le posizioni di interruzione di tabulazione in unità logiche. Il numero di tabulazioni deve essere ordinato in ordine crescente. il valore x più piccolo deve essere il primo elemento della matrice. Non sono consentite schede back.

*str*<br/>
`CString`Oggetto contenente i caratteri specificati da disegnare.

### <a name="return-value"></a>Valore restituito

Dimensioni della stringa (in unità logiche) in un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

Se la stringa contiene uno o più caratteri di tabulazione, la larghezza della stringa si basa sulle tabulazioni specificate da *lpnTabStopPositions*. La funzione usa il tipo di carattere attualmente selezionato per calcolare le dimensioni della stringa.

L'area di visualizzazione corrente non compensa la larghezza e l'altezza restituite dalla `GetTabbedTextExtent` funzione.

Poiché alcuni dispositivi non inseriscono caratteri nelle matrici di celle normali, ovvero i caratteri sono kernati, la somma degli extent dei caratteri di una stringa non può essere uguale all'extent della stringa.

Se *nTabPositions* è 0 e *lpnTabStopPositions* è null, le tabulazioni vengono espanse a otto volte la larghezza media dei caratteri. Se *nTabPositions* è 1, le tabulazioni verranno separate dalla distanza specificata dal primo valore nella matrice a cui punta *lpnTabStopPositions* . Se *lpnTabStopPositions* punta a più di un valore singolo, viene impostato un tasto TAB per ogni valore nella matrice, fino al numero specificato da *nTabPositions*.

## <a name="cdcgettextalign"></a><a name="gettextalign"></a>CDC:: GetTextAlign

Recupera lo stato dei flag di allineamento del testo per il contesto di dispositivo.

```
UINT GetTextAlign() const;
```

### <a name="return-value"></a>Valore restituito

Stato dei flag di allineamento del testo. Il valore restituito è uno o più dei valori seguenti:

- TA_BASELINE specifica l'allineamento dell'asse x e la linea di base del tipo di carattere scelto all'interno del rettangolo di delimitazione.

- TA_BOTTOM specifica l'allineamento dell'asse x e della parte inferiore del rettangolo di delimitazione.

- TA_CENTER specifica l'allineamento dell'asse y e il centro del rettangolo di delimitazione.

- TA_LEFT specifica l'allineamento dell'asse y e il lato sinistro del rettangolo di delimitazione.

- TA_NOUPDATECP specifica che la posizione corrente non viene aggiornata.

- TA_RIGHT specifica l'allineamento dell'asse y e il lato destro del rettangolo di delimitazione.

- TA_TOP specifica l'allineamento dell'asse x e la parte superiore del rettangolo di delimitazione.

- TA_UPDATECP specifica che la posizione corrente è aggiornata.

### <a name="remarks"></a>Osservazioni

I flag di allineamento del testo determinano il modo `TextOut` `ExtTextOut` in cui le funzioni membro e allineano una stringa di testo in relazione al punto iniziale della stringa. I flag di allineamento del testo non sono necessariamente flag a bit singolo e possono essere uguali a 0. Per verificare se è stato impostato un flag, un'applicazione deve attenersi alla procedura seguente:

1. Applicare l'operatore OR bit per bit al flag e ai relativi flag correlati, raggruppati come segue:

   - TA_LEFT, TA_CENTER e TA_RIGHT

   - TA_BASELINE, TA_BOTTOM e TA_TOP

   - TA_NOUPDATECP e TA_UPDATECP

1. Applicare l'operatore AND bit per bit al risultato e il valore restituito di `GetTextAlign` .

1. Verificare l'uguaglianza di questo risultato e il flag.

## <a name="cdcgettextcharacterextra"></a><a name="gettextcharacterextra"></a>CDC:: GetTextCharacterExtra

Recupera l'impostazione corrente per la quantità di spaziatura tra caratteri.

```
int GetTextCharacterExtra() const;
```

### <a name="return-value"></a>Valore restituito

Quantità di spaziatura tra i caratteri.

### <a name="remarks"></a>Osservazioni

GDI aggiunge questa spaziatura a ogni carattere, inclusi i caratteri di pausa, quando scrive una riga di testo nel contesto di dispositivo.

Il valore predefinito per la spaziatura tra caratteri è pari a 0.

## <a name="cdcgettextcolor"></a><a name="gettextcolor"></a>CDC:: GetTextColor

Recupera il colore del testo corrente.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valore restituito

Colore del testo corrente come valore di colore RGB.

### <a name="remarks"></a>Osservazioni

Il colore del testo è il colore di primo piano dei caratteri disegnati mediante le funzioni membro Text-output GDI [Text](#textout)out, [ExtTextOut](#exttextout)e [TabbedTextOut](#tabbedtextout).

## <a name="cdcgettextextent"></a><a name="gettextextent"></a>CDC:: GetTextExtent

Chiamare questa funzione membro per calcolare la larghezza e l'altezza di una riga di testo usando il tipo di carattere corrente per determinare le dimensioni.

```
CSize GetTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetTextExtent(const CString& str) const;
```

### <a name="parameters"></a>Parametri

*lpszString*<br/>
Punta a una stringa di caratteri. È anche possibile passare un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) per questo parametro.

*nCount*<br/>
Specifica il numero di caratteri nella stringa.

*str*<br/>
`CString`Oggetto contenente i caratteri specificati.

### <a name="return-value"></a>Valore restituito

Dimensioni della stringa (in unità logiche) in un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

Le informazioni vengono recuperate da [m_hAttribDC](#m_hattribdc), il contesto di dispositivo dell'attributo.

Per impostazione predefinita, `GetTextExtent` presuppone che il testo per il quale viene recuperata la dimensione sia impostato lungo una linea orizzontale (ovvero, lo scappamento è 0). Se si crea un tipo di carattere che specifica un tipo di escape diverso da zero, è necessario convertire in modo esplicito l'angolo del testo per ottenere le dimensioni della stringa.

L'area di visualizzazione corrente non influisce sulla larghezza e sull'altezza restituite da `GetTextExtent` .

Poiché alcuni dispositivi non inseriscono caratteri nelle matrici di celle regolari (ovvero eseguono la crenatura), la somma degli extent dei caratteri in una stringa non può essere uguale all'extent della stringa.

## <a name="cdcgettextextentexpointi"></a><a name="gettextextentexpointi"></a>CDC:: GetTextExtentExPointI

Recupera il numero di caratteri in una stringa specificata che rientrerà in uno spazio specificato e riempie una matrice con l'extent del testo per ognuno di questi caratteri.

```
BOOL GetTextExtentExPointI(
    LPWORD pgiIn,
    int cgi,
    int nMaxExtent,
    LPINT lpnFit,
    LPINT alpDx,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*pgiIn*<br/>
Puntatore a una matrice di indici di glifi per cui devono essere recuperati gli extent.

*CGI*<br/>
Specifica il numero di glifi nella matrice a cui punta *pgiIn*.

*nMaxExtent*<br/>
Specifica la larghezza massima consentita, in unità logiche, della stringa formattata.

*lpnFit*<br/>
Puntatore a un intero che riceve un conteggio del numero massimo di caratteri che rientrerà nello spazio specificato da *nMaxExtent*. Quando *lpnFit* è null, *nMaxExtent* viene ignorato.

*alpDx*<br/>
Puntatore a una matrice di numeri interi che riceve extent di glifi parziali. Ogni elemento nella matrice fornisce la distanza, in unità logiche, tra l'inizio della matrice di indici di glifi e uno dei glifi che si riferiscono allo spazio specificato da *nMaxExtent*. Anche se questa matrice deve contenere almeno il numero di elementi degli indici di glifi specificati da *CGI*, la funzione riempie la matrice con extent solo per il numero di indici di glifi specificato da *lpnFit*. Se *lpnDx* è null, la funzione non calcola le larghezze delle stringhe parziali.

*lpSize*<br/>
Puntatore a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) che riceve le dimensioni della matrice di indici di glifi, in unità logiche. Questo valore non può essere NULL.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetTextExtentExPointI](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointi), come descritto nella Windows SDK.

## <a name="cdcgettextextentpointi"></a><a name="gettextextentpointi"></a>CDC:: GetTextExtentPointI

Recupera la larghezza e l'altezza della matrice specificata di indici di glifi.

```
BOOL GetTextExtentPointI(
    LPWORD pgiIn,
    int cgi,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*pgiIn*<br/>
Puntatore a una matrice di indici di glifi per cui devono essere recuperati gli extent.

*CGI*<br/>
Specifica il numero di glifi nella matrice a cui punta *pgiIn*.

*lpSize*<br/>
Puntatore a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) che riceve le dimensioni della matrice di indici di glifi, in unità logiche. Questo valore non può essere NULL.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità della funzione [GetTextExtentPointI](/windows/win32/api/wingdi/nf-wingdi-gettextextentpointi), come descritto nella Windows SDK.

## <a name="cdcgettextface"></a><a name="gettextface"></a>CDC:: GetTextFace

Chiamare questa funzione membro per copiare il nome tipografico del tipo di carattere corrente in un buffer.

```
int GetTextFace(
    int nCount,
    LPTSTR lpszFacename) const;

int GetTextFace(CString& rString) const;
```

### <a name="parameters"></a>Parametri

*nCount*<br/>
Specifica le dimensioni del buffer (in byte). Se il nome del carattere tipografico è più lungo del numero di byte specificato da questo parametro, il nome viene troncato.

*lpszFacename*<br/>
Punta al buffer per il nome del carattere tipografico.

*rString*<br/>
Riferimento a un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

### <a name="return-value"></a>Valore restituito

Numero di byte copiati nel buffer, escluso il carattere null di terminazione. È 0 se si verifica un errore.

### <a name="remarks"></a>Osservazioni

Il nome del carattere tipografico viene copiato come stringa con terminazione null.

## <a name="cdcgettextmetrics"></a><a name="gettextmetrics"></a>CDC:: GetTextMetrics

Recupera le metriche per il tipo di carattere corrente usando il contesto di dispositivo dell'attributo.

```
BOOL GetTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>Parametri

*lpMetrics*<br/>
Punta alla struttura [TEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-textmetricw) che riceve la metrica.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

## <a name="cdcgetviewportext"></a><a name="getviewportext"></a>CDC:: GetViewportExt

Recupera gli extent x e y del viewport del contesto di dispositivo.

```
CSize GetViewportExt() const;
```

### <a name="return-value"></a>Valore restituito

Extent x e y (in unità dispositivo) come `CSize` oggetto.

## <a name="cdcgetviewportorg"></a><a name="getviewportorg"></a>CDC:: GetViewportOrg

Recupera le coordinate x e y dell'origine del viewport associato al contesto di dispositivo.

```
CPoint GetViewportOrg() const;
```

### <a name="return-value"></a>Valore restituito

Origine del viewport (in coordinate del dispositivo) come `CPoint` oggetto.

## <a name="cdcgetwindow"></a><a name="getwindow"></a>CDC:: GetWindow

Restituisce la finestra associata al contesto del dispositivo di visualizzazione.

```
CWnd* GetWindow() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un `CWnd` oggetto in caso di esito positivo; in caso contrario null.

### <a name="remarks"></a>Osservazioni

Si tratta di una funzione avanzata. Questa funzione membro, ad esempio, non può restituire la finestra di visualizzazione durante la stampa o l'anteprima di stampa. Restituisce sempre la finestra associata all'output. Funzioni di output che usano il controller di dominio specificato in questa finestra.

## <a name="cdcgetwindowext"></a><a name="getwindowext"></a>CDC:: GetWindowExt

Recupera gli extent x e y della finestra associata al contesto di dispositivo.

```
CSize GetWindowExt() const;
```

### <a name="return-value"></a>Valore restituito

Extent x e y (in unità logiche) come `CSize` oggetto.

## <a name="cdcgetwindoworg"></a><a name="getwindoworg"></a>CDC:: GetWindowOrg

Recupera le coordinate x e y dell'origine della finestra associata al contesto di dispositivo.

```
CPoint GetWindowOrg() const;
```

### <a name="return-value"></a>Valore restituito

Origine della finestra (in coordinate logiche) come `CPoint` oggetto.

## <a name="cdcgetworldtransform"></a><a name="getworldtransform"></a>CDC:: GetWorldTransform

Recupera lo spazio globale corrente nella trasformazione dello spazio pagina.

```
BOOL GetWorldTransform(XFORM& rXform) const;
```

### <a name="parameters"></a>Parametri

*rXform*<br/>
Riferimento [a una struttura](/windows/win32/api/wingdi/ns-wingdi-xform) di che riceve lo spazio globale corrente nella trasformazione dello spazio pagina.

### <a name="return-value"></a>Valore restituito

Restituisce un valore diverso da zero in seguito all'esito positivo.

Restituisce 0 in caso di errore.

Per ottenere informazioni estese sull'errore, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Osservazioni

Questo metodo esegue il wrapping della funzione GDI [GetWorldTransform](/windows/win32/api/wingdi/nf-wingdi-getworldtransform)di Windows.

## <a name="cdcgradientfill"></a><a name="gradientfill"></a>CDC:: GradientFill

Chiamare questa funzione membro per riempire le strutture rettangolo e triangolo con il colore che si dissolve in modo uniforme da un lato all'altro.

```
BOOL GradientFill(
    TRIVERTEX* pVertices,
    ULONG nVertices,
    void* pMesh,
    ULONG nMeshElements,
    DWORD dwMode);
```

### <a name="parameters"></a>Parametri

*pVertices*<br/>
Puntatore a una matrice di strutture [TRIVERTEX](/windows/win32/api/wingdi/ns-wingdi-trivertex) che definiscono ogni vertice di un triangolo.

*nVertices*<br/>
Numero di vertici.

*pMesh*<br/>
Matrice di strutture di [GRADIENT_TRIANGLE](/windows/win32/api/wingdi/ns-wingdi-gradient_triangle) in modalità triangolo o matrice di strutture [GRADIENT_RECT](/windows/win32/api/wingdi/ns-wingdi-gradient_rect) in modalità rettangolo.

*nMeshElements*<br/>
Numero di elementi (triangoli o rettangoli) in *pMesh*.

*dwMode*<br/>
Specifica la modalità di riempimento sfumatura. Per un elenco di valori possibili, vedere [GradientFill](/windows/win32/api/wingdi/nf-wingdi-gradientfill) nel Windows SDK.

### <a name="return-value"></a>Valore restituito

TRUE se l'operazione riesce; in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Per ulteriori informazioni, vedere `GradientFill` nella Windows SDK.

## <a name="cdcgraystring"></a><a name="graystring"></a>CDC:: GrayString

Disegna il testo disattivato (grigio) nella posizione specificata scrivendo il testo in una bitmap di memoria, attenuando la bitmap e quindi copiando la bitmap sullo schermo.

```
virtual BOOL GrayString(
    CBrush* pBrush,
    BOOL (CALLBACK* lpfnOutput)(
    HDC,
    LPARAM,
    int),
    LPARAM lpData,
    int nCount,
    int x,
    int y,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Parametri

*pBrush*<br/>
Identifica il pennello da utilizzare per l'attenuazione (in grigio).

*lpfnOutput*<br/>
Specifica l'indirizzo dell'istanza di routine della funzione di callback fornita dall'applicazione che trarrà la stringa. Per ulteriori informazioni, vedere la descrizione della funzione di `OutputFunc` [callback](callback-functions-used-by-mfc.md#graystring)di Windows. Se questo parametro è NULL, il sistema utilizza la `TextOut` funzione Windows per creare la stringa e si presuppone che *lpData* sia un puntatore lungo alla stringa di caratteri da restituire.

*lpData*<br/>
Specifica un indicatore di misura lontano per i dati da passare alla funzione di output. Se *lpfnOutput* è null, *lpData* deve essere un puntatore lungo alla stringa da restituire.

*nCount*<br/>
Specifica il numero di caratteri da restituire. Se questo parametro è 0, `GrayString` Calcola la lunghezza della stringa (presupponendo che *lpData* sia un puntatore alla stringa). Se *nCount* è 1 e la funzione a cui fa riferimento *lpfnOutput* restituisce 0, l'immagine viene visualizzata ma non in grigio.

*x*<br/>
Specifica la coordinata x logica della posizione iniziale del rettangolo che racchiude la stringa.

*y*<br/>
Specifica la coordinata y logica della posizione iniziale del rettangolo che racchiude la stringa.

*nWidth*<br/>
Specifica la larghezza (in unità logiche) del rettangolo che racchiude la stringa. Se *nWidth* è 0, `GrayString` Calcola la larghezza dell'area, presumendo che *lpData* sia un puntatore alla stringa.

*nHeight*<br/>
Specifica l'altezza (in unità logiche) del rettangolo che racchiude la stringa. Se *nHeight* è 0, `GrayString` Calcola l'altezza dell'area, presumendo che *lpData* sia un puntatore alla stringa.

### <a name="return-value"></a>Valore restituito

Diverso da zero se viene disegnata la stringa oppure 0 se la funzione `TextOut` o la funzione di output fornita dall'applicazione ha restituito 0 oppure se la memoria disponibile non è sufficiente per creare una bitmap di memoria per l'attenuazione.

### <a name="remarks"></a>Osservazioni

La funzione offusca il testo indipendentemente dal pennello e dallo sfondo selezionati. La `GrayString` funzione membro utilizza il tipo di carattere correntemente selezionato. Prima di utilizzare questa funzione, è necessario selezionare la modalità di mapping MM_TEXT.

Un'applicazione può creare stringhe visualizzate in grigio in dispositivi che supportano un colore grigio a tinta unita senza chiamare la `GrayString` funzione membro. Il colore di sistema COLOR_GRAYTEXT è il colore di sistema grigio solido usato per creare il testo disabilitato. L'applicazione può chiamare la `GetSysColor` funzione Windows per recuperare il valore del colore di COLOR_GRAYTEXT. Se il colore è diverso da 0 (nero), l'applicazione può chiamare la `SetTextColor` funzione membro per impostare il colore del testo sul valore di colore, quindi creare direttamente la stringa. Se il colore recuperato è nero, l'applicazione deve chiamare `GrayString` per Dim (grigio) il testo.

Se *lpfnOutput* è null, GDI utilizza la funzione di output di [testo](/windows/win32/api/wingdi/nf-wingdi-textoutw) di Windows e si presuppone che *lpData* sia un puntatore lontano al carattere da restituire. Se i caratteri da restituire non possono essere gestiti dalla `TextOut` funzione membro (ad esempio, la stringa viene archiviata come bitmap), l'applicazione deve fornire la propria funzione di output.

Si noti inoltre che tutte le funzioni di callback devono intercettare le eccezioni di Microsoft Foundation prima di tornare a Windows, perché non è possibile generare eccezioni tra i limiti di callback. Per ulteriori informazioni sulle eccezioni, vedere l'articolo [eccezioni](../../mfc/exception-handling-in-mfc.md).

La funzione di callback passata a `GrayString` deve utilizzare la **`__stdcall`** convenzione di chiamata e deve essere esportata con **`__declspec`** .

Quando il Framework è in modalità di anteprima, una chiamata alla `GrayString` funzione membro viene convertita in una `TextOut` chiamata e la funzione di callback non viene chiamata.

## <a name="cdchimetrictodp"></a><a name="himetrictodp"></a>CDC:: HIMETRICtoDP

Usare questa funzione quando si convertono le dimensioni HIMETRIC da OLE a pixel.

```cpp
void HIMETRICtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*lpSize*<br/>
Punta a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) o a un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

Se la modalità di mapping dell'oggetto contesto di dispositivo è MM_LOENGLISH, MM_HIENGLISH, MM_LOMETRIC o MM_HIMETRIC, la conversione è basata sul numero di pixel in pollici fisici. Se la modalità di mapping è una delle altre modalità non vincolate (ad esempio, MM_TEXT), la conversione è basata sul numero di pixel nel pollice logico.

## <a name="cdchimetrictolp"></a><a name="himetrictolp"></a>CDC:: HIMETRICtoLP

Chiamare questa funzione per convertire le unità HIMETRIC in unità logiche.

```cpp
void HIMETRICtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*lpSize*<br/>
Punta a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) o a un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

Usare questa funzione quando si ottengono dimensioni HIMETRIC da OLE e si vuole convertirle nella modalità di mapping naturale dell'applicazione.

La conversione viene eseguita convertendo prima le unità HIMETRIC in pixel e quindi convertendo tali unità in unità logiche usando le unità di mapping correnti del contesto di dispositivo. Si noti che gli extent della finestra e del viewport del dispositivo influiscono sul risultato.

## <a name="cdcintersectcliprect"></a><a name="intersectcliprect"></a>CDC:: IntersectClipRect

Crea una nuova area di ridimensionamento formando l'intersezione dell'area corrente e il rettangolo specificato da *X1*, *Y1*, *X2*e *Y2*.

```
int IntersectClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int IntersectClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo.

*Y1*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo.

*X2*<br/>
Specifica la coordinata x logica dell'angolo inferiore destro del rettangolo.

*Y2*<br/>
Specifica la coordinata y logica dell'angolo inferiore destro del rettangolo.

*lpRect*<br/>
Specifica il rettangolo. È possibile passare un `CRect` oggetto o un puntatore a una `RECT` struttura per questo parametro.

### <a name="return-value"></a>Valore restituito

Il tipo della nuova area di ritaglio. Può essere uno dei valori seguenti:

- COMPLEXREGION nuova area di ridimensionamento presenta bordi sovrapposti.

- ERRORE di contesto di dispositivo non valido.

- DINULLREGION nuova area di ridimensionamento è vuota.

- SIMPLEREGION nuova area di ridimensionamento non presenta bordi sovrapposti.

### <a name="remarks"></a>Osservazioni

GDI ritaglia tutti gli output successivi per adattarsi al nuovo limite. La larghezza e l'altezza non devono superare 32.767.

## <a name="cdcinvertrect"></a><a name="invertrect"></a>CDC:: InvertRect

Inverte il contenuto del rettangolo specificato.

```cpp
void InvertRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta a un oggetto `RECT` che contiene le coordinate logiche del rettangolo da invertire. È anche possibile passare un `CRect` oggetto per questo parametro.

### <a name="remarks"></a>Osservazioni

Inversion è un'operazione NOT logica e capovolge i bit di ogni pixel. Nelle visualizzazioni monocromatiche la funzione rende bianchi i pixel neri e neri. Quando si Visualizza il colore, l'inversione dipende dalla modalità di generazione dei colori per la visualizzazione. La chiamata `InvertRect` di due volte con lo stesso rettangolo consente di ripristinare lo schermo ai colori precedenti.

Se il rettangolo è vuoto, non viene disegnato alcun elemento.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#36](../../mfc/codesnippet/cpp/cdc-class_8.cpp)]

## <a name="cdcinvertrgn"></a><a name="invertrgn"></a>CDC:: InvertRgn

Inverte i colori nell'area specificata da *PRGN*.

```
BOOL InvertRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Parametri

*pRgn*<br/>
Identifica l'area da invertire. Le coordinate per l'area sono specificate in unità logiche.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Nelle visualizzazioni monocromatiche la funzione rende bianchi i pixel neri e neri. Quando si Visualizza il colore, l'inversione dipende dalla modalità di generazione dei colori per la visualizzazione.

## <a name="cdcisprinting"></a><a name="isprinting"></a>CDC:: Printable

Determina se il contesto di dispositivo viene utilizzato per la stampa.

```
BOOL IsPrinting() const;
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se l' `CDC` oggetto è un controller di dominio della stampante; in caso contrario, 0.

## <a name="cdclineto"></a><a name="lineto"></a>CDC:: LineTo

Disegna una linea dalla posizione corrente fino a, ma non include, il punto specificato da *x* e *y* (o *punto*).

```
BOOL LineTo(
    int x,
    int y);

BOOL LineTo(POINT point);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica dell'endpoint per la riga.

*y*<br/>
Specifica la coordinata y logica dell'endpoint per la riga.

*punto*<br/>
Specifica l'endpoint per la riga. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la riga viene disegnata; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La linea viene disegnata con la penna selezionata. La posizione corrente è impostata su *x*, *y* o su *Point*.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CRect:: Centerpoint](../../atl-mfc-shared/reference/crect-class.md#centerpoint).

## <a name="cdclptodp"></a><a name="lptodp"></a>CDC:: DPtoLP

Converte le unità logiche in unità di dispositivo.

```cpp
void LPtoDP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void LPtoDP(LPRECT lpRect) const;
void LPtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di punti. Ogni punto della matrice è una struttura di [punti](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*nCount*<br/>
Numero di punti nella matrice.

*lpRect*<br/>
Punta a una struttura [Rect](/windows/win32/api/windef/ns-windef-rect) o a un oggetto [CRect](../../atl-mfc-shared/reference/crect-class.md) . Questo parametro viene usato per il caso comune di mapping di un rettangolo da unità logiche a unità di dispositivo.

*lpSize*<br/>
Punta a una struttura di [dimensioni](/windows/win32/api/windef/ns-windef-size) o a un oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Osservazioni

La funzione esegue il mapping delle coordinate di ogni punto, o dimensioni di una dimensione, dal sistema di coordinate logico di GDI in un sistema di coordinate del dispositivo. La conversione dipende dalla modalità di mapping corrente e dalle impostazioni delle origini e degli extent della finestra e del viewport del dispositivo.

Le coordinate x e y dei punti sono interi con segno a 2 byte compresi nell'intervallo compreso tra-32.768 e 32.767. Nei casi in cui la modalità di mapping provocherebbe valori maggiori di questi limiti, il sistema imposta rispettivamente i valori su-32.768 e 32.767.

## <a name="cdclptohimetric"></a><a name="lptohimetric"></a>CDC:: LPtoHIMETRIC

Chiamare questa funzione per convertire le unità logiche in unità HIMETRIC.

```cpp
void LPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Parametri

*lpSize*<br/>
Punta a una `SIZE` struttura o a un `CSize` oggetto.

### <a name="remarks"></a>Osservazioni

Usare questa funzione quando si assegnano dimensioni HIMETRIC a OLE, eseguendo la conversione dalla modalità di mapping naturale dell'applicazione. Si noti che gli extent della finestra e del viewport del dispositivo influiscono sul risultato.

La conversione viene eseguita convertendo prima le unità logiche in pixel usando le unità di mapping correnti del contesto di dispositivo e quindi convertendo tali unità in unità HIMETRIC.

## <a name="cdcm_hattribdc"></a><a name="m_hattribdc"></a>CDC:: m_hAttribDC

Il contesto di dispositivo dell'attributo per questo `CDC` oggetto.

```
HDC m_hAttribDC;
```

### <a name="remarks"></a>Osservazioni

Per impostazione predefinita, questo contesto di dispositivo è uguale a `m_hDC` . In generale, le `CDC` chiamate GDI che richiedono informazioni dal contesto di dispositivo vengono indirizzate a `m_hAttribDC` . Per altre informazioni sull'uso di questi due contesti di dispositivo, vedere la descrizione della classe [CDC](../../mfc/reference/cdc-class.md) .

## <a name="cdcm_hdc"></a><a name="m_hdc"></a>CDC:: m_hDC

Contesto di dispositivo di output per questo `CDC` oggetto.

```
HDC m_hDC;
```

### <a name="remarks"></a>Osservazioni

Per impostazione predefinita, `m_hDC` è uguale a `m_hAttribDC` , l'altro contesto di dispositivo di cui è stato eseguito il wrapper `CDC` . In generale, le `CDC` chiamate GDI che creano l'output vengono indirizzate al `m_hDC` contesto di dispositivo. È possibile inizializzare `m_hDC` e `m_hAttribDC` per puntare a dispositivi diversi. Per altre informazioni sull'uso di questi due contesti di dispositivo, vedere la descrizione della classe [CDC](../../mfc/reference/cdc-class.md) .

## <a name="cdcmaskblt"></a><a name="maskblt"></a>CDC:: MaskBlt

Combina i dati relativi al colore per le bitmap di origine e di destinazione utilizzando la maschera e l'operazione raster specificati.

```
BOOL MaskBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    CBitmap& maskBitmap,
    int xMask,
    int yMask,
    DWORD dwRop);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo di destinazione.

*y*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo di destinazione.

*nWidth*<br/>
Specifica la larghezza, in unità logiche, del rettangolo di destinazione e della bitmap di origine.

*nHeight*<br/>
Specifica l'altezza, in unità logiche, del rettangolo di destinazione e della bitmap di origine.

*pSrcDC*<br/>
Identifica il contesto di dispositivo da cui deve essere copiata la bitmap. Deve essere zero se il parametro *dwRop* specifica un'operazione raster che non include un'origine.

*xSrc*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro della bitmap di origine.

*ySrc*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro della bitmap di origine.

*maskBitmap*<br/>
Identifica la bitmap maschera monocromatica combinata con la bitmap del colore nel contesto del dispositivo di origine.

*xMask*<br/>
Specifica l'offset orizzontale del pixel per la bitmap della maschera specificata dal parametro *maskBitmap* .

*yMask*<br/>
Specifica l'offset verticale dei pixel per la bitmap della maschera specificata dal parametro *maskBitmap* .

*dwRop*<br/>
Specifica i codici operativi raster ternari in primo piano e in background, usati dalla funzione per controllare la combinazione di dati di origine e di destinazione. Il codice dell'operazione raster in background viene archiviato nel byte massimo della parola alta di questo valore. il codice dell'operazione raster in primo piano viene archiviato nel byte minimo della parola alta di questo valore. il termine basso di questo valore viene ignorato e deve essere zero. La macro MAKEROP4 crea tali combinazioni di codici operativi raster in primo piano e in background. Vedere la sezione Osservazioni per una descrizione di primo piano e sfondo nel contesto di questa funzione. Vedere la `BitBlt` funzione membro per un elenco di codici operativi raster comuni.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il valore 1 nella maschera specificata da *maskBitmap* indica che il codice dell'operazione raster in primo piano specificato da *dwRop* deve essere applicato in tale posizione. Il valore 0 nella maschera indica che il codice dell'operazione raster in background specificato da *dwRop* deve essere applicato in tale posizione. Se le operazioni raster richiedono un'origine, il rettangolo di maschera deve coprire il rettangolo di origine. In caso contrario, la funzione avrà esito negativo. Se le operazioni raster non richiedono un'origine, il rettangolo della maschera deve coprire il rettangolo di destinazione. In caso contrario, la funzione avrà esito negativo.

Se è attiva una trasformazione di rotazione o di taglio per il contesto del dispositivo di origine quando viene chiamata questa funzione, si verifica un errore. Sono tuttavia consentiti altri tipi di trasformazioni.

Se i formati di colore delle bitmap di origine, modello e destinazione sono diversi, questa funzione converte il modello o il formato di origine, o entrambi, in modo che corrisponda al formato di destinazione. Se la bitmap della maschera non è una bitmap monocromatica, si verificherà un errore. Quando viene registrato un metafile avanzato, si verifica un errore (e la funzione restituisce 0) se il contesto di dispositivo di origine identifica un contesto di dispositivo Enhanced Metafile. Non tutti i dispositivi supportano `MaskBlt` . Un'applicazione deve chiamare `GetDeviceCaps` per determinare se un dispositivo supporta questa funzione. Se non viene fornita alcuna bitmap mask, questa funzione si comporta esattamente come `BitBlt` , usando il codice dell'operazione raster in primo piano. Gli offset dei pixel nella bitmap della maschera vengono mappati al punto (0,0) nella bitmap del contesto del dispositivo di origine. Questa operazione è utile nei casi in cui una bitmap mask contiene un set di maschere; un'applicazione può facilmente applicarne una a un'attività mask-blitting modificando gli offset dei pixel e le dimensioni del rettangolo inviate a `MaskBlt` .

## <a name="cdcmodifyworldtransform"></a><a name="modifyworldtransform"></a>CDC:: ModifyWorldTransform

Modifica la trasformazione globale per un contesto di dispositivo utilizzando la modalità specificata.

```
BOOL ModifyWorldTransform(
    const XFORM& rXform,
    DWORD iMode);
```

### <a name="parameters"></a>Parametri

*rXform*<br/>
Riferimento [a una struttura](/windows/win32/api/wingdi/ns-wingdi-xform) di che consente di modificare la trasformazione globale per il contesto di dispositivo specificato.

*iMode*<br/>
Specifica il modo in cui i dati della trasformazione modificano la trasformazione globale corrente. Per un elenco dei valori che questo parametro può assumere, vedere [ModifyWorldTransform](/windows/win32/api/wingdi/nf-wingdi-modifyworldtransform).

### <a name="return-value"></a>Valore restituito

Restituisce un valore diverso da zero in seguito all'esito positivo.

Restituisce 0 in caso di errore.

Per ottenere informazioni estese sull'errore, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Osservazioni

Questo metodo esegue il wrapping della funzione GDI [ModifyWorldTransform](/windows/win32/api/wingdi/nf-wingdi-modifyworldtransform)di Windows.

## <a name="cdcmoveto"></a><a name="moveto"></a>CDC:: MoveTo

Sposta la posizione corrente nel punto specificato da *x* e *y* (o per *punto*).

```
CPoint MoveTo(
    int x,
    int y);

CPoint MoveTo(POINT point);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica della nuova posizione.

*y*<br/>
Specifica la coordinata y logica della nuova posizione.

*punto*<br/>
Specifica la nuova posizione. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Coordinate x e y della posizione precedente come `CPoint` oggetto.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CRect:: Centerpoint](../../atl-mfc-shared/reference/crect-class.md#centerpoint).

## <a name="cdcoffsetcliprgn"></a><a name="offsetcliprgn"></a>CDC:: OffsetClipRgn

Sposta l'area di visualizzazione del contesto di dispositivo in base agli offset specificati.

```
int OffsetClipRgn(
    int x,
    int y);

int OffsetClipRgn(SIZE size);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica il numero di unità logiche da spostare verso sinistra o verso destra.

*y*<br/>
Specifica il numero di unità logiche da spostare verso l'alto o verso il basso.

*size*<br/>
Specifica la quantità di offset.

### <a name="return-value"></a>Valore restituito

Tipo della nuova area. Può essere uno dei valori seguenti:

- L'area di ritaglio COMPLEXREGION presenta bordi sovrapposti.

- ERRORE di contesto di dispositivo non valido.

- L'area di ritaglio DINULLREGION è vuota.

- L'area di ritaglio SIMPLEREGION non presenta bordi sovrapposti.

### <a name="remarks"></a>Osservazioni

La funzione sposta le unità dell'area *x* lungo l'asse x e le unità *y* lungo l'asse y.

## <a name="cdcoffsetviewportorg"></a><a name="offsetviewportorg"></a>CDC:: OffsetViewportOrg

Modifica le coordinate dell'origine del viewport rispetto alle coordinate dell'origine del viewport corrente.

```
virtual CPoint OffsetViewportOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Parametri

*nWidth*<br/>
Specifica il numero di unità di dispositivo da aggiungere alla coordinata x dell'origine corrente.

*nHeight*<br/>
Specifica il numero di unità di dispositivo da aggiungere alla coordinata y dell'origine corrente.

### <a name="return-value"></a>Valore restituito

Origine del viewport precedente (in coordinate del dispositivo) come `CPoint` oggetto.

## <a name="cdcoffsetwindoworg"></a><a name="offsetwindoworg"></a>CDC:: OffsetWindowOrg

Modifica le coordinate dell'origine della finestra rispetto alle coordinate dell'origine della finestra corrente.

```
CPoint OffsetWindowOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Parametri

*nWidth*<br/>
Specifica il numero di unità logiche da aggiungere alla coordinata x dell'origine corrente.

*nHeight*<br/>
Specifica il numero di unità logiche da aggiungere alla coordinata y dell'origine corrente.

### <a name="return-value"></a>Valore restituito

Origine della finestra precedente (in coordinate logiche) come `CPoint` oggetto.

## <a name="cdcoperator-hdc"></a><a name="operator_hdc"></a>CDC:: operator HDC

Utilizzare questo operatore per recuperare l'handle del contesto di dispositivo dell' `CDC` oggetto.

```
operator HDC() const;
```

### <a name="return-value"></a>Valore restituito

In caso di esito positivo, l'handle dell'oggetto contesto di dispositivo; in caso contrario, NULL.

### <a name="remarks"></a>Osservazioni

È possibile usare l'handle per chiamare direttamente le API di Windows.

## <a name="cdcpaintrgn"></a><a name="paintrgn"></a>CDC::P aintRgn

Riempie l'area specificata da *PRGN* utilizzando il pennello corrente.

```
BOOL PaintRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Parametri

*pRgn*<br/>
Identifica l'area da riempire. Le coordinate per l'area specificata vengono specificate in unità logiche.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

## <a name="cdcpatblt"></a><a name="patblt"></a>CDC::P atBlt

Crea uno schema di bit sul dispositivo.

```
BOOL PatBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica dell'angolo superiore sinistro del rettangolo che deve ricevere il modello.

*y*<br/>
Specifica la coordinata y logica dell'angolo superiore sinistro del rettangolo che deve ricevere il modello.

*nWidth*<br/>
Specifica la larghezza (in unità logiche) del rettangolo che deve ricevere il modello.

*nHeight*<br/>
Specifica l'altezza (in unità logiche) del rettangolo che deve ricevere il modello.

*dwRop*<br/>
Specifica il codice dell'operazione raster. I codici di operazione raster definiscono il modo in cui GDI combina i colori nelle operazioni di output che coinvolgono un pennello corrente, una possibile bitmap di origine e una bitmap di destinazione. Questo parametro può essere uno dei valori seguenti:

- PATCOPY copia il modello nella bitmap di destinazione.

- PATINVERT combina la bitmap di destinazione con il modello usando l'operatore booleano XOR.

- DSTINVERT inverte la bitmap di destinazione.

- Il nero converte tutto il nero di output.

- Il bianco viene trasformato in tutto il bianco di output.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il modello è una combinazione del pennello selezionato e del modello già presente nel dispositivo. Il codice di operazione raster specificato da *dwRop* definisce il modo in cui i modelli devono essere combinati. Le operazioni raster elencate per questa funzione sono un subset limitato dei codici di operazione raster ternaria 256 completi. in particolare, non è possibile usare un codice di operazione raster che fa riferimento a un'origine.

Non tutti i contesti di dispositivo supportano la `PatBlt` funzione. Per determinare se un contesto di dispositivo supporta `PatBlt` , chiamare la `GetDeviceCaps` funzione membro con l'indice RASTERCAPS e controllare il valore restituito per il flag di RC_BITBLT.

## <a name="cdcpie"></a><a name="pie"></a>CDC::P IE

Disegna un cuneo a torta disegnando un arco ellittico il cui centro e due endpoint vengono uniti per riga.

```
BOOL Pie(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Pie(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x dell'angolo superiore sinistro del rettangolo di delimitazione (in unità logiche).

*Y1*<br/>
Specifica la coordinata y dell'angolo superiore sinistro del rettangolo di delimitazione (in unità logiche).

*X2*<br/>
Specifica la coordinata x dell'angolo inferiore destro del rettangolo di delimitazione (in unità logiche).

*Y2*<br/>
Specifica la coordinata y dell'angolo inferiore destro del rettangolo di delimitazione (in unità logiche).

*X3*<br/>
Specifica la coordinata x del punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*Y3*<br/>
Specifica la coordinata y del punto iniziale dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*X4*<br/>
Specifica la coordinata x dell'endpoint dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*Y4*<br/>
Specifica la coordinata y dell'endpoint dell'arco (in unità logiche). Questo punto non deve trovarsi esattamente sull'arco.

*lpRect*<br/>
Specifica il rettangolo di delimitazione. È possibile passare un `CRect` oggetto o un puntatore a una `RECT` struttura per questo parametro.

*ptStart*<br/>
Specifica il punto iniziale dell'arco. Questo punto non deve trovarsi esattamente sull'arco. Per questo parametro è possibile passare una struttura [Point](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*ptEnd*<br/>
Specifica l'endpoint dell'arco. Questo punto non deve trovarsi esattamente sull'arco. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il centro dell'arco è il centro del rettangolo di delimitazione specificato da *X1*, *Y1*, *X2*e *Y2* (o da *lpRect*). I punti iniziale e finale dell'arco sono specificati da *X3*, *Y3*, *X4*e *Y4* (o da *ptStart* e *ptEnd*).

L'arco viene disegnato con la penna selezionata e si muove in senso antiorario. Vengono disegnate due linee aggiuntive da ogni endpoint al centro dell'arco. L'area a torta viene riempita con il pennello corrente. Se *X3* è uguale a *X4* e *Y3* è uguale a *Y4*, il risultato è un'ellisse con una singola riga dal centro dell'ellisse al punto ( *X3*, *Y3*) o ( *X4*, *Y4*).

La figura disegnata da questa funzione si estende fino a, ma non include le coordinate giuste e inferiori. Ciò significa che l'altezza della figura è *Y2*  -  *Y1* e la larghezza della figura è *X2*  -  *X1*. Sia la larghezza che l'altezza del rettangolo di delimitazione devono essere maggiori di 2 unità e minori di 32.767 unità.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#37](../../mfc/codesnippet/cpp/cdc-class_9.cpp)]

## <a name="cdcplaymetafile"></a><a name="playmetafile"></a>CDC::P layMetaFile

Riproduce il contenuto del metafile specificato nel contesto di dispositivo.

```
BOOL PlayMetaFile(HMETAFILE hMF);

BOOL PlayMetaFile(
    HENHMETAFILE hEnhMetaFile,
    LPCRECT lpBounds);
```

### <a name="parameters"></a>Parametri

*hMF*<br/>
Identifica il metafile da riprodurre.

*hEnhMetaFile*<br/>
Identifica il metafile avanzato.

*lpBounds*<br/>
Punta a una `RECT` struttura o a un `CRect` oggetto che contiene le coordinate del rettangolo di delimitazione utilizzato per visualizzare l'immagine. Le coordinate sono specificate in unità logiche.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il metafile può essere riprodotto per un numero qualsiasi di volte.

La seconda versione di `PlayMetaFile` Visualizza l'immagine archiviata nel metafile di formato avanzato specificato. Quando un'applicazione chiama la seconda versione di `PlayMetaFile` , Windows usa il frame immagine nell'intestazione Enhanced-Metafile per eseguire il mapping dell'immagine nel rettangolo a cui punta il parametro *lpBounds* . Questa immagine può essere tagliata o ruotata impostando la trasformazione globale nel dispositivo di output prima di chiamare `PlayMetaFile` . I punti lungo i bordi del rettangolo sono inclusi nell'immagine. È possibile ritagliare un'immagine del metafile migliorato definendo l'area di visualizzazione nel dispositivo di output prima di eseguire il metafile avanzato.

Se un metafile avanzato contiene una tavolozza facoltativa, un'applicazione può ottenere colori coerenti impostando una tavolozza dei colori sul dispositivo di output prima di chiamare la seconda versione di `PlayMetaFile` . Per recuperare la tavolozza facoltativa, utilizzare la `GetEnhMetaFilePaletteEntries` funzione Windows. Un metafile migliorato può essere incorporato in un metafile migliorato appena creato chiamando la seconda versione di `PlayMetaFile` e riproducendo il metafile avanzato di origine nel contesto di dispositivo per il nuovo Metafile avanzato.

Gli Stati del contesto di dispositivo di output vengono conservati da questa funzione. Qualsiasi oggetto creato ma non eliminato in Enhanced Metafile viene eliminato da questa funzione. Per arrestare questa funzione, un'applicazione può chiamare la `CancelDC` funzione di Windows da un altro thread per terminare l'operazione. In questo caso, la funzione restituisce zero.

## <a name="cdcplgblt"></a><a name="plgblt"></a>CDC::P lgBlt

Esegue un trasferimento a blocchi di bit dei bit di dati del colore dal rettangolo specificato nel contesto di dispositivo di origine al parallelogramma specificato nel contesto di dispositivo specificato.

```
BOOL PlgBlt(
    LPPOINT lpPoint,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nWidth,
    int nHeight,
    CBitmap& maskBitmap,
    int xMask,
    int yMask);
```

### <a name="parameters"></a>Parametri

*lpPoint*<br/>
Punta a una matrice di tre punti nello spazio logico che identifica tre angoli del parallelogramma di destinazione. Viene eseguito il mapping dell'angolo superiore sinistro del rettangolo di origine al primo punto della matrice, all'angolo superiore destro al secondo punto della matrice e all'angolo inferiore sinistro al terzo punto. L'angolo inferiore destro del rettangolo di origine viene mappato al quarto punto implicito nel parallelogramma.

*pSrcDC*<br/>
Identifica il contesto del dispositivo di origine.

*xSrc*<br/>
Specifica la coordinata x, in unità logiche, dell'angolo superiore sinistro del rettangolo di origine.

*ySrc*<br/>
Specifica la coordinata y, in unità logiche, dell'angolo superiore sinistro del rettangolo di origine.

*nWidth*<br/>
Specifica la larghezza, in unità logiche, del rettangolo di origine.

*nHeight*<br/>
Specifica l'altezza, in unità logiche, del rettangolo di origine.

*maskBitmap*<br/>
Identifica una bitmap monocromatica facoltativa usata per mascherare i colori del rettangolo di origine.

*xMask*<br/>
Specifica la coordinata x dell'angolo superiore sinistro della bitmap monocromatica.

*yMask*<br/>
Specifica la coordinata y dell'angolo superiore sinistro della bitmap monocromatica.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Se l'handle della maschera di bit specificato identifica una bitmap monocromatica valida, la funzione usa questa bitmap per mascherare i bit dei dati relativi al colore dal rettangolo di origine.

Il quarto vertice del parallelogramma (D) viene definito trattando i primi tre punti (A, B e C) come vettori e calcolando D = B + C-A.

Se la maschera di maschera esiste, il valore 1 nella maschera indica che il colore del pixel di origine deve essere copiato nella destinazione. Il valore 0 nella maschera indica che il colore del pixel di destinazione non deve essere modificato.

Se il rettangolo della maschera è più piccolo dei rettangoli di origine e di destinazione, la funzione replica il modello di maschera.

Le trasformazioni di ridimensionamento, traduzione e Reflection sono consentite nel contesto del dispositivo di origine. Tuttavia, le trasformazioni di rotazione e di taglio non lo sono. Se la bitmap della maschera non è una bitmap monocromatica, si verificherà un errore. La modalità di adattamento per il contesto di dispositivo di destinazione viene utilizzata per determinare come estendere o comprimere i pixel, se necessario. Quando viene registrato un metafile avanzato, si verifica un errore se il contesto di dispositivo di origine identifica un contesto di dispositivo Enhanced Metafile.

Le coordinate di destinazione vengono trasformate in base al contesto del dispositivo di destinazione; le coordinate di origine vengono trasformate in base al contesto del dispositivo di origine. Se la trasformazione di origine ha una rotazione o un taglio, viene restituito un errore. Se i rettangoli di destinazione e di origine non hanno lo stesso formato di colore, `PlgBlt` converte il rettangolo di origine in modo che corrisponda al rettangolo di destinazione. Non tutti i dispositivi supportano `PlgBlt` . Per ulteriori informazioni, vedere la descrizione della funzionalità raster RC_BITBLT nella `CDC::GetDeviceCaps` funzione membro.

Se i contesti di dispositivo di origine e di destinazione rappresentano dispositivi non compatibili, `PlgBlt` restituisce un errore.

## <a name="cdcpolybezier"></a><a name="polybezier"></a>CDC::P olyBezier

Disegna una o più spline Bzier.

```
BOOL PolyBezier(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture di dati [punto](/windows/win32/api/windef/ns-windef-point) che contengono gli endpoint e i punti di controllo delle spline.

*nCount*<br/>
Specifica il numero di punti nella matrice *lpPoints* . Questo valore deve essere superiore a tre volte il numero di spline da disegnare, perché ogni spline Bzier richiede due punti di controllo e un endpoint e la spline iniziale richiede un punto di partenza aggiuntivo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione disegna spline Bzier cubiche usando gli endpoint e i punti di controllo specificati dal parametro *lpPoints* . La prima spline viene disegnata dal primo punto al quarto punto utilizzando il secondo e il terzo punto come punti di controllo. Ogni spline successiva nella sequenza necessita esattamente di altri tre punti: il punto finale della spline precedente viene usato come punto di partenza, i due punti successivi nella sequenza sono punti di controllo e il terzo è il punto finale.

La posizione corrente non viene né utilizzata né aggiornata dalla `PolyBezier` funzione. La figura non è compilata. Questa funzione disegna righe usando la penna corrente.

## <a name="cdcpolybezierto"></a><a name="polybezierto"></a>CDC::P olyBezierTo

Disegna una o più spline Bzier.

```
BOOL PolyBezierTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture di dati [punto](/windows/win32/api/windef/ns-windef-point) che contiene gli endpoint e i punti di controllo.

*nCount*<br/>
Specifica il numero di punti nella matrice *lpPoints* . Questo valore deve essere tre volte il numero di spline da disegnare, perché ogni spline Bzier richiede due punti di controllo e un punto finale.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione disegna spline Bzier cubiche usando i punti di controllo specificati dal parametro *lpPoints* . La prima spline viene disegnata dalla posizione corrente al terzo punto usando i primi due punti come punti di controllo. Per ogni spline successiva, la funzione necessita esattamente di altri tre punti e usa il punto finale della spline precedente come punto di partenza per la successiva. `PolyBezierTo`Sposta la posizione corrente fino al punto finale dell'ultima spline Bzier. La figura non è compilata. Questa funzione disegna righe usando la penna corrente.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: BeginPath](#beginpath).

## <a name="cdcpolydraw"></a><a name="polydraw"></a>CDC::P olyDraw

Disegna un set di segmenti di linea e spline Bzier.

```
BOOL PolyDraw(
    const POINT* lpPoints,
    const BYTE* lpTypes,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture di dati [punto](/windows/win32/api/windef/ns-windef-point) che contiene gli endpoint per ogni segmento di linea e gli endpoint e i punti di controllo per ogni spline Bzier.

*lpTypes*<br/>
Punta a una matrice che specifica la modalità di utilizzo di ogni punto della matrice *lpPoints* . I valori possibili sono i seguenti:

- PT_MOVETO specifica che questo punto avvia una figura non contigua. Questo punto diventa la nuova posizione corrente.

- PT_LINETO specifica che una riga deve essere disegnata dalla posizione corrente fino a questo punto, che diventa quindi la nuova posizione corrente.

- PT_BEZIERTO specifica che questo punto è un punto di controllo o un punto finale per una spline Bzier.

I tipi di PT_BEZIERTO vengono sempre eseguiti in set di tre. La posizione corrente definisce il punto di partenza per la spline Bzier. I primi due punti PT_BEZIERTO sono i punti di controllo e il terzo punto di PT_BEZIERTO è il punto finale. Il punto finale diventa la nuova posizione corrente. Se non sono presenti tre punti di PT_BEZIERTO consecutivi, viene restituito un errore.

   Un tipo PT_LINETO o PT_BEZIERTO può essere combinato con la costante seguente usando l'operatore bit per bit o per indicare che il punto corrispondente è l'ultimo punto in una figura e la figura è chiusa:

- PT_CLOSEFIGURE specifica che la figura viene chiusa automaticamente dopo che è stato eseguito il tipo di PT_LINETO o PT_BEZIERTO per questo punto. Viene disegnata una linea da questo punto al PT_MOVETO o al punto più recente `MoveTo` .

   Questo flag viene combinato con il tipo di PT_LINETO per una riga o con il tipo di PT_BEZIERTO del punto finale per una spline Bzier, utilizzando l'operatore **OR bit per** bit. La posizione corrente è impostata sul punto finale della linea di chiusura.

*nCount*<br/>
Specifica il numero totale di punti nella matrice *lpPoints* , uguale al numero di byte nella matrice *lpTypes* .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione può essere utilizzata per creare figure non contigue al posto di chiamate consecutive `CDC::MoveTo` alle `CDC::LineTo` `CDC::PolyBezierTo` funzioni membro, e. Le linee e le spline vengono disegnate utilizzando la penna corrente e le cifre non vengono compilate. Se è stato avviato un percorso attivo chiamando la `CDC::BeginPath` funzione membro, `PolyDraw` aggiunge al percorso. I punti contenuti nella matrice *lpPoints* e in *lpTypes* indicano se ogni punto fa parte di un oggetto `CDC::MoveTo` , di `CDC::LineTo` o di un' `CDC::BezierTo` operazione. È anche possibile chiudere le cifre. Questa funzione aggiorna la posizione corrente.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: BeginPath](#beginpath).

## <a name="cdcpolygon"></a><a name="polygon"></a>CDC::P olygon

Disegna un poligono costituito da due o più punti (vertici) connessi da linee, usando la penna corrente.

```
BOOL Polygon(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di punti che specifica i vertici del poligono. Ogni punto della matrice è una `POINT` struttura o un `CPoint` oggetto.

*nCount*<br/>
Specifica il numero di vertici nella matrice.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il sistema chiude automaticamente il poligono, se necessario, disegnando una linea dall'ultimo vertice alla prima.

È possibile recuperare o impostare la modalità di riempimento del poligono corrente usando `GetPolyFillMode` le `SetPolyFillMode` funzioni membro e.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#38](../../mfc/codesnippet/cpp/cdc-class_10.cpp)]

## <a name="cdcpolyline"></a><a name="polyline"></a>CDC::P olyline

Disegna un set di segmenti lineari che connettono i punti specificati da *lpPoints*.

```
BOOL Polyline(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di `POINT` strutture o `CPoint` oggetti da connettere.

*nCount*<br/>
Specifica il numero di punti nella matrice. Questo valore deve essere almeno 2.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Le linee vengono tracciate dal primo punto fino ai punti successivi usando la penna corrente. A differenza della `LineTo` funzione membro, la `Polyline` funzione non utilizza né aggiorna la posizione corrente.

Per ulteriori informazioni, vedere [polilinea](/windows/win32/api/wingdi/nf-wingdi-polyline) nel Windows SDK.

## <a name="cdcpolylineto"></a><a name="polylineto"></a>CDC::P olylineTo

Disegna una o più linee rette.

```
BOOL PolylineTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture di dati [punto](/windows/win32/api/windef/ns-windef-point) che contiene i vertici della linea.

*nCount*<br/>
Specifica il numero di punti nella matrice.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Viene disegnata una linea dalla posizione corrente al primo punto specificato dal parametro *lpPoints* usando la penna corrente. Per ogni riga aggiuntiva, la funzione estrae dal punto finale della riga precedente al punto successivo specificato da *lpPoints*. `PolylineTo`Sposta la posizione corrente fino al punto finale dell'ultima riga. Se i segmenti di linea disegnati da questa funzione formano una figura chiusa, la figura non viene compilata.

## <a name="cdcpolypolygon"></a><a name="polypolygon"></a>CDC::P olyPolygon

Crea due o più poligoni compilati usando la modalità di riempimento poligono corrente.

```
BOOL PolyPolygon(
    LPPOINT lpPoints,
    LPINT lpPolyCounts,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di `POINT` strutture o `CPoint` oggetti che definiscono i vertici dei poligoni.

*lpPolyCounts*<br/>
Punta a una matrice di Integer, ognuno dei quali specifica il numero di punti in uno dei poligoni nella matrice *lpPoints* .

*nCount*<br/>
Numero di voci nella matrice *lpPolyCounts* . Questo numero specifica il numero di poligoni da disegnare. Questo valore deve essere almeno 2.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

I poligoni possono essere disgiunti o sovrapposti.

Ogni poligono specificato in una chiamata alla `PolyPolygon` funzione deve essere chiuso. A differenza dei poligoni creati dalla `Polygon` funzione membro, i poligoni creati da `PolyPolygon` non vengono chiusi automaticamente.

La funzione crea due o più poligoni. Per creare un singolo poligono, un'applicazione deve usare la `Polygon` funzione membro.

È possibile recuperare o impostare la modalità di riempimento del poligono corrente usando `GetPolyFillMode` le `SetPolyFillMode` funzioni membro e.

## <a name="cdcpolypolyline"></a><a name="polypolyline"></a>CDC::P olyPolyline

Disegna più serie di segmenti di linea collegati.

```
BOOL PolyPolyline(
    const POINT* lpPoints,
    const DWORD* lpPolyPoints,
    int nCount);
```

### <a name="parameters"></a>Parametri

*lpPoints*<br/>
Punta a una matrice di strutture che contiene i vertici delle polilinee. Le polilinee vengono specificate consecutivamente.

*lpPolyPoints*<br/>
Punta a una matrice di variabili che specifica il numero di punti nella matrice *lpPoints* per il poligono corrispondente. Ogni voce deve essere maggiore o uguale a 2.

*nCount*<br/>
Specifica il numero totale di conteggi nella matrice *lpPolyPoints* .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

I segmenti di linea vengono disegnati usando la penna corrente. Le cifre formate dai segmenti non vengono compilate. La posizione corrente non viene utilizzata né aggiornata da questa funzione.

## <a name="cdcptvisible"></a><a name="ptvisible"></a>CDC::P tVisible

Determina se il punto specificato si trova all'interno dell'area di visualizzazione del contesto di dispositivo.

```
virtual BOOL PtVisible(
    int x,
    int y) const;

BOOL PtVisible(POINT point) const;
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto.

*y*<br/>
Specifica la coordinata y logica del punto.

*punto*<br/>
Specifica il punto in cui archiviare le coordinate logiche. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se il punto specificato si trova all'interno dell'area di visualizzazione. in caso contrario, 0.

## <a name="cdcqueryabort"></a><a name="queryabort"></a>CDC:: QueryAbort

Chiama la funzione Abort installata dalla funzione membro [SetAbortProc](#setabortproc) per un'applicazione di stampa e esegue una query per determinare se la stampa deve essere terminata.

```
BOOL QueryAbort() const;
```

### <a name="return-value"></a>Valore restituito

Il valore restituito è diverso da zero se la stampa deve continuare o se non è presente alcuna routine di interruzione. È 0 se il processo di stampa deve essere terminato. Il valore restituito viene fornito dalla funzione Abort.

## <a name="cdcrealizepalette"></a><a name="realizepalette"></a>CDC:: RealizePalette

Esegue il mapping delle voci della tavolozza logica corrente alla tavolozza di sistema.

```
UINT RealizePalette();
```

### <a name="return-value"></a>Valore restituito

Indica il numero di voci della tavolozza logica di cui è stato eseguito il mapping a voci diverse nella tavolozza di sistema. Rappresenta il numero di voci di cui questa funzione ha eseguito il mapping per adattare le modifiche nella tavolozza di sistema dal momento dell'ultima realizzazione della tavolozza logica.

### <a name="remarks"></a>Osservazioni

Una tavolozza di colori logica funge da buffer tra le applicazioni a elevato utilizzo di colori e il sistema, consentendo a un'applicazione di utilizzare tutti i colori necessari senza interferire con i colori visualizzati o con i colori visualizzati da altre finestre.

Quando una finestra ha lo stato attivo per l'input e chiama `RealizePalette` , Windows garantisce che la finestra visualizzi tutti i colori richiesti, fino al numero massimo simultaneamente disponibile sullo schermo. Windows visualizza anche i colori non trovati nella tavolozza della finestra eseguendone la corrispondenza con i colori disponibili.

Inoltre, Windows corrisponde ai colori richiesti dalle finestre inattive che chiamano la funzione il più vicino possibile ai colori disponibili. Questo consente di ridurre in modo significativo le modifiche indesiderate nei colori visualizzati in finestre inattive.

## <a name="cdcrectangle"></a><a name="rectangle"></a>CDC:: Rectangle

Disegna un rettangolo utilizzando la penna corrente.

```
BOOL Rectangle(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Rectangle(LPCRECT lpRect);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x dell'angolo superiore sinistro del rettangolo (in unità logiche).

*Y1*<br/>
Specifica la coordinata y dell'angolo superiore sinistro del rettangolo (in unità logiche).

*X2*<br/>
Specifica la coordinata x dell'angolo inferiore destro del rettangolo (in unità logiche).

*Y2*<br/>
Specifica la coordinata y dell'angolo inferiore destro del rettangolo (in unità logiche).

*lpRect*<br/>
Specifica il rettangolo in unità logiche. È possibile passare un `CRect` oggetto o un puntatore a una `RECT` struttura per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

L'interno del rettangolo viene riempito utilizzando il pennello corrente.

Il rettangolo si estende fino a, ma non include le coordinate a destra e in basso. Ciò significa che l'altezza del rettangolo è *Y2*  -  *Y1* e la larghezza del rettangolo è *X2*  -  *X1*. Sia la larghezza che l'altezza di un rettangolo devono essere maggiori di 2 unità e minori di 32.767 unità.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#39](../../mfc/codesnippet/cpp/cdc-class_11.cpp)]

## <a name="cdcrectvisible"></a><a name="rectvisible"></a>CDC:: RectVisible

Determina se una parte del rettangolo specificato si trova all'interno dell'area di visualizzazione del contesto di visualizzazione.

```
virtual BOOL RectVisible(LPCRECT lpRect) const;
```

### <a name="parameters"></a>Parametri

*lpRect*<br/>
Punta a una `RECT` struttura o a un `CRect` oggetto che contiene le coordinate logiche del rettangolo specificato.

### <a name="return-value"></a>Valore restituito

Diverso da zero se una parte del rettangolo specificato si trova all'interno dell'area di visualizzazione. in caso contrario, 0.

## <a name="cdcreleaseattribdc"></a><a name="releaseattribdc"></a>CDC:: ReleaseAttribDC

Chiamare questa funzione membro per impostare `m_hAttribDC` su null.

```
virtual void ReleaseAttribDC();
```

### <a name="remarks"></a>Osservazioni

Questa operazione non comporta l'esecuzione di un oggetto `Detach` . Solo il contesto di dispositivo di output viene collegato all' `CDC` oggetto ed è possibile scollegarlo solo.

## <a name="cdcreleaseoutputdc"></a><a name="releaseoutputdc"></a>CDC:: ReleaseOutputDC

Chiamare questa funzione membro per impostare il `m_hDC` membro su null.

```
virtual void ReleaseOutputDC();
```

### <a name="remarks"></a>Osservazioni

Questa funzione membro non può essere chiamata quando il contesto di dispositivo di output è associato all' `CDC` oggetto. Usare la `Detach` funzione membro per scollegare il contesto di dispositivo di output.

## <a name="cdcresetdc"></a><a name="resetdc"></a>CDC:: ResetDC

Chiamare questa funzione membro per aggiornare il contesto di dispositivo incluso nell' `CDC` oggetto.

```
BOOL ResetDC(const DEVMODE* lpDevMode);
```

### <a name="parameters"></a>Parametri

*lpDevMode*<br/>
Puntatore a una struttura di Windows `DEVMODE` .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il contesto di dispositivo viene aggiornato dalle informazioni specificate nella struttura di Windows `DEVMODE` . Questa funzione membro reimposta solo il contesto di dispositivo dell'attributo.

In genere, un'applicazione utilizzerà la `ResetDC` funzione membro quando una finestra elabora un `WM_DEVMODECHANGE` messaggio. È anche possibile usare questa funzione membro per modificare l'orientamento della carta o i contenitori di carta durante la stampa di un documento.

Non è possibile usare questa funzione membro per modificare il nome del driver, il nome del dispositivo o la porta di output. Quando l'utente modifica la connessione alla porta o il nome del dispositivo, è necessario eliminare il contesto di dispositivo originale e creare un nuovo contesto di dispositivo con le nuove informazioni.

Prima di chiamare questa funzione membro, è necessario assicurarsi che tutti gli oggetti (diversi dagli oggetti azionari) selezionati nel contesto di dispositivo siano stati selezionati.

## <a name="cdcrestoredc"></a><a name="restoredc"></a>CDC:: RestoreDC

Ripristina il contesto di dispositivo allo stato precedente identificato da *nSavedDC*.

```
virtual BOOL RestoreDC(int nSavedDC);
```

### <a name="parameters"></a>Parametri

*nSavedDC*<br/>
Specifica il contesto di dispositivo da ripristinare. Può essere un valore restituito da una chiamata di `SaveDC` funzione precedente. Se *nSavedDC* è-1, viene ripristinato il contesto di dispositivo salvato più di recente.

### <a name="return-value"></a>Valore restituito

Diverso da zero se il contesto specificato è stato ripristinato; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

`RestoreDC`Ripristina il contesto di dispositivo schioccando le informazioni sullo stato di uno stack creato da chiamate precedenti alla `SaveDC` funzione membro.

Lo stack può contenere le informazioni sullo stato per diversi contesti di dispositivo. Se il contesto specificato da *nSavedDC* non si trova nella parte superiore dello stack, `RestoreDC` Elimina tutte le informazioni sullo stato tra il contesto di dispositivo specificato da *nSavedDC* e la parte superiore dello stack. Le informazioni eliminate vengono perse.

## <a name="cdcroundrect"></a><a name="roundrect"></a>CDC:: RoundRect

Disegna un rettangolo con angoli arrotondati utilizzando la penna corrente.

```
BOOL RoundRect(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3);

BOOL RoundRect(
    LPCRECT lpRect,
    POINT point);
```

### <a name="parameters"></a>Parametri

*X1*<br/>
Specifica la coordinata x dell'angolo superiore sinistro del rettangolo (in unità logiche).

*Y1*<br/>
Specifica la coordinata y dell'angolo superiore sinistro del rettangolo (in unità logiche).

*X2*<br/>
Specifica la coordinata x dell'angolo inferiore destro del rettangolo (in unità logiche).

*Y2*<br/>
Specifica la coordinata y dell'angolo inferiore destro del rettangolo (in unità logiche).

*X3*<br/>
Specifica la larghezza dell'ellisse utilizzata per creare gli angoli arrotondati (in unità logiche).

*Y3*<br/>
Specifica l'altezza dell'ellisse utilizzata per creare gli angoli arrotondati (in unità logiche).

*lpRect*<br/>
Specifica il rettangolo di delimitazione nelle unità logiche. È possibile passare un `CRect` oggetto o un puntatore a una `RECT` struttura per questo parametro.

*punto*<br/>
La coordinata x del *punto* specifica la larghezza dell'ellisse per creare gli angoli arrotondati (in unità logiche). La coordinata y del *punto* specifica l'altezza dell'ellisse per creare gli angoli arrotondati (in unità logiche). È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

L'interno del rettangolo viene riempito utilizzando il pennello corrente.

La figura che questa funzione disegna si estende fino a, ma non include le coordinate giuste e inferiori. Ciò significa che l'altezza della figura è *Y2*  -  *Y1* e la larghezza della figura è *X2*  -  *X1*. Sia l'altezza che la larghezza del rettangolo di delimitazione devono essere maggiori di 2 unità e minori di 32.767 unità.

### <a name="example"></a>Esempio

[!code-cpp[NVC_MFCDocView#40](../../mfc/codesnippet/cpp/cdc-class_12.cpp)]

## <a name="cdcsavedc"></a><a name="savedc"></a>CDC:: SaveDC

Salva lo stato corrente del contesto di dispositivo copiando le informazioni sullo stato, ad esempio l'area di ritaglio, gli oggetti selezionati e la modalità di mapping, in uno stack di contesti gestito da Windows.

```
virtual int SaveDC();
```

### <a name="return-value"></a>Valore restituito

Intero che identifica il contesto di dispositivo salvato. È 0 se si verifica un errore. Questo valore restituito può essere usato per ripristinare il contesto di dispositivo chiamando `RestoreDC` .

### <a name="remarks"></a>Osservazioni

Il contesto di dispositivo salvato può essere ripristinato in un secondo momento tramite `RestoreDC` .

`SaveDC`può essere usato un numero qualsiasi di volte per salvare un numero qualsiasi di Stati del contesto del dispositivo.

## <a name="cdcscaleviewportext"></a><a name="scaleviewportext"></a>CDC:: ScaleViewportExt

Modifica gli extent del viewport rispetto ai valori correnti.

```
virtual CSize ScaleViewportExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>Parametri

*xNum*<br/>
Specifica il valore in base al quale moltiplicare l'extent x corrente.

*xDenom*<br/>
Specifica la quantità in base alla quale dividere il risultato della moltiplicazione dell'extent x corrente per il valore del parametro *xNum* .

*yNum*<br/>
Specifica la quantità in base alla quale moltiplicare l'extent y corrente.

*yDenom*<br/>
Specifica la quantità in base alla quale dividere il risultato della moltiplicazione dell'extent y corrente per il valore del parametro *yNum* .

### <a name="return-value"></a>Valore restituito

Extent del viewport precedente (in unità dispositivo) come `CSize` oggetto.

### <a name="remarks"></a>Osservazioni

Le formule vengono scritte nel modo seguente:

`xNewVE = ( xOldVE * xNum ) / xDenom`

`yNewVE = ( yOldVE * yNum ) / yDenom`

I nuovi extent del viewport vengono calcolati moltiplicando gli extent correnti in base al numeratore specificato e quindi dividendo il denominatore specificato.

## <a name="cdcscalewindowext"></a><a name="scalewindowext"></a>CDC:: ScaleWindowExt

Modifica gli extent della finestra relativi ai valori correnti.

```
virtual CSize ScaleWindowExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>Parametri

*xNum*<br/>
Specifica il valore in base al quale moltiplicare l'extent x corrente.

*xDenom*<br/>
Specifica la quantità in base alla quale dividere il risultato della moltiplicazione dell'extent x corrente per il valore del parametro *xNum* .

*yNum*<br/>
Specifica la quantità in base alla quale moltiplicare l'extent y corrente.

*yDenom*<br/>
Specifica la quantità in base alla quale dividere il risultato della moltiplicazione dell'extent y corrente per il valore del parametro *yNum* .

### <a name="return-value"></a>Valore restituito

Extent della finestra precedenti (in unità logiche) come `CSize` oggetto.

### <a name="remarks"></a>Osservazioni

Le formule vengono scritte nel modo seguente:

`xNewWE = ( xOldWE * xNum ) / xDenom`

`yNewWE = ( yOldWE * yNum ) / yDenom`

I nuovi extent della finestra vengono calcolati moltiplicando gli extent correnti in base al numeratore specificato e quindi dividendo il denominatore specificato.

## <a name="cdcscrolldc"></a><a name="scrolldc"></a>CDC:: ScrollDC

Scorre un rettangolo di bit orizzontalmente e verticalmente.

```
BOOL ScrollDC(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* pRgnUpdate,
    LPRECT lpRectUpdate);
```

### <a name="parameters"></a>Parametri

*DX*<br/>
Specifica il numero di unità di scorrimento orizzontali.

*DY*<br/>
Specifica il numero di unità di scorrimento verticali.

*lpRectScroll*<br/>
Punta alla `RECT` struttura o all' `CRect` oggetto che contiene le coordinate del rettangolo di scorrimento.

*lpRectClip*<br/>
Punta alla `RECT` struttura o all' `CRect` oggetto che contiene le coordinate del rettangolo di ritaglio. Quando questo rettangolo è più piccolo di quello originale a cui punta *lpRectScroll*, lo scorrimento si verifica solo nel rettangolo più piccolo.

*pRgnUpdate*<br/>
Identifica l'area rilevata dal processo di scorrimento. La `ScrollDC` funzione definisce questa area; non è necessariamente un rettangolo.

*lpRectUpdate*<br/>
Punta alla `RECT` struttura o all' `CRect` oggetto che riceve le coordinate del rettangolo che delimita l'area di aggiornamento dello scorrimento. Si tratta dell'area rettangolare più grande che richiede il ridisegno. I valori nella struttura o nell'oggetto quando la funzione restituisce si trovano nelle coordinate client, indipendentemente dalla modalità di mapping per il contesto di dispositivo specificato.

### <a name="return-value"></a>Valore restituito

Diverso da zero se viene eseguito lo scorrimento; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Se *lpRectUpdate* è null, Windows non calcola il rettangolo di aggiornamento. Se *prgnUpdate* e *LPRECTUPDATE* sono entrambi null, Windows non calcola l'area di aggiornamento. Se *prgnUpdate* non è null, Windows presuppone che contenga un puntatore valido all'area individuata dal processo di scorrimento (definito dalla `ScrollDC` funzione membro). L'area di aggiornamento restituita in *lpRectUpdate* può essere passata a `CWnd::InvalidateRgn` se necessario.

Un'applicazione deve usare la `ScrollWindow` funzione membro della classe `CWnd` quando è necessario scorrere l'intera area client di una finestra. In caso contrario, dovrebbe usare `ScrollDC` .

## <a name="cdcselectclippath"></a><a name="selectclippath"></a>CDC:: SelectClipPath

Seleziona il percorso corrente come area di ridimensionamento per il contesto di dispositivo, combinando la nuova regione con qualsiasi area di ritaglio esistente usando la modalità specificata.

```
BOOL SelectClipPath(int nMode);
```

### <a name="parameters"></a>Parametri

*nMode*<br/>
Specifica la modalità di utilizzo del percorso. Sono consentiti i valori seguenti:

- RGN_AND la nuova area di visualizzazione include l'intersezione (aree sovrapposte) dell'area di ritaglio corrente e il percorso corrente.

- RGN_COPY la nuova area di visualizzazione è il percorso corrente.

- RGN_DIFF la nuova area di visualizzazione include le aree dell'area di ritaglio corrente e quelle del percorso corrente sono escluse.

- RGN_OR la nuova area di visualizzazione include l'Unione (aree combinate) dell'area di ritaglio corrente e il percorso corrente.

- RGN_XOR la nuova area di visualizzazione include l'Unione tra l'area di visualizzazione corrente e il percorso corrente, ma senza le aree sovrapposte.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il contesto di dispositivo identificato deve contenere un percorso chiuso.

## <a name="cdcselectcliprgn"></a><a name="selectcliprgn"></a>CDC:: SelectClipRgn

Seleziona l'area specificata come area di ritaglio corrente per il contesto di dispositivo.

```
int SelectClipRgn(CRgn* pRgn);

int SelectClipRgn(
    CRgn* pRgn,
    int nMode);
```

### <a name="parameters"></a>Parametri

*pRgn*<br/>
Identifica l'area da selezionare.

- Per la prima versione di questa funzione, se questo valore è NULL, viene selezionata l'intera area client e l'output viene comunque ritagliato nella finestra.

- Per la seconda versione di questa funzione, questo handle può essere NULL solo quando è specificata la modalità RGN_COPY.

*nMode*<br/>
Specifica l'operazione da eseguire. Deve essere uno dei valori seguenti:

- RGN_AND la nuova area di visualizzazione combina le aree sovrapposte dell'area di ritaglio corrente e l'area identificata da *PRGN*.

- RGN_COPY la nuova area di visualizzazione è una copia dell'area identificata da *PRGN*. Si tratta di una funzionalità identica alla prima versione di `SelectClipRgn` . Se l'area identificata da *PRGN* è null, la nuova area di visualizzazione diventa l'area di ridimensionamento predefinita (un'area null).

- RGN_DIFF la nuova area di visualizzazione combina le aree dell'area di visualizzazione corrente con quelle escluse dall'area identificata da *PRGN*.

- RGN_OR la nuova area di visualizzazione combina l'area di ritaglio corrente e l'area identificata da *PRGN*.

- RGN_XOR la nuova area di visualizzazione combina l'area di ritaglio corrente e l'area identificata da *PRGN* , ma esclude tutte le aree sovrapposte.

### <a name="return-value"></a>Valore restituito

Tipo dell'area. Può essere uno dei valori seguenti:

- COMPLEXREGION nuova area di ridimensionamento presenta bordi sovrapposti.

- L'area o il contesto di dispositivo di errore non è valido.

- DINULLREGION nuova area di ridimensionamento è vuota.

- SIMPLEREGION nuova area di ridimensionamento non presenta bordi sovrapposti.

### <a name="remarks"></a>Osservazioni

Viene utilizzata solo una copia dell'area selezionata. È possibile selezionare l'area stessa per qualsiasi numero di contesti di dispositivo o eliminarla.

La funzione presuppone che le coordinate per l'area specificata siano specificate in unità dispositivo. Alcuni dispositivi di stampa supportano l'output di testo con una risoluzione superiore rispetto all'output della grafica, in modo da mantenere la precisione necessaria per esprimere le metriche del testo. Questi dispositivi segnalano le unità di dispositivo con una risoluzione superiore, ovvero in unità di testo. Questi dispositivi ridimensionano quindi le coordinate per la grafica in modo che diverse unità del dispositivo segnalate siano mappate solo a 1 unità grafica. È sempre necessario chiamare la `SelectClipRgn` funzione usando unità di testo.

Per determinare il fattore di scalabilità, le applicazioni che devono eseguire la scalabilità degli oggetti grafici in GDI possono usare l'escape della stampante GETSCALINGFACTOR. Questo fattore di scala influiscono sul ritaglio. Se un'area viene utilizzata per ritagliare la grafica, GDI divide le coordinate in base al fattore di scala. Se l'area viene utilizzata per ritagliare il testo, GDI non esegue alcuna regolazione di ridimensionamento. Un fattore di scala 1 causa la suddivisione delle coordinate per 2. un fattore di scala 2 determina la suddivisione delle coordinate per 4; E così via.

## <a name="cdcselectobject"></a><a name="selectobject"></a>CDC:: SelezionaOggetto

Seleziona un oggetto nel contesto di dispositivo.

```
CPen* SelectObject(CPen* pPen);
CBrush* SelectObject(CBrush* pBrush);
virtual CFont* SelectObject(CFont* pFont);
CBitmap* SelectObject(CBitmap* pBitmap);
int SelectObject(CRgn* pRgn);
CGdiObject* SelectObject(CGdiObject* pObject);
```

### <a name="parameters"></a>Parametri

*pPen*<br/>
Puntatore a un oggetto [CPen](../../mfc/reference/cpen-class.md) da selezionare.

*pBrush*<br/>
Puntatore a un oggetto [CBrush](../../mfc/reference/cbrush-class.md) da selezionare.

*pFont*<br/>
Puntatore a un oggetto [CFont](../../mfc/reference/cfont-class.md) da selezionare.

*pBitmap*<br/>
Puntatore a un oggetto [CBitmap](../../mfc/reference/cbitmap-class.md) da selezionare.

*pRgn*<br/>
Puntatore a un oggetto [CRgn](../../mfc/reference/crgn-class.md) da selezionare.

*pObject*<br/>
Puntatore a un oggetto [CGdiObject](../../mfc/reference/cgdiobject-class.md) da selezionare.

### <a name="return-value"></a>Valore restituito

Puntatore all'oggetto da sostituire. Si tratta di un puntatore a un oggetto di una delle classi derivate da `CGdiObject` , ad esempio `CPen` , a seconda della versione della funzione utilizzata. Se si verifica un errore, il valore restituito è NULL. Questa funzione può restituire un puntatore a un oggetto temporaneo. Questo oggetto temporaneo è valido solo durante l'elaborazione di un messaggio di Windows. Per altre informazioni, vedere `CGdiObject::FromHandle`.

La versione della funzione membro che accetta un parametro Region esegue la stessa attività della `SelectClipRgn` funzione membro. Il valore restituito può essere uno dei seguenti:

- COMPLEXREGION nuova area di ridimensionamento presenta bordi sovrapposti.

- L'area o il contesto di dispositivo di errore non è valido.

- DINULLREGION nuova area di ridimensionamento è vuota.

- SIMPLEREGION nuova area di ridimensionamento non presenta bordi sovrapposti.

### <a name="remarks"></a>Osservazioni

`CDC`La classe fornisce cinque versioni specializzate per determinati tipi di oggetti GDI, incluse le penne, i pennelli, i tipi di carattere, le bitmap e le aree. L'oggetto appena selezionato sostituisce l'oggetto precedente dello stesso tipo. Se, ad esempio, *pObject* della versione generale di `SelectObject` punta a un oggetto [CPen](../../mfc/reference/cpen-class.md) , la funzione sostituisce la penna corrente con la penna specificata da *pObject*.

Un'applicazione può selezionare una bitmap in contesti di dispositivo di memoria solo e in un solo contesto di dispositivo di memoria alla volta. Il formato della bitmap deve essere monocromatico o compatibile con il contesto di dispositivo; in caso contrario, `SelectObject` restituisce un errore.

Per Windows 3,1 e versioni successive, la `SelectObject` funzione restituisce lo stesso valore se viene usato in un metafile o meno. Nelle versioni precedenti di Windows, `SelectObject` ha restituito un valore diverso da zero per l'esito positivo e 0 per errore quando è stato usato in un metafile.

## <a name="cdcselectpalette"></a><a name="selectpalette"></a>CDC:: SelectPalette

Seleziona la tavolozza logica specificata da *pPalette* come oggetto tavolozza selezionato del contesto di dispositivo.

```
CPalette* SelectPalette(
    CPalette* pPalette,
    BOOL bForceBackground);
```

### <a name="parameters"></a>Parametri

*pPalette*<br/>
Identifica la tavolozza logica da selezionare. Questa tavolozza deve essere già stata creata con la `CPalette` funzione membro [CreatePalette](../../mfc/reference/cpalette-class.md#createpalette).

*bForceBackground*<br/>
Specifica se la tavolozza logica deve essere una tavolozza di sfondo. Se *bForceBackground* è diverso da zero, la tavolozza selezionata è sempre una tavolozza in background, indipendentemente dal fatto che la finestra abbia lo stato attivo per l'input. Se *bForceBackground* è 0 e il contesto di dispositivo è collegato a una finestra, la tavolozza logica è una tavolozza in primo piano quando la finestra ha lo stato attivo per l'input.

### <a name="return-value"></a>Valore restituito

Puntatore a un `CPalette` oggetto che identifica la tavolozza logica sostituita dalla tavolozza specificata da *pPalette*. È NULL se si verifica un errore.

### <a name="remarks"></a>Osservazioni

La nuova tavolozza diventa l'oggetto tavolozza usato da GDI per controllare i colori visualizzati nel contesto di dispositivo e sostituisce la tavolozza precedente.

Un'applicazione può selezionare una tavolozza logica in più di un contesto di dispositivo. Tuttavia, le modifiche apportate a una tavolozza logica avranno effetto su tutti i contesti di dispositivo per i quali è selezionata. Se un'applicazione seleziona una tavolozza in più di un contesto di dispositivo, i contesti di dispositivo devono appartenere tutti allo stesso dispositivo fisico.

## <a name="cdcselectstockobject"></a><a name="selectstockobject"></a>CDC:: SelectStockObject

Seleziona un oggetto [CGdiObject](../../mfc/reference/cgdiobject-class.md) che corrisponde a una delle penne predefinite, dei pennelli o dei tipi di carattere predefiniti.

```
virtual CGdiObject* SelectStockObject(int nIndex);
```

### <a name="parameters"></a>Parametri

*nIndex*<br/>
Specifica il tipo di oggetto azionario desiderato. Può essere uno dei valori seguenti:

- BLACK_BRUSH pennello nero.

- DKGRAY_BRUSH pennello grigio scuro.

- GRAY_BRUSH pennello grigio.

- HOLLOW_BRUSH pennello vuoto.

- LTGRAY_BRUSH pennello grigio chiaro.

- NULL_BRUSH pennello null.

- WHITE_BRUSH pennello bianco.

- BLACK_PEN penna nera.

- NULL_PEN penna null.

- WHITE_PEN penna bianca.

- ANSI_FIXED_FONT tipo di carattere di sistema fisso ANSI.

- ANSI_VAR_FONT tipo di carattere del sistema variabile ANSI.

- DEVICE_DEFAULT_FONT tipo di carattere dipendente dal dispositivo.

- OEM_FIXED_FONT tipo di carattere fisso dipendente dall'OEM.

- SYSTEM_FONT il tipo di carattere del sistema. Per impostazione predefinita, Windows utilizza il tipo di carattere del sistema per creare menu, controlli della finestra di dialogo e altro testo. Si consiglia, tuttavia, di non basarsi su SYSTEM_FONT per ottenere il tipo di carattere utilizzato dalle finestre di dialogo e da Windows. Usare invece la `SystemParametersInfo` funzione con il parametro SPI_GETNONCLIENTMETRICS per recuperare il tipo di carattere corrente. `SystemParametersInfo`prende in considerazione il tema corrente e fornisce informazioni sui tipi di carattere per le didascalie, i menu e le finestre di dialogo del messaggio.

- SYSTEM_FIXED_FONT il tipo di carattere del sistema a larghezza fissa usato in Windows prima della versione 3,0. Questo oggetto è disponibile per la compatibilità con le versioni precedenti di Windows.

- DEFAULT_PALETTE tavolozza dei colori predefinita. Questa tavolozza è costituita dai 20 colori statici nella tavolozza di sistema.

### <a name="return-value"></a>Valore restituito

Puntatore all' `CGdiObject` oggetto che è stato sostituito se la funzione ha esito positivo. L'oggetto effettivo a cui punta è un oggetto [CPen](../../mfc/reference/cpen-class.md), [CBrush](../../mfc/reference/cbrush-class.md)o [CFont](../../mfc/reference/cfont-class.md) . Se la chiamata ha esito negativo, il valore restituito è NULL.

## <a name="cdcsetabortproc"></a><a name="setabortproc"></a>CDC:: SetAbortProc

Installa la procedura di interruzione per il processo di stampa.

```
int SetAbortProc(BOOL (CALLBACK* lpfn)(HDC, int));
```

### <a name="parameters"></a>Parametri

*lpfn*<br/>
Puntatore alla funzione Abort da installare come procedura di interruzione. Per ulteriori informazioni sulla funzione di callback, vedere [funzione di callback per CDC:: SetAbortProc](callback-functions-used-by-mfc.md#setabortproc).

### <a name="return-value"></a>Valore restituito

Specifica il risultato della `SetAbortProc` funzione. Alcuni dei valori seguenti sono più probabili di altri, ma sono tutti possibili.

- SP_ERROR errore generale.

- SP_OUTOFDISK spazio su disco insufficiente è attualmente disponibile per lo spooling e non sarà più disponibile spazio.

- SP_OUTOFMEMORY la memoria disponibile non è sufficiente per lo spooling.

- SP_USERABORT utente ha terminato il processo tramite il gestore di stampa.

### <a name="remarks"></a>Osservazioni

Se un'applicazione deve consentire l'annullamento del processo di stampa durante lo spooling, deve impostare la funzione Abort prima che il processo di stampa venga avviato con la funzione membro [StartDoc](#startdoc) . Il gestore di stampa chiama la funzione Abort durante lo spooling per consentire all'applicazione di annullare il processo di stampa o elaborare condizioni di spazio su disco insufficiente. Se non è impostata alcuna funzione Abort, il processo di stampa avrà esito negativo se lo spazio su disco non è sufficiente per lo spooling.

Si noti che le funzionalità di Microsoft Visual C++ semplificano la creazione della funzione di callback passata a `SetAbortProc` . L'indirizzo passato alla `EnumObjects` funzione membro è un puntatore a una funzione esportata con `__declspec(dllexport)` e con la **`__stdcall`** convenzione di chiamata.

Non è inoltre necessario esportare il nome della funzione in un'istruzione **exports** nel file di definizione del modulo dell'applicazione. È invece possibile usare il modificatore di funzione **Export** , come in

`BOOL CALLBACK EXPORT AFunction( HDC, int );`

per fare in modo che il compilatore crei il record di esportazione appropriato per l'esportazione per nome senza alias. Questa operazione funziona per la maggior parte delle esigenze. Per alcuni casi speciali, ad esempio l'esportazione di una funzione in base al numero ordinale o l'aliasing dell'esportazione, è comunque necessario utilizzare un'istruzione **exports** in un file di definizione del modulo.

Le interfacce di registrazione di callback sono ora indipendenti dai tipi (è necessario passare un puntatore a funzione che punta al tipo corretto di funzione per il callback specifico).

Si noti inoltre che tutte le funzioni di callback devono intercettare le eccezioni di Microsoft Foundation prima di tornare a Windows, perché non è possibile generare eccezioni tra i limiti di callback. Per ulteriori informazioni sulle eccezioni, vedere l'articolo [eccezioni](../../mfc/exception-handling-in-mfc.md).

## <a name="cdcsetarcdirection"></a><a name="setarcdirection"></a>CDC:: SetArcDirection

Imposta la direzione di disegno da utilizzare per le funzioni arco e rettangolo.

```
int SetArcDirection(int nArcDirection);
```

### <a name="parameters"></a>Parametri

*nArcDirection*<br/>
Specifica la nuova direzione dell'arco. Questo parametro può essere uno dei valori seguenti:

- AD_COUNTERCLOCKWISE figure disegnate in senso antiorario.

- AD_CLOCKWISE figure disegnate in senso orario.

### <a name="return-value"></a>Valore restituito

Specifica la direzione dell'arco precedente, se riuscita; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La direzione predefinita è in senso antiorario. La `SetArcDirection` funzione specifica la direzione di estrazione delle funzioni seguenti:

|Arc|Pie|
|---------|---------|
|`ArcTo`|`Rectangle`|
|`Chord`|`RoundRect`|
|`Ellipse`||

## <a name="cdcsetattribdc"></a><a name="setattribdc"></a>CDC:: SetAttribDC

Chiamare questa funzione per impostare il contesto di dispositivo dell'attributo, `m_hAttribDC` .

```
virtual void SetAttribDC(HDC hDC);
```

### <a name="parameters"></a>Parametri

*hDC*<br/>
Contesto di dispositivo Windows.

### <a name="remarks"></a>Osservazioni

Questa funzione membro non collega il contesto di dispositivo all' `CDC` oggetto. Solo il contesto di dispositivo di output è associato a un `CDC` oggetto.

## <a name="cdcsetbkcolor"></a><a name="setbkcolor"></a>CDC:: SetBkColor

Imposta il colore di sfondo corrente sul colore specificato.

```
virtual COLORREF SetBkColor(COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*crColor*<br/>
Specifica il nuovo colore di sfondo.

### <a name="return-value"></a>Valore restituito

Il colore di sfondo precedente come valore di colore RGB. Se si verifica un errore, il valore restituito è 0x80000000.

### <a name="remarks"></a>Osservazioni

Se la modalità sfondo è OPACa, il sistema utilizza il colore di sfondo per colmare le lacune nelle linee con stile, i gap tra le linee tratteggiate nei pennelli e lo sfondo nelle celle dei caratteri. Il sistema usa anche il colore di sfondo durante la conversione di bitmap tra i contesti di dispositivo colore e monocromatico.

Se il dispositivo non è in grado di visualizzare il colore specificato, il sistema imposta il colore di sfondo sul colore fisico più vicino.

## <a name="cdcsetbkmode"></a><a name="setbkmode"></a>CDC:: SetBkMode

Imposta la modalità di sfondo.

```
int SetBkMode(int nBkMode);
```

### <a name="parameters"></a>Parametri

*nBkMode*<br/>
Specifica la modalità da impostare. Questo parametro può essere uno dei valori seguenti:

- Lo sfondo opaco viene riempito con il colore di sfondo corrente prima che venga disegnato il testo, il pennello tratteggiato o la penna. Questa è la modalità di sfondo predefinita.

- Lo sfondo trasparente non viene modificato prima del disegno.

### <a name="return-value"></a>Valore restituito

Modalità di sfondo precedente.

### <a name="remarks"></a>Osservazioni

La modalità in background definisce se il sistema rimuove i colori di sfondo esistenti sulla superficie di disegno prima di disegnare testo, pennelli tratteggiati o qualsiasi stile di penna che non sia una linea continua.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CWnd:: OnCtlColor](../../mfc/reference/cwnd-class.md#onctlcolor).

## <a name="cdcsetboundsrect"></a><a name="setboundsrect"></a>CDC:: SetBoundsRect

Controlla l'accumulo di informazioni sul rettangolo di delimitazione per il contesto di dispositivo specificato.

```
UINT SetBoundsRect(
    LPCRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>Parametri

*lpRectBounds*<br/>
Punta a una `RECT` struttura o a un `CRect` oggetto utilizzato per impostare il rettangolo di delimitazione. Le dimensioni del rettangolo sono specificate in coordinate logiche. Questo parametro può essere NULL.

*flags*<br/>
Specifica il modo in cui il nuovo rettangolo verrà combinato con il rettangolo accumulato. Questo parametro può essere una combinazione dei valori seguenti:

- DCB_ACCUMULATE aggiungere il rettangolo specificato da *lpRectBounds* al rettangolo di delimitazione (usando un'operazione Rectangle-Union).

- DCB_DISABLE disattivare l'accumulo di limiti.

- DCB_ENABLE attivare l'accumulo dei limiti. L'impostazione predefinita per l'accumulo dei limiti è disabilitata.

### <a name="return-value"></a>Valore restituito

Stato corrente del rettangolo di delimitazione, se la funzione ha esito positivo. Analogamente ai *flag*, il valore restituito può essere una combinazione di **DCB_** valori:

- DCB_ACCUMULATE il rettangolo di delimitazione non è vuoto. Questo valore sarà sempre impostato.

- L'accumulo di limiti di DCB_DISABLE è disattivato.

- L'accumulo di DCB_ENABLE limiti è on.

### <a name="remarks"></a>Osservazioni

Windows può mantenere un rettangolo di delimitazione per tutte le operazioni di disegno. Questo rettangolo può essere sottoposto a query e reimpostato dall'applicazione. I limiti di disegno sono utili per invalidare le cache bitmap.

## <a name="cdcsetbrushorg"></a><a name="setbrushorg"></a>CDC:: SetBrushOrg

Specifica l'origine che verrà assegnata da GDI al pennello successivo selezionato dall'applicazione nel contesto di dispositivo.

```
CPoint SetBrushOrg(
    int x,
    int y);

CPoint SetBrushOrg(POINT point);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x (in unità dispositivo) della nuova origine. Questo valore deve essere compreso nell'intervallo 0-7.

*y*<br/>
Specifica la coordinata y (in unità dispositivo) della nuova origine. Questo valore deve essere compreso nell'intervallo 0-7.

*punto*<br/>
Specifica le coordinate x e y della nuova origine. Ogni valore deve essere compreso nell'intervallo 0-7. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Origine precedente del pennello in unità dispositivo.

### <a name="remarks"></a>Osservazioni

Le coordinate predefinite per l'origine del pennello sono (0,0). Per modificare l'origine di un pennello, chiamare la `UnrealizeObject` funzione per l' `CBrush` oggetto, chiamare `SetBrushOrg` e quindi chiamare la `SelectObject` funzione membro per selezionare il pennello nel contesto di dispositivo.

Non usare `SetBrushOrg` with Stock `CBrush` Objects.

## <a name="cdcsetcoloradjustment"></a><a name="setcoloradjustment"></a>CDC:: SetColorAdjustment

Imposta i valori di regolazione del colore per il contesto di dispositivo usando i valori specificati.

```
BOOL SetColorAdjustment(const COLORADJUSTMENT* lpColorAdjust);
```

### <a name="parameters"></a>Parametri

*lpColorAdjust*<br/>
Punta a una struttura di dati [COLORADJUSTMENT](/windows/win32/api/wingdi/ns-wingdi-coloradjustment) contenente i valori di regolazione del colore.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

I valori di regolazione del colore vengono utilizzati per modificare il colore di input della bitmap di origine per le chiamate alla `CDC::StretchBlt` funzione membro quando viene impostata la modalità mezzitoni.

## <a name="cdcsetdcbrushcolor"></a><a name="setdcbrushcolor"></a>CDC:: SetDCBrushColor

Imposta il colore del pennello del contesto di dispositivo corrente (DC) sul valore del colore specificato.

```
COLORREF SetDCBrushColor(COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*crColor*<br/>
Specifica il nuovo colore del pennello.

### <a name="return-value"></a>Valore restituito

Se la funzione ha esito positivo, il valore restituito specifica il colore del pennello del controller di dominio precedente come valore COLORREF.

Se la funzione ha esito negativo, il valore restituito è CLR_INVALID.

### <a name="remarks"></a>Osservazioni

Questo metodo emula la funzionalità della funzione [SetDCBrushColor](/windows/win32/api/wingdi/nf-wingdi-setdcbrushcolor), come descritto nella Windows SDK.

## <a name="cdcsetdcpencolor"></a><a name="setdcpencolor"></a>CDC:: SetDCPenColor

Imposta il colore della penna del contesto di dispositivo corrente (DC) sul valore del colore specificato.

```
COLORREF SetDCPenColor(COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*crColor*<br/>
Specifica il nuovo colore della penna.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro utilizza la funzione Win32 [SetDCPenColor](/windows/win32/api/wingdi/nf-wingdi-setdcpencolor), come descritto nel Windows SDK.

## <a name="cdcsetgraphicsmode"></a><a name="setgraphicsmode"></a>CDC:: SetGraphicsMode

Imposta la modalità grafica per il contesto di dispositivo specificato.

```
int SetGraphicsMode(int iMode);
```

### <a name="parameters"></a>Parametri

*iMode*<br/>
Specifica la modalità grafica. Per un elenco dei valori che questo parametro può assumere, vedere [SetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-setgraphicsmode).

### <a name="return-value"></a>Valore restituito

Restituisce la modalità grafica precedente in seguito all'esito positivo.

Restituisce 0 in caso di errore. Per ottenere informazioni estese sull'errore, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Osservazioni

Questo metodo esegue il wrapping della funzione GDI [SetGraphicsMode](/windows/win32/api/wingdi/nf-wingdi-setgraphicsmode)di Windows.

## <a name="cdcsetlayout"></a><a name="setlayout"></a>CDC:: selayout

Chiamare questa funzione membro per modificare il layout del testo e della grafica per un contesto di dispositivo da destra a sinistra, il layout standard per le impostazioni cultura come l'arabo e l'ebraico.

```
DWORD SetLayout(DWORD dwLayout);
```

### <a name="parameters"></a>Parametri

*dwLayout*<br/>
Layout del contesto del dispositivo e flag di controllo bitmap. Può essere una combinazione dei valori seguenti.

|valore|Significato|
|-----------|-------------|
|LAYOUT_BITMAPORIENTATIONPRESERVED|Disabilita qualsiasi Reflection per le chiamate a [CDC:: BitBlt](#bitblt) e [CDC:: StretchBlt](#stretchblt).|
|LAYOUT_RTL|Imposta il layout orizzontale predefinito da destra a sinistra.|
|LAYOUT_LTR|Imposta il layout predefinito da sinistra a destra.|

### <a name="return-value"></a>Valore restituito

In caso di esito positivo, il layout precedente del contesto di dispositivo.

In caso di esito negativo, GDI_ERROR. Per ottenere informazioni estese sull'errore, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Osservazioni

In genere, non si chiama `SetLayout` per una finestra. È invece possibile controllare il layout da destra a sinistra in una finestra impostando gli [stili della finestra estesa](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) , ad esempio WS_EX_RTLREADING. Un contesto di dispositivo, ad esempio una stampante o un metafile, non eredita questo layout. L'unico modo per impostare il contesto di dispositivo per un layout da destra a sinistra è chiamando `SetLayout` .

Se si chiama il metodo **selayout (LAYOUT_RTL** ), `SetLayout` imposta automaticamente la modalità di mapping su MM_ISOTROPIC. Di conseguenza, una chiamata successiva a [GetMapMode](#getmapmode) restituirà MM_ISOTROPIC anziché MM_TEXT.

In alcuni casi, ad esempio con molte bitmap, potrebbe essere necessario mantenere il layout da sinistra a destra. In questi casi, eseguire il rendering dell'immagine chiamando `BitBlt` o `StretchBlt` , quindi impostare il flag di controllo bitmap per *dwLayout* su LAYOUT_BITMAPORIENTATIONPRESERVED.

Una volta modificato il layout con il flag di LAYOUT_RTL, i flag normalmente specificati a destra o a sinistra vengono invertiti. Per evitare confusione, è consigliabile definire nomi alternativi per i flag standard. Per un elenco di nomi di flag alternativi suggeriti, vedere la pagina relativa alla [disimpaginazione](/windows/win32/api/wingdi/nf-wingdi-setlayout) nell'Windows SDK.

## <a name="cdcsetmapmode"></a><a name="setmapmode"></a>CDC:: SetMapMode

Imposta la modalità di mapping.

```
virtual int SetMapMode(int nMapMode);
```

### <a name="parameters"></a>Parametri

*nMapMode*<br/>
Specifica la nuova modalità di mapping. Può essere uno dei valori seguenti:

- MM_ANISOTROPIC unità logiche vengono convertite in unità arbitrarie con assi con scalabilità arbitraria. Impostando la modalità di mapping su MM_ANISOTROPIC non vengono modificate le impostazioni correnti della finestra o del viewport. Per modificare le unità, l'orientamento e la scalabilità, chiamare le funzioni membro [SetWindowExt](#setwindowext) e [SetViewportExt](#setviewportext) .

- MM_HIENGLISH ogni unità logica viene convertita in 0,001 pollice. X positivo è a destra; y positivo è attivo.

- MM_HIMETRIC ogni unità logica viene convertita in 0,01 millimetri. X positivo è a destra; y positivo è attivo.

- MM_ISOTROPIC unità logiche vengono convertite in unità arbitrarie con assi ugualmente ridimensionati; ovvero, 1 unità lungo l'asse x è uguale a 1 unità lungo l'asse y. Usare le `SetWindowExt` `SetViewportExt` funzioni membro e per specificare le unità desiderate e l'orientamento degli assi. GDI apporta le modifiche necessarie per garantire che le dimensioni delle unità x e y rimangano invariate.

- MM_LOENGLISH ogni unità logica viene convertita in 0,01 pollice. X positivo è a destra; y positivo è attivo.

- MM_LOMETRIC ogni unità logica viene convertita in 0,1 millimetri. X positivo è a destra; y positivo è attivo.

- MM_TEXT ogni unità logica viene convertita in un pixel del dispositivo. X positivo è a destra; y positivo è inattivo.

- MM_TWIPS ogni unità logica viene convertita in 1/20 di un punto. Poiché un punto è 1/72 pollice, un twip è 1/1440 pollice. X positivo è a destra; y positivo è attivo.

### <a name="return-value"></a>Valore restituito

Modalità di mapping precedente.

### <a name="remarks"></a>Osservazioni

La modalità di mapping definisce l'unità di misura usata per convertire le unità logiche in unità di dispositivo; definisce anche l'orientamento degli assi x e y del dispositivo. GDI USA la modalità di mapping per convertire le coordinate logiche nelle coordinate appropriate del dispositivo. La modalità MM_TEXT consente alle applicazioni di funzionare in pixel del dispositivo, dove 1 unità è uguale a 1 pixel. La dimensione fisica di un pixel varia da dispositivo a dispositivo.

Le modalità MM_HIENGLISH, MM_HIMETRIC, MM_LOENGLISH, MM_LOMETRIC e MM_TWIPS sono utili per le applicazioni che devono creare unità fisicamente significative (ad esempio pollici o millimetri). La modalità MM_ISOTROPIC garantisce una proporzione 1:1, che risulta utile quando è importante mantenere la forma esatta di un'immagine. La modalità MM_ANISOTROPIC consente la regolazione indipendente delle coordinate x e y.

> [!NOTE]
> Se si chiama il metodo [selayout](#setlayout) per modificare il controller di dominio (contesto di dispositivo) in un layout da destra a sinistra, `SetLayout` la modalità di mapping viene modificata automaticamente in MM_ISOTROPIC.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CView:: OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetmapperflags"></a><a name="setmapperflags"></a>CDC:: SetMapperFlags

Modifica il metodo utilizzato dal mapper del tipo di carattere quando converte un tipo di carattere logico in un tipo di carattere fisico.

```
DWORD SetMapperFlags(DWORD dwFlag);
```

### <a name="parameters"></a>Parametri

*dwFlag*<br/>
Specifica se il mapper dei tipi di carattere tenta di trovare la corrispondenza tra l'altezza e la larghezza del tipo di carattere del dispositivo. Quando questo valore è ASPECT_FILTERING, il mapper seleziona solo i tipi di carattere i cui aspetto x e y corrispondono esattamente a quelli del dispositivo specificato.

### <a name="return-value"></a>Valore restituito

Valore precedente del flag di mapping dei tipi di carattere.

### <a name="remarks"></a>Osservazioni

Un'applicazione può usare per fare in modo `SetMapperFlags` che il mapper del tipo di carattere tenti di scegliere solo un tipo di carattere fisico che corrisponda esattamente alle proporzioni del dispositivo specificato.

Un'applicazione che usa solo tipi di carattere raster può usare la `SetMapperFlags` funzione per garantire che il tipo di carattere selezionato dal mapper del tipo di carattere sia accattivante e leggibile nel dispositivo specificato. Le applicazioni che utilizzano tipi di carattere scalabili (TrueType) non utilizzano in genere `SetMapperFlags` .

Se nessun tipo di carattere fisico presenta una proporzione che corrisponde alla specifica nel tipo di carattere logico, GDI sceglie una nuova proporzioni e seleziona un tipo di carattere corrispondente a queste nuove proporzioni.

## <a name="cdcsetmiterlimit"></a><a name="setmiterlimit"></a>CDC:: SetMiterLimit

Imposta il limite per la lunghezza dei join degli angoli smussati per il contesto di dispositivo.

```
BOOL SetMiterLimit(float fMiterLimit);
```

### <a name="parameters"></a>Parametri

*fMiterLimit*<br/>
Specifica il nuovo limite di smussatura per il contesto di dispositivo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La lunghezza dell'angolo acuto viene definita come distanza dall'intersezione delle pareti della linea all'interno del join all'intersezione delle pareti della linea all'esterno del join. Il limite di smussatura è il rapporto massimo consentito tra la lunghezza dell'angolo acuto e lo spessore della linea. Il limite di smussatura predefinito è 10,0.

## <a name="cdcsetoutputdc"></a><a name="setoutputdc"></a>CDC:: SetOutputDC

Chiamare questa funzione membro per impostare il contesto di dispositivo di output `m_hDC` .

```
virtual void SetOutputDC(HDC hDC);
```

### <a name="parameters"></a>Parametri

*hDC*<br/>
Contesto di dispositivo Windows.

### <a name="remarks"></a>Osservazioni

Questa funzione membro può essere chiamata solo quando un contesto di dispositivo non è stato collegato all' `CDC` oggetto. Questa funzione membro imposta `m_hDC` ma non collega il contesto di dispositivo all' `CDC` oggetto.

## <a name="cdcsetpixel"></a><a name="setpixel"></a>CDC:: sepixel

Imposta il pixel in corrispondenza del punto specificato per l'approssimazione più vicina del colore specificato da *crColor*.

```
COLORREF SetPixel(
    int x,
    int y,
    COLORREF crColor);

COLORREF SetPixel(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto da impostare.

*y*<br/>
Specifica la coordinata y logica del punto da impostare.

*crColor*<br/>
Valore RGB COLORREF che specifica il colore utilizzato per disegnare il punto. Per una descrizione di questo valore, vedere [COLORREF](/windows/win32/gdi/colorref) nel Windows SDK.

*punto*<br/>
Specifica le coordinate x e y logiche del punto da impostare. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Un valore RGB per il colore che viene effettivamente disegnato dal punto. Questo valore può essere diverso da quello specificato da *crColor* se viene utilizzata un'approssimazione di tale colore. Se la funzione ha esito negativo (se il punto si trova al di fuori dell'area di ridimensionamento), il valore restituito è-1.

### <a name="remarks"></a>Osservazioni

Il punto deve trovarsi nell'area di ridimensionamento. Se il punto non si trova nell'area di ridimensionamento, la funzione non esegue alcuna operazione.

Non tutti i dispositivi supportano la funzione `SetPixel`. Per determinare se un dispositivo supporta `SetPixel` , chiamare la `GetDeviceCaps` funzione membro con l'indice RASTERCAPS e controllare il valore restituito per il flag di RC_BITBLT.

## <a name="cdcsetpixelv"></a><a name="setpixelv"></a>CDC:: SetPixelV

Imposta il pixel in corrispondenza delle coordinate specificate sull'approssimazione più vicina del colore specificato.

```
BOOL SetPixelV(
    int x,
    int y,
    COLORREF crColor);

BOOL SetPixelV(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x, in unità logiche, del punto da impostare.

*y*<br/>
Specifica la coordinata y, in unità logiche, del punto da impostare.

*crColor*<br/>
Specifica il colore da utilizzare per disegnare il punto.

*punto*<br/>
Specifica le coordinate x e y logiche del punto da impostare. Per questo parametro è possibile passare una struttura di dati [punto](/windows/win32/api/windef/ns-windef-point) o un oggetto [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il punto deve essere sia nell'area di ridimensionamento che nella parte visibile della superficie del dispositivo. Non tutti i dispositivi supportano la funzione membro. Per ulteriori informazioni, vedere la RC_BITBLT funzionalità della `CDC::GetDeviceCaps` funzione membro. `SetPixelV`è più veloce di `SetPixel` perché non deve restituire il valore del colore del punto effettivamente disegnato.

## <a name="cdcsetpolyfillmode"></a><a name="setpolyfillmode"></a>CDC:: SetPolyFillMode

Imposta la modalità di riempimento del poligono.

```
int SetPolyFillMode(int nPolyFillMode);
```

### <a name="parameters"></a>Parametri

*nPolyFillMode*<br/>
Specifica la nuova modalità di riempimento. Questo valore può essere alternativo o di AVVOLGImento. La modalità predefinita impostata in Windows è alternativa.

### <a name="return-value"></a>Valore restituito

Modalità di riempimento precedente, se riuscita; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Quando la modalità di riempimento del poligono è alternativa, il sistema riempie l'area tra i lati del poligono con numero dispari e pari a ogni riga di analisi. Ovvero il sistema riempie l'area tra il primo e il secondo lato, tra il terzo e il quarto lato e così via. Questa è la modalità predefinita.

Quando la modalità di riempimento del poligono viene completata, il sistema utilizza la direzione in cui è stata disegnata una figura per determinare se riempire un'area. Ogni segmento di linea in un poligono viene disegnato in senso orario o in senso antiorario. Ogni volta che una linea immaginaria disegnata da un'area racchiusa all'esterno di una figura passa attraverso un segmento di linea in senso orario, viene incrementato un conteggio. Quando la linea passa attraverso un segmento di linea in senso antiorario, il conteggio viene decrementato. L'area viene riempita se il conteggio è diverso da zero quando la linea raggiunge l'esterno della figura.

## <a name="cdcsetrop2"></a><a name="setrop2"></a>CDC:: SetROP2

Imposta la modalità di disegno corrente.

```
int SetROP2(int nDrawMode);
```

### <a name="parameters"></a>Parametri

*nDrawMode*<br/>
Specifica la nuova modalità di disegno. Può essere uno dei valori seguenti:

- R2_BLACK pixel è sempre nero.

- R2_WHITE pixel è sempre bianco.

- R2_NOP pixel rimane invariato.

- R2_NOT pixel è l'inverso del colore dello schermo.

- R2_COPYPEN pixel è il colore della penna.

- R2_NOTCOPYPEN pixel è l'inverso del colore della penna.

- R2_MERGEPENNOT pixel è una combinazione del colore della penna e dell'inverso del colore della schermata (pixel finale = (non pixel dello schermo) o penna).

- R2_MASKPENNOT pixel è una combinazione dei colori comuni sia alla penna sia all'inverso dello schermo (pixel finale = (non pixel dello schermo) e penna).

- R2_MERGENOTPEN pixel è una combinazione del colore dello schermo e dell'inverso del colore della penna (pixel finale = (non penna) o pixel dello schermo).

- R2_MASKNOTPEN pixel è una combinazione dei colori comuni sia per lo schermo che per l'inverso della penna (pixel finale = (non penna) e pixel dello schermo).

- R2_MERGEPEN pixel è una combinazione del colore della penna e del colore della schermata (pixel finale = pixel della penna o dello schermo).

- R2_NOTMERGEPEN pixel è l'inverso del colore R2_MERGEPEN (pixel finale = NOT (penna o pixel dello schermo)).

- R2_MASKPEN pixel è una combinazione dei colori comuni sia alla penna che alla schermata (pixel finale = pixel della penna e dello schermo).

- R2_NOTMASKPEN pixel è l'inverso del colore R2_MASKPEN (pixel finale = NOT (penna e pixel dello schermo)).

- R2_XORPEN pixel è una combinazione dei colori presenti nella penna o nella schermata, ma non in entrambi (pixel finale = pixel dello schermo XOR).

- R2_NOTXORPEN pixel è l'inverso del colore R2_XORPEN (pixel finale = NOT (pixel dello schermo XOR della penna)).

### <a name="return-value"></a>Valore restituito

Modalità di disegno precedente.

Può essere uno qualsiasi dei valori specificati nel Windows SDK.

### <a name="remarks"></a>Osservazioni

La modalità di disegno specifica il modo in cui i colori della penna e della parte interna degli oggetti riempiti vengono combinati con il colore già presente sulla superficie di visualizzazione.

La modalità di disegno è solo per i dispositivi raster; non si applica ai dispositivi vettoriali. Le modalità di disegno sono codici di operazioni raster binari che rappresentano tutte le possibili combinazioni booleane di due variabili, usando gli operatori binari AND, OR e XOR (OR esclusivo) e l'operazione unaria.

## <a name="cdcsetstretchbltmode"></a><a name="setstretchbltmode"></a>CDC:: SetStretchBltMode

Imposta la modalità di estensione bitmap per la `StretchBlt` funzione membro.

```
int SetStretchBltMode(int nStretchMode);
```

### <a name="parameters"></a>Parametri

*nStretchMode*<br/>
Specifica la modalità di adattamento. Può essere uno dei valori seguenti:

|valore|Descrizione|
|-----------|-----------------|
|BLACKONWHITE|Esegue un'operazione booleana e usando i valori dei colori per i pixel eliminati ed esistenti. Se la bitmap è una bitmap monocromatica, questa modalità conserva i pixel neri a scapito dei pixel bianchi.|
|COLORONCOLOR|Elimina i pixel. Questa modalità Elimina tutte le righe di pixel eliminate senza provare a conservare le informazioni.|
|MEZZITONI|Esegue il mapping dei pixel dal rettangolo di origine in blocchi di pixel nel rettangolo di destinazione. Il colore medio sul blocco di destinazione di pixel si avvicina al colore dei pixel di origine.|
||Dopo aver impostato la modalità di estensione del mezzitoni, un'applicazione deve chiamare la funzione Win32 [SetBrushOrgEx](/windows/win32/api/wingdi/nf-wingdi-setbrushorgex) per impostare l'origine del pennello. In caso contrario, si verifica un errore di allineamento del pennello.|
|STRETCH_ANDSCANS|**Windows 95/98**: uguale a BLACKONWHITE|
|STRETCH_DELETESCANS|**Windows 95/98**: uguale a COLORONCOLOR|
|STRETCH_HALFTONE|**Windows 95/98**: uguale a mezzitoni.|
|STRETCH_ORSCANS|**Windows 95/98**: uguale a WHITEONBLACK|
|WHITEONBLACK|Esegue un'operazione o un valore booleano usando i valori dei colori per i pixel eliminati ed esistenti. Se la bitmap è una bitmap monocromatica, questa modalità conserva i pixel bianchi a scapito dei pixel neri.|

### <a name="return-value"></a>Valore restituito

Modalità di estensione precedente. Può essere STRETCH_ANDSCANS, STRETCH_DELETESCANS o STRETCH_ORSCANS.

### <a name="remarks"></a>Osservazioni

La modalità di estensione bitmap definisce il modo in cui le informazioni vengono rimosse dalle bitmap compresse mediante la funzione.

Le modalità BLACKONWHITE (STRETCH_ANDSCANS) e WHITEONBLACK (STRETCH_ORSCANS) vengono in genere utilizzate per mantenere i pixel in primo piano nelle bitmap monocromatiche. La modalità COLORONCOLOR (STRETCH_DELETESCANS) viene in genere usata per mantenere il colore nelle bitmap dei colori.

Per la modalità mezzitoni è necessaria una maggiore elaborazione dell'immagine di origine rispetto alle altre tre modalità. è più lento rispetto alle altre, ma produce immagini di qualità superiore. Si noti inoltre che `SetBrushOrgEx` deve essere chiamato dopo aver impostato la modalità mezzitoni per evitare un errato allineamento del pennello.

Potrebbero essere disponibili anche altre modalità di estensione, a seconda delle funzionalità del driver di dispositivo.

## <a name="cdcsettextalign"></a><a name="settextalign"></a>CDC:: SetTextAlign

Imposta i flag di allineamento del testo.

```
UINT SetTextAlign(UINT nFlags);
```

### <a name="parameters"></a>Parametri

*nFlags*<br/>
Specifica i flag di allineamento del testo. I flag specificano la relazione tra un punto e un rettangolo che delimita il testo. Il punto può essere la posizione corrente o le coordinate specificate da una funzione di output di testo. Il rettangolo che delimita il testo viene definito dalle celle di caratteri adiacenti nella stringa di testo. Il parametro *nFlags* può essere uno o più flag delle tre categorie seguenti. Scegliere solo un flag da ogni categoria. La prima categoria influiscono sull'allineamento del testo nella direzione x:

- TA_CENTER allinea il punto al centro orizzontale del rettangolo di delimitazione.

- TA_LEFT allinea il punto con il lato sinistro del rettangolo di delimitazione. Si tratta dell'impostazione predefinita.

- TA_RIGHT allinea il punto con il lato destro del rettangolo di delimitazione.

La seconda categoria influiscono sull'allineamento del testo nella direzione y:

- TA_BASELINE allinea il punto alla linea di base del tipo di carattere scelto.

- TA_BOTTOM allinea il punto alla parte inferiore del rettangolo di delimitazione.

- TA_TOP allinea il punto alla parte superiore del rettangolo di delimitazione. Si tratta dell'impostazione predefinita.

La terza categoria determina se la posizione corrente viene aggiornata quando viene scritto il testo:

- TA_NOUPDATECP non aggiorna la posizione corrente dopo ogni chiamata a una funzione di output di testo. Si tratta dell'impostazione predefinita.

- TA_UPDATECP aggiorna la posizione x corrente dopo ogni chiamata a una funzione di output di testo. La nuova posizione si trova sul lato destro del rettangolo di delimitazione per il testo. Quando questo flag è impostato, le coordinate specificate nelle chiamate alla `TextOut` funzione membro vengono ignorate.

### <a name="return-value"></a>Valore restituito

Impostazione precedente dell'allineamento del testo, se completata. Il byte di ordine inferiore contiene l'impostazione orizzontale e il byte di ordine superiore contiene l'impostazione verticale. in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Le `TextOut` `ExtTextOut` funzioni membro e usano questi flag quando si posiziona una stringa di testo in uno schermo o un dispositivo. I flag specificano la relazione tra un punto specifico e un rettangolo che delimita il testo. Le coordinate di questo punto vengono passate come parametri per la `TextOut` funzione membro. Il rettangolo che delimita il testo è formato dalle celle di caratteri adiacenti nella stringa di testo.

## <a name="cdcsettextcharacterextra"></a><a name="settextcharacterextra"></a>CDC:: SetTextCharacterExtra

Imposta la quantità di spaziatura tra caratteri.

```
int SetTextCharacterExtra(int nCharExtra);
```

### <a name="parameters"></a>Parametri

*nCharExtra*<br/>
Specifica la quantità di spazio aggiuntivo (in unità logiche) da aggiungere a ogni carattere. Se la modalità di mapping corrente non è `MM_TEXT` , *nCharExtra* viene trasformato e arrotondato al pixel più vicino.

### <a name="return-value"></a>Valore restituito

Quantità di spaziatura tra i caratteri precedenti.

### <a name="remarks"></a>Osservazioni

GDI aggiunge questa spaziatura a ogni carattere, inclusi i caratteri di pausa, quando scrive una riga di testo nel contesto di dispositivo. Il valore predefinito per la spaziatura tra caratteri è pari a 0.

## <a name="cdcsettextcolor"></a><a name="settextcolor"></a>CDC:: SetTextColor

Imposta il colore del testo sul colore specificato.

```
virtual COLORREF SetTextColor(COLORREF crColor);
```

### <a name="parameters"></a>Parametri

*crColor*<br/>
Specifica il colore del testo come valore di colore RGB.

### <a name="return-value"></a>Valore restituito

Valore RGB per il colore del testo precedente.

### <a name="remarks"></a>Osservazioni

Questo colore del testo verrà usato dal sistema durante la scrittura di testo in questo contesto di dispositivo e anche durante la conversione di bitmap tra i contesti di dispositivo colore e monocromatico.

Se il dispositivo non può rappresentare il colore specificato, il sistema imposta il colore del testo sul colore fisico più vicino. Il colore di sfondo per un carattere viene specificato dalle `SetBkColor` `SetBkMode` funzioni membro e.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CWnd:: OnCtlColor](../../mfc/reference/cwnd-class.md#onctlcolor).

## <a name="cdcsettextjustification"></a><a name="settextjustification"></a>CDC:: SetTextJustification

Aggiunge spazio ai caratteri break in una stringa.

```
int SetTextJustification(
    int nBreakExtra,
    int nBreakCount);
```

### <a name="parameters"></a>Parametri

*nBreakExtra*<br/>
Specifica lo spazio aggiuntivo totale da aggiungere alla riga di testo (in unità logiche). Se la modalità di mapping corrente non è `MM_TEXT` , il valore fornito da questo parametro viene convertito nella modalità di mapping corrente e arrotondato all'unità di dispositivo più vicina.

*nBreakCount*<br/>
Specifica il numero di caratteri di interruzioni nella riga.

### <a name="return-value"></a>Valore restituito

Uno se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Un'applicazione può utilizzare le `GetTextMetrics` funzioni membro per recuperare il carattere di break di un tipo di carattere.

Una volta `SetTextJustification` chiamata la funzione membro, una chiamata a una funzione di output di testo (ad esempio `TextOut` ) distribuisce in modo uniforme lo spazio aggiuntivo specificato tra il numero specificato di caratteri di interruzioni. Il carattere Break è in genere il carattere spazio (ASCII 32), ma può essere definito da un tipo di carattere come altro carattere.

La funzione membro `GetTextExtent` viene in genere utilizzata con `SetTextJustification` . `GetTextExtent`Calcola la larghezza di una determinata riga prima dell'allineamento. Un'applicazione è in grado di determinare la quantità di spazio da specificare nel parametro *nBreakExtra* sottraendo il valore restituito da `GetTextExtent` dalla larghezza della stringa dopo l'allineamento.

La `SetTextJustification` funzione può essere utilizzata per allineare una riga che contiene più esecuzioni in tipi di carattere diversi. In questo caso, la riga deve essere creata a fasi allineando e scrivendo ogni esecuzione separatamente.

Poiché possono verificarsi errori di arrotondamento durante l'allineamento, il sistema mantiene un termine di errore in esecuzione che definisce l'errore corrente. Quando si allinea una riga che contiene più esecuzioni, `GetTextExtent` questo termine viene usato automaticamente durante il calcolo dell'extent dell'esecuzione successiva. Ciò consente alla funzione di output di testo di combinare l'errore nella nuova esecuzione.

Una volta allineata ogni riga, questo termine di errore deve essere cancellato per impedire che venga incorporato nella riga successiva. Il termine può essere cancellato chiamando `SetTextJustification` con *nBreakExtra* impostato su 0.

## <a name="cdcsetviewportext"></a><a name="setviewportext"></a>CDC:: SetViewportExt

Imposta gli extent x e y del viewport del contesto di dispositivo.

```
virtual CSize SetViewportExt(
    int cx,
    int cy);

CSize SetViewportExt(SIZE size);
```

### <a name="parameters"></a>Parametri

*CX*<br/>
Specifica l'extent x del viewport (in unità dispositivo).

*CY*<br/>
Specifica l'extent y del viewport (in unità dispositivo).

*size*<br/>
Specifica gli extent x e y del viewport (in unità dispositivo).

### <a name="return-value"></a>Valore restituito

Extent precedenti del viewport come oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) . Quando si verifica un errore, le coordinate x e y dell' `CSize` oggetto restituito sono entrambe impostate su 0.

### <a name="remarks"></a>Osservazioni

Il viewport, insieme alla finestra del contesto del dispositivo, definisce il modo in cui GDI esegue il mapping dei punti nel sistema di coordinate logico ai punti nel sistema di coordinate del dispositivo effettivo. In altre parole, definiscono il modo in cui GDI converte le coordinate logiche in coordinate del dispositivo.

Quando vengono impostate le modalità di mapping seguenti, le chiamate a `SetWindowExt` e `SetViewportExt` vengono ignorate:

|MM_HIENGLISH|MM_LOMETRIC|
|-------------------|------------------|
|MM_HIMETRIC|MM_TEXT|
|MM_LOENGLISH|MM_TWIPS|

Quando viene impostata la modalità MM_ISOTROPIC, un'applicazione deve chiamare la `SetWindowExt` funzione membro prima che chiami `SetViewportExt` .

### <a name="example"></a>Esempio

  Vedere l'esempio per [CView:: OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetviewportorg"></a><a name="setviewportorg"></a>CDC:: SetViewportOrg

Imposta l'origine del viewport del contesto di dispositivo.

```
virtual CPoint SetViewportOrg(
    int x,
    int y);

CPoint SetViewportOrg(POINT point);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x (in unità dispositivo) dell'origine del viewport. Il valore deve essere compreso nell'intervallo del sistema di coordinate del dispositivo.

*y*<br/>
Specifica la coordinata y (in unità dispositivo) dell'origine del viewport. Il valore deve essere compreso nell'intervallo del sistema di coordinate del dispositivo.

*punto*<br/>
Specifica l'origine del viewport. I valori devono essere compresi nell'intervallo del sistema di coordinate del dispositivo. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Origine precedente del viewport (in coordinate del dispositivo) come `CPoint` oggetto.

### <a name="remarks"></a>Osservazioni

Il viewport, insieme alla finestra del contesto del dispositivo, definisce il modo in cui GDI esegue il mapping dei punti nel sistema di coordinate logico ai punti nel sistema di coordinate del dispositivo effettivo. In altre parole, definiscono il modo in cui GDI converte le coordinate logiche in coordinate del dispositivo.

L'origine del viewport contrassegna il punto nel sistema di coordinate del dispositivo a cui GDI esegue il mapping dell'origine della finestra, un punto nel sistema di coordinate logico specificato dalla `SetWindowOrg` funzione membro. GDI esegue il mapping di tutti gli altri punti seguendo lo stesso processo necessario per eseguire il mapping dell'origine della finestra all'origine del viewport. Ad esempio, tutti i punti in un cerchio intorno al punto dell'origine della finestra si troveranno in un cerchio intorno al punto dell'origine del viewport. Analogamente, tutti i punti di una riga che passano attraverso l'origine della finestra si troveranno in una riga che passa attraverso l'origine del viewport.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CView:: OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetwindowext"></a><a name="setwindowext"></a>CDC:: SetWindowExt

Imposta gli extent x e y della finestra associata al contesto di dispositivo.

```
virtual CSize SetWindowExt(
    int cx,
    int cy);

CSize SetWindowExt(SIZE size);
```

### <a name="parameters"></a>Parametri

*CX*<br/>
Specifica l'extent x (in unità logiche) della finestra.

*CY*<br/>
Specifica l'extent y (in unità logiche) della finestra.

*size*<br/>
Specifica gli extent x e y (in unità logiche) della finestra.

### <a name="return-value"></a>Valore restituito

Extent precedenti della finestra (in unità logiche) come `CSize` oggetto. Se si verifica un errore, le coordinate x e y dell' `CSize` oggetto restituito sono entrambe impostate su 0.

### <a name="remarks"></a>Osservazioni

La finestra, insieme al viewport del contesto del dispositivo, definisce il modo in cui GDI esegue il mapping dei punti nel sistema di coordinate logico ai punti nel sistema di coordinate del dispositivo.

Quando vengono impostate le modalità di mapping seguenti, le chiamate alle `SetWindowExt` `SetViewportExt` funzioni e vengono ignorate:

- MM_HIENGLISH

- MM_HIMETRIC

- MM_LOENGLISH

- MM_LOMETRIC

- MM_TEXT

- MM_TWIPS

Quando viene impostata la modalità MM_ISOTROPIC, un'applicazione deve chiamare la `SetWindowExt` funzione membro prima di chiamare `SetViewportExt` .

### <a name="example"></a>Esempio

  Vedere l'esempio per [CView:: OnPrepareDC](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetwindoworg"></a><a name="setwindoworg"></a>CDC:: SetWindowOrg

Imposta l'origine della finestra del contesto di dispositivo.

```
CPoint SetWindowOrg(
    int x,
    int y);

CPoint SetWindowOrg(POINT point);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica della nuova origine della finestra.

*y*<br/>
Specifica la coordinata y logica della nuova origine della finestra.

*punto*<br/>
Specifica le coordinate logiche della nuova origine della finestra. È possibile passare una `POINT` struttura o un `CPoint` oggetto per questo parametro.

### <a name="return-value"></a>Valore restituito

Origine precedente della finestra come `CPoint` oggetto.

### <a name="remarks"></a>Osservazioni

La finestra, insieme al viewport del contesto del dispositivo, definisce il modo in cui GDI esegue il mapping dei punti nel sistema di coordinate logico ai punti nel sistema di coordinate del dispositivo.

L'origine della finestra contrassegna il punto del sistema di coordinate logico dal quale GDI esegue il mapping dell'origine del viewport, un punto nel sistema di coordinate del dispositivo specificato dalla `SetWindowOrg` funzione. GDI esegue il mapping di tutti gli altri punti seguendo lo stesso processo necessario per eseguire il mapping dell'origine della finestra all'origine del viewport. Ad esempio, tutti i punti in un cerchio intorno al punto dell'origine della finestra si troveranno in un cerchio intorno al punto dell'origine del viewport. Analogamente, tutti i punti di una riga che passano attraverso l'origine della finestra si troveranno in una riga che passa attraverso l'origine del viewport.

## <a name="cdcsetworldtransform"></a><a name="setworldtransform"></a>CDC:: SetWorldTransform

Imposta una trasformazione lineare bidimensionale tra spazio globale e spazio della pagina per il contesto di dispositivo specificato. Questa trasformazione può essere usata per ridimensionare, ruotare, inclinare o tradurre l'output della grafica.

```
BOOL SetWorldTransform(const XFORM& rXform);
```

### <a name="parameters"></a>Parametri

*rXform*<br/>
Riferimento [a una struttura](/windows/win32/api/wingdi/ns-wingdi-xform) che contiene i dati della trasformazione.

### <a name="return-value"></a>Valore restituito

Restituisce un valore diverso da zero in seguito all'esito positivo.

Restituisce 0 in caso di errore.

Per ottenere informazioni estese sull'errore, chiamare [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Osservazioni

Questo metodo esegue il wrapping della funzione GDI [SetWorldTransform](/windows/win32/api/wingdi/nf-wingdi-setworldtransform)di Windows.

## <a name="cdcstartdoc"></a><a name="startdoc"></a>CDC:: StartDoc

Informa il driver di dispositivo che è in corso l'avvio di un nuovo processo di stampa e che tutte le `StartPage` chiamate successive e `EndPage` devono essere sottoposte a spooling nello stesso processo fino a quando non `EndDoc` si verifica una chiamata.

```
int StartDoc(LPDOCINFO lpDocInfo);
int StartDoc(LPCTSTR lpszDocName);
```

### <a name="parameters"></a>Parametri

*lpDocInfo*<br/>
Punta a una struttura [DOCINFO](/windows/win32/api/wingdi/ns-wingdi-docinfow) contenente il nome del file di documento e il nome del file di output.

*lpszDocName*<br/>
Puntatore a una stringa che contiene il nome del file di documento.

### <a name="return-value"></a>Valore restituito

Se la funzione ha esito positivo, il valore restituito è maggiore di zero. Questo valore è l'identificatore del processo di stampa per il documento.

Se la funzione ha esito negativo, il valore restituito è minore o uguale a zero.

### <a name="remarks"></a>Osservazioni

Ciò garantisce che i documenti più lunghi di una pagina non verranno intervallati con altri processi.

Per le versioni di Windows 3,1 e successive questa funzione sostituisce l'escape della stampante STARTDOC. L'utilizzo di questa funzione garantisce che i documenti contenenti più di una pagina non vengano intervallati con altri processi di stampa.

`StartDoc`non devono essere usati all'interno di metafile.

### <a name="example"></a>Esempio

Questo frammento di codice ottiene la stampante predefinita, apre un processo di stampa ed effettua lo spooling di una pagina con "Hello, World!" su di esso. Poiché il testo stampato da questo codice non viene ridimensionato in base alle unità logiche della stampante, il testo di output potrebbe essere in lettere minuscole che il risultato è illeggibile. `SetMapMode` `SetViewportOrg` `SetWindowExt` Per correggere il ridimensionamento, è possibile utilizzare le funzioni di scala CDC, ad esempio, e.

[!code-cpp[NVC_MFCDocView#41](../../mfc/codesnippet/cpp/cdc-class_13.cpp)]

## <a name="cdcstartpage"></a><a name="startpage"></a>CDC:: StartPage

Chiamare questa funzione membro per preparare il driver della stampante per la ricezione dei dati.

```
int StartPage();
```

### <a name="return-value"></a>Valore restituito

Maggiore o uguale a 0 se la funzione ha esito positivo o un valore negativo se si è verificato un errore.

### <a name="remarks"></a>Osservazioni

`StartPage`sostituisce gli escape NEWFRAME e BANDINFO.

Per una panoramica della sequenza di chiamate di stampa, vedere la funzione membro [StartDoc](#startdoc) .

Il sistema Disabilita la `ResetDC` funzione membro tra le chiamate a `StartPage` e `EndPage` .

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: StartDoc](#startdoc).

## <a name="cdcstretchblt"></a><a name="stretchblt"></a>CDC:: StretchBlt

Copia una bitmap da un rettangolo di origine in un rettangolo di destinazione, allungando o comprimendo la bitmap se necessario per adattarla alle dimensioni del rettangolo di destinazione.

```
BOOL StretchBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x (in unità logiche) dell'angolo superiore sinistro del rettangolo di destinazione.

*y*<br/>
Specifica la coordinata y (in unità logiche) dell'angolo superiore sinistro del rettangolo di destinazione.

*nWidth*<br/>
Specifica la larghezza (in unità logiche) del rettangolo di destinazione.

*nHeight*<br/>
Specifica l'altezza (in unità logiche) del rettangolo di destinazione.

*pSrcDC*<br/>
Specifica il contesto del dispositivo di origine.

*xSrc*<br/>
Specifica la coordinata x (in unità logiche) dell'angolo superiore sinistro del rettangolo di origine.

*ySrc*<br/>
Specifica la coordinata y (in unità logiche) dell'angolo superiore sinistro del rettangolo di origine.

*nSrcWidth*<br/>
Specifica la larghezza (in unità logiche) del rettangolo di origine.

*nSrcHeight*<br/>
Specifica l'altezza (in unità logiche) del rettangolo di origine.

*dwRop*<br/>
Specifica l'operazione raster da eseguire. I codici dell'operazione raster definiscono in che modo GDI combina i colori nelle operazioni di output che includono un pennello corrente, una possibile bitmap di origine e una bitmap di destinazione. Il parametro può avere uno dei valori seguenti:

- Il nero converte tutto il nero di output.

- DSTINVERT inverte la bitmap di destinazione.

- MERGECOPY combina il modello e la bitmap di origine usando l'operatore booleano AND.

- MERGEPAINT combina la bitmap di origine invertita con la bitmap di destinazione usando l'operatore booleano OR.

- NOTSRCCOPY copia la bitmap di origine invertita nella destinazione.

- NOTSRCERASE inverte il risultato della combinazione delle bitmap di destinazione e di origine usando l'operatore booleano OR.

- PATCOPY copia il modello nella bitmap di destinazione.

- PATINVERT combina la bitmap di destinazione con il modello usando l'operatore booleano XOR.

- PATPAINT combina la bitmap di origine invertita con il modello usando l'operatore booleano OR. Combina il risultato di questa operazione con la bitmap di destinazione utilizzando l'operatore booleano OR.

- SRCAND combina i pixel delle bitmap di destinazione e di origine usando l'operatore booleano AND.

- SRCCOPY copia la bitmap di origine nella bitmap di destinazione.

- SRCERASE inverte la bitmap di destinazione e combina il risultato con la bitmap di origine usando l'operatore booleano AND.

- SRCINVERT combina i pixel delle bitmap di destinazione e di origine usando l'operatore booleano XOR.

- SRCPAINT combina i pixel delle bitmap di destinazione e di origine usando l'operatore booleano OR.

- Il bianco viene trasformato in tutto il bianco di output.

### <a name="return-value"></a>Valore restituito

Se la bitmap viene tracciata è diverso da zero; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

La funzione utilizza la modalità di adattamento del contesto del dispositivo di destinazione (impostata da `SetStretchBltMode`) per determinare come allungare o comprimere la bitmap.

La `StretchBlt` funzione sposta la bitmap dal dispositivo di origine fornito da *pSrcDC* al dispositivo di destinazione rappresentato dall'oggetto del contesto di dispositivo di cui viene chiamata la funzione membro. I parametri *xSrc*, *ySrc*, *nSrcWidth*e *nSrcHeight* definiscono l'angolo superiore sinistro e le dimensioni del rettangolo di origine. I parametri *x*, *y*, *nWidth*e *nHeight* assegnano l'angolo superiore sinistro e le dimensioni del rettangolo di destinazione. L'operazione raster specificata da *dwRop* definisce la combinazione della bitmap di origine e dei bit già presenti nel dispositivo di destinazione.

La `StretchBlt` funzione crea un'immagine speculare di una bitmap se i segni dei parametri *NSrcWidth* e *NWidth* o *nSrcHeight* e *nHeight* sono diversi. Se *nSrcWidth* e *nWidth* hanno segni diversi, la funzione crea un'immagine speculare della bitmap lungo l'asse x. Se *nSrcHeight* e *nHeight* hanno segni diversi, la funzione crea un'immagine speculare della bitmap lungo l'asse y.

La funzione `StretchBlt` allunga o comprime la bitmap di origine in memoria, quindi copia il risultato nella destinazione. Se è necessario unire un modello al risultato, questo non viene unito finché la bitmap di origine adattata non viene copiata nella destinazione. Se viene utilizzato un pennello, si tratta del pennello selezionato nel contesto del dispositivo di destinazione. Le coordinate di destinazione vengono trasformate in base al contesto del dispositivo di destinazione; le coordinate di origine vengono trasformate in base al contesto del dispositivo di origine.

Se le bitmap di destinazione, origine e modello non hanno lo stesso formato di colore, `StretchBlt` converte le bitmap di origine e modello per farle corrispondere alle bitmap di destinazione. Nella conversione vengono utilizzati i colori di primo piano e di sfondo del contesto del dispositivo di destinazione.

Se `StretchBlt` deve convertire a colori una bitmap monocromatica, imposta i bit bianchi (1) sui bit del colore di sfondo e i bit neri (0) sul colore di primo piano. Per la conversione da colore a monocromatico, imposta i pixel corrispondenti al colore di sfondo sul bianco (1) e tutti gli altri pixel sul nero (0). Vengono utilizzati i colori di primo piano e di sfondo del contesto del dispositivo a colori.

Non tutti i dispositivi supportano la funzione `StretchBlt`. Per determinare se un dispositivo supporta `StretchBlt` , chiamare la `GetDeviceCaps` funzione membro con l'indice RASTERCAPS e controllare il valore restituito per il flag di RC_STRETCHBLT.

## <a name="cdcstrokeandfillpath"></a><a name="strokeandfillpath"></a>CDC:: StrokeAndFillPath

Chiude tutte le figure aperte in un percorso, traccia il contorno del tracciato utilizzando la penna corrente e riempie l'interno utilizzando il pennello corrente.

```
BOOL StrokeAndFillPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il contesto di dispositivo deve contenere un percorso chiuso. La `StrokeAndFillPath` funzione membro ha lo stesso effetto della chiusura di tutte le figure aperte nel percorso e del tracciato e del riempimento del percorso separatamente, ad eccezione del fatto che l'area compilata non si sovrappone all'area tratteggiata anche se la penna è di grandi dimensioni.

## <a name="cdcstrokepath"></a><a name="strokepath"></a>CDC:: StrokePath

Esegue il rendering del percorso specificato utilizzando la penna corrente.

```
BOOL StrokePath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Il contesto di dispositivo deve contenere un percorso chiuso.

## <a name="cdctabbedtextout"></a><a name="tabbedtextout"></a>CDC:: TabbedTextOut

Chiamare questa funzione membro per scrivere una stringa di caratteri nel percorso specificato, espandendo le tabulazioni ai valori specificati nella matrice delle posizioni di arresto della tabulazione.

```
virtual CSize TabbedTextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);

CSize TabbedTextOut(
    int x,
    int y,
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto iniziale della stringa.

*y*<br/>
Specifica la coordinata y logica del punto iniziale della stringa.

*lpszString*<br/>
Punta alla stringa di caratteri da creare. È possibile passare un puntatore a una matrice di caratteri o un oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) per questo parametro.

*nCount*<br/>
Specifica la [lunghezza della stringa](/windows/win32/gdi/specifying-length-of-text-output-string) a cui punta *lpszString*.

*nTabPositions*<br/>
Specifica il numero di valori nella matrice di posizioni di interruzione di tabulazione.

*lpnTabStopPositions*<br/>
Punta a una matrice contenente le posizioni di arresto tabulare (in unità logiche). Il numero di tabulazioni deve essere ordinato in ordine crescente. il valore x più piccolo deve essere il primo elemento della matrice.

*nTabOrigin*<br/>
Specifica la coordinata x della posizione iniziale dalla quale vengono espanse le schede (in unità logiche).

*str*<br/>
`CString`Oggetto contenente i caratteri specificati.

### <a name="return-value"></a>Valore restituito

Dimensioni della stringa (in unità logiche) come `CSize` oggetto.

### <a name="remarks"></a>Osservazioni

Il testo viene scritto nel tipo di carattere correntemente selezionato. Se *nTabPositions* è 0 e *lpnTabStopPositions* è null, le tabulazioni vengono espanse a otto volte la larghezza media dei caratteri.

Se *nTabPositions* è 1, le tabulazioni vengono separate dalla distanza specificata dal primo valore nella matrice *lpnTabStopPositions* . Se la matrice *lpnTabStopPositions* contiene più di un valore, viene impostato un tasto TAB per ogni valore nella matrice, fino al numero specificato da *nTabPositions*. Il parametro *nTabOrigin* consente a un'applicazione di chiamare la `TabbedTextOut` funzione più volte per una singola riga. Se l'applicazione chiama la funzione più di una volta con *nTabOrigin* impostato sullo stesso valore ogni volta, la funzione espande tutte le schede rispetto alla posizione specificata da *nTabOrigin*.

Per impostazione predefinita, la posizione corrente non viene utilizzata o aggiornata dalla funzione. Se un'applicazione deve aggiornare la posizione corrente quando chiama la funzione, l'applicazione può chiamare la funzione membro [setTextAlign](#settextalign) con *nFlags* impostato su TA_UPDATECP. Quando questo flag è impostato, Windows ignora i parametri *x* e *y* nelle chiamate successive a `TabbedTextOut` , usando invece la posizione corrente.

## <a name="cdctextout"></a><a name="textout"></a>CDC:: Text out

Scrive una stringa di caratteri nella posizione specificata utilizzando il tipo di carattere attualmente selezionato.

```
virtual BOOL TextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount);

BOOL TextOut(
    int x,
    int y,
    const CString& str);
```

### <a name="parameters"></a>Parametri

*x*<br/>
Specifica la coordinata x logica del punto iniziale del testo.

*y*<br/>
Specifica la coordinata y logica del punto iniziale del testo.

*lpszString*<br/>
Punta alla stringa di caratteri da tracciare.

*nCount*<br/>
Specifica il numero di caratteri nella stringa.

*str*<br/>
Oggetto `CString` che contiene i caratteri da tracciare.

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Le origini del carattere si trovano nell'angolo superiore sinistro della cella del carattere. Per impostazione predefinita, la posizione corrente non viene utilizzata o aggiornata dalla funzione.

Se un'applicazione deve aggiornare la posizione corrente quando chiama `TextOut` , l'applicazione può chiamare la `SetTextAlign` funzione membro con *nFlags* impostato su TA_UPDATECP. Quando questo flag è impostato, Windows ignora i parametri *x* e *y* nelle chiamate successive a `TextOut` , usando invece la posizione corrente.

### <a name="example"></a>Esempio

  Vedere l'esempio per [CDC:: BeginPath](#beginpath).

## <a name="cdctransparentblt"></a><a name="transparentblt"></a>CDC:: TransparentBlt

Chiamare questa funzione membro per trasferire un blocco di bit dei dati relativi al colore, che corrisponde a un rettangolo di pixel dal contesto del dispositivo di origine specificato, in un contesto di dispositivo di destinazione.

```
BOOL TransparentBlt(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    UINT clrTransparent);
```

### <a name="parameters"></a>Parametri

*xDest*<br/>
Specifica la coordinata x, in unità logiche, dell'angolo superiore sinistro del rettangolo di destinazione.

*yDest*<br/>
Specifica la coordinata y, in unità logiche, dell'angolo superiore sinistro del rettangolo di destinazione.

*nDestWidth*<br/>
Specifica la larghezza, in unità logiche, del rettangolo di destinazione.

*nDestHeight*<br/>
Specifica l'altezza, in unità logiche, del rettangolo di destinazione.

*pSrcDC*<br/>
Puntatore al contesto del dispositivo di origine.

*xSrc*<br/>
Specifica la coordinata x, in unità logiche, del rettangolo di origine.

*ySrc*<br/>
Specifica la coordinata y, in unità logiche, del rettangolo di origine.

*nSrcWidth*<br/>
Specifica la larghezza, in unità logiche, del rettangolo di origine.

*nSrcHeight*<br/>
Specifica l'altezza, in unità logiche, del rettangolo di origine.

*clrTransparent*<br/>
Colore RGB nella bitmap di origine da considerare trasparente.

### <a name="return-value"></a>Valore restituito

TRUE se l'operazione riesce; in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

`TransparentBlt`consente la trasparenza; ovvero, il colore RGB indicato da *clrTransparent* viene sottoposto a rendering trasparente per il trasferimento.

Per ulteriori informazioni, vedere [TransparentBlt](/windows/win32/api/wingdi/nf-wingdi-transparentblt) nel Windows SDK.

## <a name="cdcupdatecolors"></a><a name="updatecolors"></a>CDC:: UpdateColors

Aggiorna l'area client del contesto di dispositivo mediante la corrispondenza tra i colori correnti nell'area client e la tavolozza di sistema in base ai pixel.

```cpp
void UpdateColors();
```

### <a name="remarks"></a>Osservazioni

Una finestra inattiva con una tavolozza logica realizzata può chiamare `UpdateColors` come alternativa al ridisegno dell'area client quando viene modificata la tavolozza di sistema.

Per ulteriori informazioni sull'utilizzo delle tavolozze dei colori, vedere [UpdateColors](/windows/win32/api/wingdi/nf-wingdi-updatecolors) nel Windows SDK.

La `UpdateColors` funzione membro in genere aggiorna un'area client più velocemente rispetto al ridisegno dell'area. Tuttavia, poiché la funzione esegue la conversione dei colori in base al colore di ogni pixel prima che la tavolozza di sistema venga modificata, ogni chiamata a questa funzione comporta la perdita di una certa accuratezza del colore.

## <a name="cdcwidenpath"></a><a name="widenpath"></a>CDC:: WidenPath

Ridefinisce il percorso corrente come area da disegnare se il tracciato è stato tracciato utilizzando la penna attualmente selezionata nel contesto di dispositivo.

```
BOOL WidenPath();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se la funzione ha esito positivo; in caso contrario, 0.

### <a name="remarks"></a>Osservazioni

Questa funzione ha esito positivo solo se la penna corrente è una penna geometrica creata dalla seconda versione della `CreatePen` funzione membro oppure se la penna viene creata con la prima versione di `CreatePen` e ha una larghezza, in unità di dispositivo, maggiore di 1. Il contesto di dispositivo deve contenere un percorso chiuso. Tutte le Curve Bzier nel percorso vengono convertite in sequenze di linee rette che approssimano le curve più estese. Di conseguenza, nessuna curva Bzier rimane nel percorso dopo la `WidenPath` chiamata a.

## <a name="see-also"></a>Vedere anche

[Classe CObject](../../mfc/reference/cobject-class.md)<br/>
[Grafico delle gerarchie](../../mfc/hierarchy-chart.md)<br/>
[Classe CPaintDC](../../mfc/reference/cpaintdc-class.md)<br/>
[Classe CWindowDC](../../mfc/reference/cwindowdc-class.md)<br/>
[Classe CClientDC](../../mfc/reference/cclientdc-class.md)<br/>
[Classe CMetaFileDC](../../mfc/reference/cmetafiledc-class.md)
