---
title: Classe CListCtrl
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 19939ce7dacc1b826e0a2f067c43fc65db328a54
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/14/2020
ms.locfileid: "81370158"
---
# <a name="clistctrl-class"></a>Classe CListCtrl

Incapsula la funzionalità di un "controllo di visualizzazione elenco" che mostra una raccolta di elementi ciascuno costituito da un'icona (da un elenco di immagini) e da un'etichetta.

## <a name="syntax"></a>Sintassi

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Membri

### <a name="public-constructors"></a>Costruttori pubblici

|Nome|Descrizione|
|----------|-----------------|
|[CListCtrl::CListCtrl](#clistctrl)|Costruisce un oggetto `CListCtrl`.|

### <a name="public-methods"></a>Metodi pubblici

|Nome|Descrizione|
|----------|-----------------|
|[CListCtrl::ApproximateViewRect](#approximateviewrect)|Determina la larghezza e l'altezza necessarie per visualizzare gli elementi di un controllo visualizzazione elenco.|
|[CListCtrl::Arrange](#arrange)|Allinea gli elementi in una griglia.|
|[CListCtrl::CancelEditLabel](#canceleditlabel)|Annulla l'operazione di modifica del testo dell'elemento.|
|[CListCtrl::Crea](#create)|Crea un controllo elenco e lo `CListCtrl` associa a un oggetto.|
|[CListCtrl::CreateDragImage](#createdragimage)|Crea un elenco di immagini di trascinamento per un elemento specificato.|
|[CListCtrl::CreateEx](#createex)|Crea un controllo elenco con gli stili estesi di `CListCtrl` Windows specificati e lo associa a un oggetto.|
|[CListCtrl::DeleteAllItems](#deleteallitems)|Elimina tutti gli elementi dal controllo.|
|[CListCtrl::DeleteColonna](#deletecolumn)|Elimina una colonna dal controllo visualizzazione elenco.|
|[CListCtrl::DeleteItem](#deleteitem)|Elimina un elemento dal controllo.|
|[CListCtrl::DrawItem](#drawitem)|Chiamato quando un aspetto visivo di un controllo disegno dal proprietario viene modificato.|
|[CListCtrl::EditLabel](#editlabel)|Inizia la modifica sul posto del testo di un elemento.|
|[CListCtrl::EnableGroupView](#enablegroupview)|Abilita o disabilita se gli elementi in un controllo visualizzazione elenco vengono visualizzati come gruppo.|
|[CListCtrl::EnsureVisible](#ensurevisible)|Assicura che un elemento sia visibile.|
|[CListCtrl::FindItem](#finditem)|Cerca un elemento della visualizzazione elenco con caratteristiche specificate.|
|[CListCtrl::GetBkColor](#getbkcolor)|Recupera il colore di sfondo di un controllo visualizzazione elenco.|
|[CListCtrl::GetBkImage](#getbkimage)|Recupera l'immagine di sfondo corrente di un controllo visualizzazione elenco.|
|[CListCtrl::GetCallbackMask](#getcallbackmask)|Recupera la maschera di callback per un controllo visualizzazione elenco.|
|[CListCtrl::GetCheck](#getcheck)|Recupera lo stato di visualizzazione corrente dell'immagine di stato associata a un elemento.|
|[CListCtrl::GetColumn](#getcolumn)|Recupera gli attributi della colonna di un controllo.|
|[CListCtrl::GetColumnOrderArray](#getcolumnorderarray)|Recupera l'ordine delle colonne (da sinistra a destra) di un controllo visualizzazione elenco.|
|[CListCtrl::GetColumnWidth](#getcolumnwidth)|Recupera la larghezza di una colonna nella visualizzazione report o nella visualizzazione elenco.|
|[CListCtrl::GetCountPerPage](#getcountperpage)|Calcola il numero di elementi che possono essere adattati verticalmente in un controllo visualizzazione elenco.|
|[CListCtrl::GetEditControl](#geteditcontrol)|Recupera l'handle del controllo di modifica utilizzato per modificare il testo di un elemento.|
|[CListCtrl::GetEmptyText (TestoVuoto)](#getemptytext)|Recupera la stringa da visualizzare se il controllo visualizzazione elenco corrente è vuoto.|
|[CListCtrl::GetExtendedStyle](#getextendedstyle)|Recupera gli stili estesi correnti di un controllo visualizzazione elenco.|
|[CListCtrl::GetFirstSelectedItemPosition](#getfirstselecteditemposition)|Recupera la posizione del primo elemento della visualizzazione elenco selezionato in un controllo visualizzazione elenco.|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Recupera il gruppo con lo stato attivo della tastiera nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetGroupCount](#getgroupcount)|Recupera il numero di gruppi nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetGroupInfo](#getgroupinfo)|Ottiene le informazioni per un gruppo specificato del controllo visualizzazione elenco.|
|[CListCtrl::GetGroupInfoByIndex](#getgroupinfobyindex)|Recupera informazioni su un gruppo specificato nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetGroupMetrics](#getgroupmetrics)|Recupera le metriche di un gruppo.|
|[CListCtrl::GetGroupRect](#getgrouprect)|Recupera il rettangolo di delimitazione per un gruppo specificato nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetGroupState](#getgroupstate)|Recupera lo stato per un gruppo specificato nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetHeaderCtrl](#getheaderctrl)|Recupera il controllo intestazione di un controllo visualizzazione elenco.|
|[CListCtrl::GetHotCursor](#gethotcursor)|Recupera il cursore utilizzato quando il rilevamento a caldo è abilitato per un controllo visualizzazione elenco.|
|[CListCtrl::GetHotItem](#gethotitem)|Recupera l'elemento della visualizzazione elenco attualmente sotto il cursore.|
|[CListCtrl::GetHoverTime](#gethovertime)|Recupera l'ora corrente al passaggio del mouse di un controllo visualizzazione elenco.|
|[CListCtrl::GetImageList](#getimagelist)|Recupera l'handle di un elenco immagini utilizzato per gli elementi della visualizzazione elenco di disegno.|
|[CListCtrl::GetInsertMark](#getinsertmark)|Recupera la posizione corrente del segno di inserimento.|
|[CListCtrl::GetInsertMarkColor](#getinsertmarkcolor)|Recupera il colore corrente del segno di inserimento.|
|[CListCtrl::GetInsertMarkRect](#getinsertmarkrect)|Recupera il rettangolo che delimita il punto di inserimento.|
|[CListCtrl::GetItem](#getitem)|Recupera gli attributi di un elemento della visualizzazione elenco.|
|[CListCtrl::GetItemCount](#getitemcount)|Recupera il numero di elementi in un controllo visualizzazione elenco.|
|[CListCtrl::GetItemData](#getitemdata)|Recupera il valore specifico dell'applicazione associato a un elemento.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Recupera il rettangolo di delimitazione per tutto o parte di un elemento secondario nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetItemPosition](#getitemposition)|Recupera la posizione di un elemento della visualizzazione elenco.|
|[CListCtrl::GetItemRect](#getitemrect)|Recupera il rettangolo di delimitazione per un elemento.|
|[CListCtrl::GetItemSpacing](#getitemspacing)|Calcola la spaziatura tra gli elementi nel controllo visualizzazione elenco corrente.|
|[CListCtrl::GetItemState](#getitemstate)|Recupera lo stato di un elemento della visualizzazione elenco.|
|[CListCtrl::GetItemText](#getitemtext)|Recupera il testo di un elemento della visualizzazione elenco o di un elemento secondario.|
|[CListCtrl::GetNextItem](#getnextitem)|Cerca un elemento della visualizzazione elenco con le proprietà specificate e con la relazione specificata con un elemento specificato.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Recupera l'indice dell'elemento nel controllo visualizzazione elenco corrente con un set di proprietà specificato.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Recupera l'indice della posizione di un elemento della visualizzazione elenco e la posizione dell'elemento della visualizzazione elenco selezionato successivo per l'iterazione.|
|[CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas)|Recupera il numero corrente di aree di lavoro per un controllo visualizzazione elenco.|
|[CListCtrl::GetOrigin](#getorigin)|Recupera l'origine della visualizzazione corrente per un controllo visualizzazione elenco.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Recupera il colore del bordo di un controllo visualizzazione elenco.|
|[CListCtrl::GetSelectedColumn](#getselectedcolumn)|Recupera l'indice della colonna attualmente selezionata nel controllo elenco.|
|[CListCtrl::GetSelectedCount](#getselectedcount)|Recupera il numero di elementi selezionati nel controllo visualizzazione elenco.|
|[CListCtrl::GetSelectionMark](#getselectionmark)|Recupera il segno di selezione di un controllo visualizzazione elenco.|
|[CListCtrl::GetStringWidth](#getstringwidth)|Determina la larghezza minima della colonna necessaria per visualizzare tutta una determinata stringa.|
|[CListCtrl::GetSubItemRect](#getsubitemrect)|Recupera il rettangolo di delimitazione di un elemento in un controllo visualizzazione elenco.|
|[CListCtrl::GetTextBkColor](#gettextbkcolor)|Recupera il colore di sfondo del testo di un controllo visualizzazione elenco.|
|[CListCtrl::GetTextColor](#gettextcolor)|Recupera il colore del testo di un controllo visualizzazione elenco.|
|[CListCtrl::GetTileInfo](#gettileinfo)|Recupera informazioni su un riquadro in un controllo visualizzazione elenco.|
|[CListCtrl::GetTileViewInfo](#gettileviewinfo)|Recupera informazioni su un controllo visualizzazione elenco nella visualizzazione affiancata.|
|[CListCtrl::GetToolTips](#gettooltips)|Recupera il controllo descrizione comandi utilizzato dal controllo visualizzazione elenco per visualizzare le descrizioni comandi.|
|[CListCtrl::GetTopIndex](#gettopindex)|Recupera l'indice dell'elemento visibile più in alto.|
|[CListCtrl::GetView](#getview)|Ottiene la visualizzazione del controllo visualizzazione elenco.|
|[CListCtrl::GetViewRect](#getviewrect)|Recupera il rettangolo di delimitazione di tutti gli elementi nel controllo visualizzazione elenco.|
|[CListCtrl::GetWorkAreas](#getworkareas)|Recupera le aree di lavoro correnti di un controllo visualizzazione elenco.|
|[CListCtrl::HasGroup](#hasgroup)|Determina se il controllo visualizzazione elenco ha il gruppo specificato.|
|[CListCtrl::HitTest](#hittest)|Determina quale elemento della visualizzazione elenco si trova in una posizione specificata.|
|[CListCtrl::InsertColumn](#insertcolumn)|Inserisce una nuova colonna in un controllo visualizzazione elenco.|
|[CListCtrl::InsertGroup (Gruppo DiC::InsertGroup)](#insertgroup)|Inserisce un gruppo nel controllo visualizzazione elenco.|
|[CListCtrl::InsertGroupSorted](#insertgroupsorted)|Inserisce il gruppo specificato in un elenco ordinato di gruppi.|
|[CListCtrl::InsertItem](#insertitem)|Inserisce un nuovo elemento in un controllo visualizzazione elenco.|
|[CListCtrl::InsertMarkHitTest](#insertmarkhittest)|Recupera il punto di inserimento più vicino a un punto specificato.|
|[CListCtrl::IsGroupViewEnabled](#isgroupviewenabled)|Determina se la visualizzazione di gruppo è abilitata per un controllo visualizzazione elenco.|
|[CListCtrl::IsItemVisible](#isitemvisible)|Indica se un elemento specificato nel controllo visualizzazione elenco corrente è visibile.|
|[CListCtrl::MapIDToIndex](#mapidtoindex)|Esegue il mapping dell'ID univoco di un elemento nel controllo visualizzazione elenco corrente a un indice.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Esegue il mapping dell'indice di un elemento nel controllo visualizzazione elenco corrente a un ID univoco.|
|[CListCtrl::MoveGroup](#movegroup)|Sposta il gruppo specificato.|
|[CListCtrl::MoveItemToGroup](#moveitemtogroup)|Sposta il gruppo specificato all'indice in base zero specificato del controllo visualizzazione elenco.|
|[CListCtrl::RidisegnoElementi](#redrawitems)|Impone a un controllo visualizzazione elenco di ridisegnare un intervallo di elementi.|
|[CListCtrl::RemoveAllGroups](#removeallgroups)|Rimuove tutti i gruppi da un controllo visualizzazione elenco.|
|[CListCtrl::RemoveGroup](#removegroup)|Rimuove il gruppo specificato dal controllo visualizzazione elenco.|
|[CListCtrl::Scorrimento](#scroll)|Scorre il contenuto di un controllo visualizzazione elenco.|
|[CListCtrl::SetBkColor](#setbkcolor)|Imposta il colore di sfondo del controllo visualizzazione elenco.|
|[CListCtrl::SetBkImage](#setbkimage)|Imposta l'immagine di sfondo corrente di un controllo visualizzazione elenco.|
|[CListCtrl::SetCallbackMask](#setcallbackmask)|Imposta la maschera di callback per un controllo visualizzazione elenco.|
|[CListCtrl::SetCheck](#setcheck)|Imposta lo stato di visualizzazione corrente dell'immagine di stato associata a un elemento.|
|[CListCtrl::SetColumn](#setcolumn)|Imposta gli attributi di una colonna della vista elenco.|
|[CListCtrl::SetColumnOrderArray](#setcolumnorderarray)|Imposta l'ordine delle colonne (da sinistra a destra) di un controllo visualizzazione elenco.|
|[CListCtrl::SetColumnWidth](#setcolumnwidth)|Modifica la larghezza di una colonna in visualizzazione report o in visualizzazione elenco.|
|[CListCtrl::SetExtendedStyle (combinazione di tasti CListCtrl::SetExtendedStyle)](#setextendedstyle)|Imposta gli stili estesi correnti di un controllo visualizzazione elenco.|
|[CListCtrl::SetGroupInfo](#setgroupinfo)|Imposta le informazioni per il gruppo specificato di un controllo visualizzazione elenco.|
|[CListCtrl::SetGroupMetrics](#setgroupmetrics)|Imposta le metriche di gruppo di un controllo visualizzazione elenco.|
|[CListCtrl::SetHotCursor](#sethotcursor)|Imposta il cursore utilizzato quando il rilevamento a caldo è abilitato per un controllo visualizzazione elenco.|
|[CListCtrl::SetHotItem](#sethotitem)|Imposta l'elemento caldo corrente di un controllo visualizzazione elenco.|
|[CListCtrl::SetHoverTime](#sethovertime)|Imposta l'ora corrente al passaggio del mouse di un controllo visualizzazione elenco.|
|[CListCtrl::SetIconSpacing](#seticonspacing)|Imposta la spaziatura tra le icone in un controllo visualizzazione elenco.|
|[CListCtrl::SetImageList](#setimagelist)|Assegna un elenco immagini a un controllo visualizzazione elenco.|
|[CListCtrl::SetInfoTip](#setinfotip)|Imposta il testo della descrizione comando.|
|[CListCtrl::SetInsertMark](#setinsertmark)|Imposta il punto di inserimento sulla posizione definita.|
|[CListCtrl::SetInsertMarkColor](#setinsertmarkcolor)|Imposta il colore del punto di inserimento.|
|[CListCtrl::SetItem](#setitem)|Imposta alcuni o tutti gli attributi di un elemento della visualizzazione elenco.|
|[CListCtrl::SetItemCount](#setitemcount)|Prepara un controllo visualizzazione elenco per l'aggiunta di un numero elevato di elementi.|
|[CListCtrl::SetItemCountEx](#setitemcountex)|Imposta il numero di elementi per un controllo di visualizzazione elenco virtuale.|
|[CListCtrl::SetItemData](#setitemdata)|Imposta il valore specifico dell'applicazione dell'elemento.|
|[CListCtrl::SetItemIndexState](#setitemindexstate)|Imposta lo stato di un elemento nel controllo visualizzazione elenco corrente.|
|[CListCtrl::SetItemPosition](#setitemposition)|Sposta un elemento in una posizione specificata in un controllo visualizzazione elenco.|
|[CListCtrl::SetItemState](#setitemstate)|Modifica lo stato di un elemento in un controllo visualizzazione elenco.|
|[CListCtrl::SetItemText](#setitemtext)|Modifica il testo di un elemento della visualizzazione elenco o di un elemento secondario.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Imposta il colore del bordo di un controllo visualizzazione elenco.|
|[CListCtrl::SetSelectedColumn (Colonna di CListCtrl::SetSelectedColumn)](#setselectedcolumn)|Imposta la colonna selezionata del controllo visualizzazione elenco.|
|[CListCtrl::SetSelectionMark](#setselectionmark)|Imposta il segno di selezione di un controllo visualizzazione elenco.|
|[CListCtrl::SetTextBkColor](#settextbkcolor)|Imposta il colore di sfondo del testo in un controllo visualizzazione elenco.|
|[CListCtrl::SetTextColor](#settextcolor)|Imposta il colore del testo di un controllo visualizzazione elenco.|
|[CListCtrl::SetTileInfo](#settileinfo)|Imposta le informazioni per un riquadro del controllo visualizzazione elenco.|
|[CListCtrl::SetTileViewInfo](#settileviewinfo)|Imposta le informazioni utilizzate da un controllo visualizzazione elenco nella visualizzazione affiancata.|
|[CListCtrl::SetToolTips](#settooltips)|Imposta il controllo descrizione comando che verrà utilizzato dal controllo visualizzazione elenco per visualizzare le descrizioni comandi.|
|[CListCtrl::SetView](#setview)|Imposta la visualizzazione del controllo visualizzazione elenco.|
|[CListCtrl::SetWorkAreas](#setworkareas)|Imposta l'area in cui è possibile visualizzare le icone in un controllo visualizzazione elenco.|
|[CListCtrl::SortGroups](#sortgroups)|Ordina i gruppi di un controllo visualizzazione elenco con una funzione definita dall'utente.|
|[CListCtrl::SortItems](#sortitems)|Ordina gli elementi della visualizzazione elenco utilizzando una funzione di confronto definita dall'applicazione.|
|[CListCtrl::SortItemsEx](#sortitemsex)|Ordina gli elementi della visualizzazione elenco utilizzando una funzione di confronto definita dall'applicazione.|
|[CListCtrl::SubItemHitTest](#subitemhittest)|Determina quale elemento della visualizzazione elenco, se presente, si trova in una determinata posizione.|
|[CListCtrl::Aggiornare](#update)|Forza il controllo a ridisegnare un elemento specificato.|

## <a name="remarks"></a>Osservazioni

Oltre a un'icona e un'etichetta, ogni elemento può avere informazioni visualizzate in colonne a destra dell'icona e dell'etichetta. Questo controllo (e `CListCtrl` quindi la classe) è disponibile solo per i programmi in esecuzione in Windows 95/98 e Windows NT versione 3.51 e successive.

Di seguito è riportata `CListCtrl` una breve panoramica della classe. Per una discussione concettuale dettagliata, vedere [Utilizzo di CListCtrl](../../mfc/using-clistctrl.md) e [controlli](../../mfc/controls-mfc.md).

## <a name="views"></a>Viste

I controlli visualizzazione elenco possono visualizzare il contenuto in quattro modi diversi, denominati "visualizzazioni".

- Visualizzazione icone

   Ogni elemento viene visualizzato come un'icona a grandezza naturale (32 x 32 pixel) con un'etichetta sotto di esso. L'utente può trascinare gli elementi in qualsiasi posizione nella finestra della visualizzazione elenco.

- Visualizzazione icone piccole

   Ogni elemento viene visualizzato come una piccola icona (16 x 16 pixel) con l'etichetta a destra di esso. L'utente può trascinare gli elementi in qualsiasi posizione nella finestra della visualizzazione elenco.

- Vista Elenco

   Ogni elemento viene visualizzato come una piccola icona con un'etichetta a destra di esso. Gli elementi sono disposti in colonne e non possono essere trascinati in alcuna posizione nella finestra della visualizzazione elenco.

- Visualizzazione report

   Ogni elemento viene visualizzato sulla propria riga, con informazioni aggiuntive disposte in colonne a destra. La colonna più a sinistra contiene l'icona piccola e l'etichetta e le colonne successive contengono elementi secondari come specificato dall'applicazione. Un controllo intestazione incorporato (classe [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) implementa queste colonne. Per ulteriori informazioni sul controllo intestazione e sulle colonne in una visualizzazione report, vedere [Utilizzo di CListCtrl: Aggiunta di colonne al controllo (visualizzazione Report)](../../mfc/adding-columns-to-the-control-report-view.md).

Lo stile della visualizzazione elenco corrente del controllo determina la visualizzazione corrente. Per ulteriori informazioni su questi stili e sul relativo utilizzo, vedere [Utilizzo di CListCtrl: Modifica degli stili del controllo Elenco](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Stili estesi

Oltre agli stili di elenco `CListCtrl` standard, la classe supporta un ampio set di stili estesi, fornendo funzionalità avanzate. Alcuni esempi di questa funzionalità includono:Some examples of this functionality include:

- Selezione al passaggio del mouse

   Se abilitata, consente la selezione automatica di un elemento quando il cursore rimane sull'elemento per un determinato periodo di tempo.

- Visualizzazioni elenco virtuale

   Se abilitata, consente al controllo di supportare fino a elementi DWORD. Ciò è possibile inserendo l'overhead della gestione dei dati dell'articolo nell'applicazione. Ad eccezione della selezione dell'elemento e delle informazioni sullo stato attivo, tutte le informazioni sull'elemento devono essere gestite dall'applicazione. Per ulteriori informazioni, vedere [Utilizzo di CListCtrl: controlli elenco virtuale](../../mfc/virtual-list-controls.md).

- Attivazione con un clic e due clic

   Se abilitata, consente il rilevamento a caldo (evidenziazione automatica del testo dell'elemento) e l'attivazione con uno o due clic dell'elemento evidenziato.

- Ordine delle colonne di trascinamento della selezione

   Se abilitata, consente il riordinamento delle colonne in un controllo visualizzazione elenco. Disponibile solo nella visualizzazione report.

Per informazioni sull'utilizzo di questi nuovi stili estesi, vedere [Utilizzo di CListCtrl: Modifica degli stili del controllo Elenco](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Elementi e sottoelementi

Ogni elemento in un controllo visualizzazione elenco è costituito da un'icona (da un elenco di immagini), un'etichetta, uno stato corrente e un valore definito dall'applicazione (denominato "dati dell'elemento"). Uno o più elementi secondari possono anche essere associati a ogni elemento. Un "elemento secondario" è una stringa che, nella visualizzazione report, può essere visualizzata in una colonna a destra dell'icona e dell'etichetta di un elemento. Tutti gli elementi in un controllo visualizzazione elenco devono avere lo stesso numero di elementi secondari.

Classe `CListCtrl` fornisce diverse funzioni per l'inserimento, l'eliminazione, la ricerca e la modifica di questi elementi. Per ulteriori informazioni, vedere [CListCtrl::GetItem](#getitem), [CListCtrl::InsertItem](#insertitem)e [CListCtrl::FindItem](#finditem), Aggiunta di [elementi al controllo](../adding-items-to-the-control.md)e [Scorrimento, disposizione, ordinamento e ricerca nei controlli elenco](../scrolling-arranging-sorting-and-finding-in-list-controls.md).

Per impostazione predefinita, il controllo visualizzazione elenco è responsabile dell'archiviazione degli attributi di testo e icona di un elemento. Tuttavia, oltre a questi `CListCtrl` tipi di elemento, la classe supporta "elementi di callback". Un "elemento di richiamata" è un elemento della visualizzazione elenco per il quale l'applicazione, anziché il controllo, archivia il testo, l'icona o entrambi. Una maschera di callback viene utilizzata per specificare quali attributi dell'elemento (testo e/o icona) vengono forniti dall'applicazione. Se un'applicazione utilizza elementi di callback, deve essere in grado di fornire gli attributi di testo e/o icona su richiesta. Gli elementi di richiamata sono utili quando l'applicazione mantiene già alcune di queste informazioni. Per ulteriori informazioni, vedere [Utilizzo di CListCtrl: elementi di callback e maschera di callback](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Elenchi immagini

Le icone, le immagini degli elementi dell'intestazione e gli stati definiti dall'applicazione per gli elementi della visualizzazione elenco sono contenuti in diversi elenchi di immagini (implementati dalla classe [CImageList](cimagelist-class.md)), creati e assegnati al controllo visualizzazione elenco. Ogni controllo visualizzazione elenco può avere fino a quattro diversi tipi di elenchi immagini:Each list view control can have up to four different types of image lists:

- Icona Grande

   Utilizzato nella vista icone per le icone a grandezza naturale.

- Icona piccola

   Utilizzato nelle visualizzazioni icone piccole, elenco e report per le versioni più piccole delle icone utilizzate nella visualizzazione icone.

- Stato definito dall'applicazione

   Contiene immagini di stato, visualizzate accanto all'icona di un elemento per indicare uno stato definito dall'applicazione.

- Voce di intestazione

   Utilizzato nella visualizzazione report per le immagini di piccole dimensioni visualizzate in ogni elemento di controllo intestazione.

Per impostazione predefinita, un controllo visualizzazione elenco elimina gli elenchi di immagini assegnati quando viene eliminato; Tuttavia, lo sviluppatore può personalizzare questo comportamento eliminando ogni elenco di immagini quando non viene più utilizzato, come determinato dall'applicazione. Per ulteriori informazioni, vedere [Utilizzo di CListCtrl: voci di elenco ed elenchi immagini](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Gerarchia di ereditarietà

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Requisiti

**Intestazione:** afxcmn.h

## <a name="clistctrlapproximateviewrect"></a><a name="approximateviewrect"></a>CListCtrl::ApproximateViewRect

Determina la larghezza e l'altezza necessarie per visualizzare gli elementi di un controllo visualizzazione elenco.

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Parametri

*Sz*<br/>
Dimensioni proposte del controllo, in pixel. Se le dimensioni non vengono specificate, il framework utilizza i valori di larghezza o altezza correnti del controllo.

*iCount (informazioni in cui l'*<br/>
Numero di elementi da visualizzare nel controllo. Se questo parametro è -1, il framework utilizza il numero totale di elementi attualmente nel controllo.

### <a name="return-value"></a>Valore restituito

Oggetto `CSize` che contiene la larghezza e l'altezza approssimative necessarie per visualizzare gli elementi, in pixel.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect), come descritto in Windows SDK.

## <a name="clistctrlarrange"></a><a name="arrange"></a>CListCtrl::Arrange

Riposiziona gli elementi in una visualizzazione icone in modo che siano allineati su una griglia.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Parametri

*Ncode*<br/>
Specifica lo stile di allineamento per gli elementi. Può essere uno dei valori seguenti:

- LVA_ALIGNLEFT Consente di allineare gli elementi lungo il bordo sinistro della finestra.

- LVA_ALIGNTOP Consente di allineare gli elementi lungo il bordo superiore della finestra.

- LVA_DEFAULT Allinea gli elementi in base agli stili di allineamento correnti della visualizzazione elenco (valore predefinito).

- LVA_SNAPTOGRID Consente di agganciare tutte le icone alla posizione della griglia più vicina.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Il parametro *nCode* consente di specificare lo stile di allineamento.

### <a name="example"></a>Esempio

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="clistctrlcanceleditlabel"></a><a name="canceleditlabel"></a>CListCtrl::CancelEditLabel

Annulla l'operazione di modifica del testo dell'elemento.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_CANCELEDITLABEL,](/windows/win32/Controls/lvm-canceleditlabel) come descritto in Windows SDK.

## <a name="clistctrlclistctrl"></a><a name="clistctrl"></a>CListCtrl::CListCtrl

Costruisce un oggetto `CListCtrl`.

```
CListCtrl();
```

## <a name="clistctrlcreate"></a><a name="create"></a>CListCtrl::Crea

Crea un controllo elenco e lo `CListCtrl` associa a un oggetto.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parametri

*DwStyle (in stile dwStyle)*<br/>
Specifica lo stile del controllo elenco. Applicare qualsiasi combinazione di stili di controllo elenco al controllo. Per un elenco completo di questi stili, vedere [Stili della finestra visualizzazione elenco](/windows/win32/Controls/list-view-window-styles) in Windows SDK. Impostare gli stili estesi specifici di un controllo utilizzando [SetExtendedStyle](#setextendedstyle).

*Rect*<br/>
Specifica le dimensioni e la posizione del controllo elenco. Può essere un `CRect` oggetto o una struttura [RECT.](/previous-versions/dd162897\(v=vs.85\))

*pParentWnd (informazioni in due)*<br/>
Specifica la finestra padre del controllo `CDialog`elenco, in genere un oggetto . Non deve essere NULL.

*nID*<br/>
Specifica l'ID del controllo elenco.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Costruire un `CListCtrl` in due passi. Chiamare innanzitutto il costruttore e quindi chiamare `Create`, che crea `CListCtrl` il controllo visualizzazione elenco e lo associa all'oggetto .

Per applicare stili di Windows estesi all'oggetto `Create`controllo elenco, chiamare [CreateEx](#createex) anziché .

### <a name="example"></a>Esempio

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="clistctrlcreateex"></a><a name="createex"></a>CListCtrl::CreateEx

Crea un controllo (una finestra figlio) `CListCtrl` e lo associa all'oggetto.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Parametri

*DwExStyle (in stile dwExStyle)*<br/>
Specifica lo stile esteso del controllo in fase di creazione. Per un elenco di stili di Windows estesi, vedere il parametro *dwExStyle* per [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) in Windows SDK.

*DwStyle (in stile dwStyle)*<br/>
Specifica lo stile del controllo elenco. Applicare qualsiasi combinazione di stili di controllo elenco al controllo. Per un elenco completo di questi stili, vedere stili di [finestra di visualizzazione elenco](/windows/win32/Controls/list-view-window-styles) in Windows SDK.

*Rect*<br/>
Riferimento a una struttura [RECT](/previous-versions/dd162897\(v=vs.85\)) che descrive le dimensioni e la posizione della finestra da creare, nelle coordinate client di *pParentWnd*.

*pParentWnd (informazioni in due)*<br/>
Puntatore alla finestra che è padre del controllo.

*nID*<br/>
ID della finestra figlio del controllo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Utilizzare `CreateEx` invece [di Crea](#create) per applicare stili di Windows estesi, specificati dalla prefazione dello stile esteso di Windows **WS_EX_**.

`CreateEx`crea il controllo con gli stili di Windows estesi specificati da *dwExStyle*. Per impostare stili estesi specifici di un controllo, chiamare [SetExtendedStyle](#setextendedstyle). Ad esempio, `CreateEx` utilizzare per impostare stili `SetExtendedStyle` quali WS_EX_CONTEXTHELP, ma utilizzare per impostare stili come LVS_EX_FULLROWSELECT. Per ulteriori informazioni, vedere gli stili descritti nell'articolo Stili di [visualizzazione elenco estesi](/windows/win32/Controls/extended-list-view-styles) in Windows SDK.

## <a name="clistctrlcreatedragimage"></a><a name="createdragimage"></a>CListCtrl::CreateDragImage

Crea un elenco di immagini di trascinamento per l'elemento specificato da *nItem*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento di cui deve essere creato l'elenco delle immagini di trascinamento.

*lpPunto*<br/>
Indirizzo di una struttura [POINT](/previous-versions/dd162805\(v=vs.85\)) che riceve la posizione iniziale dell'angolo superiore sinistro dell'immagine, in coordinate di visualizzazione.

### <a name="return-value"></a>Valore restituito

Un puntatore all'elenco di immagini di trascinamento se ha esito positivo; in caso contrario NULL.

### <a name="remarks"></a>Osservazioni

L'oggetto `CImageList` è permanente ed è necessario eliminarlo al termine dell'operazione. Ad esempio:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="clistctrldeleteallitems"></a><a name="deleteallitems"></a>CListCtrl::DeleteAllItems

Elimina tutti gli elementi dal controllo visualizzazione elenco.

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="clistctrldeletecolumn"></a><a name="deletecolumn"></a>CListCtrl::DeleteColonna

Elimina una colonna dal controllo visualizzazione elenco.

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Parametri

*nCol*<br/>
Indice della colonna da eliminare.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="clistctrldeleteitem"></a><a name="deleteitem"></a>CListCtrl::DeleteItem

Elimina un elemento da un controllo visualizzazione elenco.

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Specifica l'indice dell'elemento da eliminare.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="clistctrldrawitem"></a><a name="drawitem"></a>CListCtrl::DrawItem

Chiamato dal framework quando un aspetto visivo di un controllo visualizzazione elenco disegnato dal proprietario viene modificato.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Parametri

*LpDrawItemStruct (informazioni in base a lpDrawItemStruct)*<br/>
Puntatore lungo `DRAWITEMSTRUCT` a una struttura che contiene informazioni sul tipo di disegno richiesto.

### <a name="remarks"></a>Osservazioni

Il `itemAction` membro della struttura [DRAWITEMSTRUCT](/windows/win32/api/winuser/ns-winuser-drawitemstruct) definisce l'azione di disegno da eseguire.

Per impostazione predefinita, questa funzione membro non esegue alcuna operazione. Eseguire l'override di questa funzione `CListCtrl` membro per implementare il disegno per un oggetto di disegno del proprietario.

L'applicazione deve ripristinare tutti gli oggetti Graphics Device Interface (GDI) selezionati per il contesto di visualizzazione fornito in *lpDrawItemStruct* prima che questa funzione membro termini.

## <a name="clistctrleditlabel"></a><a name="editlabel"></a>CListCtrl::EditLabel

Inizia la modifica sul posto del testo di un elemento.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento della visualizzazione elenco da modificare.

### <a name="return-value"></a>Valore restituito

Se ha esito `CEdit` positivo, un puntatore all'oggetto utilizzato per modificare il testo dell'elemento; in caso contrario NULL.

### <a name="remarks"></a>Osservazioni

Un controllo visualizzazione elenco con lo stile LVS_EDITLABELS finestra consente a un utente di modificare le etichette degli elementi sul posto. L'utente inizia la modifica facendo clic sull'etichetta di un elemento che ha lo stato attivo.

Utilizzare questa funzione per iniziare la modifica sul posto del testo dell'elemento della visualizzazione elenco specificato.

### <a name="example"></a>Esempio

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="clistctrlenablegroupview"></a><a name="enablegroupview"></a>CListCtrl::EnableGroupView

Abilita o disabilita se gli elementi in un controllo visualizzazione elenco vengono visualizzati come gruppo.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Parametri

*fAbilita*<br/>
Indica se abilitare un controllo visualizzazione elenco per raggruppare gli elementi visualizzati. TRUE per abilitare il raggruppamento; FALSE per disabilitarlo.

### <a name="return-value"></a>Valore restituito

Restituisce uno dei valori seguenti:

- **0** La possibilità di visualizzare gli elementi della visualizzazione elenco come gruppo è già abilitata o disabilitata.

- **1** Lo stato del controllo è stato modificato correttamente.

- **-1** L'operazione non è riuscita.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_ENABLEGROUPVIEW,](/windows/win32/Controls/lvm-enablegroupview) come descritto in Windows SDK.

## <a name="clistctrlensurevisible"></a><a name="ensurevisible"></a>CListCtrl::EnsureVisible

Garantisce che un elemento della visualizzazione elenco sia visibile almeno parzialmente.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento della visualizzazione elenco che deve essere visibile.

*bPartialOK (pulsante)*<br/>
Specifica se la visibilità parziale è accettabile.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Se necessario, viene fatto scorrere il controllo visualizzazione elenco. Se il *bPartialOK* parametro è diverso da zero, non si verifica alcuno scorrimento se l'elemento è parzialmente visibile.

### <a name="example"></a>Esempio

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="clistctrlfinditem"></a><a name="finditem"></a>CListCtrl::FindItem

Cerca un elemento della visualizzazione elenco con caratteristiche specificate.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Parametri

*pFindInfo (informazioni in stato inquestoeall*<br/>
Puntatore a una struttura [LVFINDINFO](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) contenente informazioni sull'elemento da cercare.

*nInizio*<br/>
Indice dell'elemento con cui iniziare la ricerca oppure -1 per iniziare dall'inizio. L'elemento in *nStart* viene escluso dalla ricerca se *nStart* non è uguale a -1.

### <a name="return-value"></a>Valore restituito

Indice dell'elemento in caso di esito positivo o -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

Il *pFindInfo* parametro `LVFINDINFO` punta a una struttura, che contiene informazioni utilizzate per la ricerca di un elemento della visualizzazione elenco.

### <a name="example"></a>Esempio

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="clistctrlgetbkcolor"></a><a name="getbkcolor"></a>CListCtrl::GetBkColor

Recupera il colore di sfondo di un controllo visualizzazione elenco.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Valore restituito

Valore a 32 bit utilizzato per specificare un colore RGB.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::SetBkColor](#setbkcolor).

## <a name="clistctrlgetbkimage"></a><a name="getbkimage"></a>CListCtrl::GetBkImage

Recupera l'immagine di sfondo corrente di un controllo visualizzazione elenco.

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Parametri

*plvbkImage (informazioni in base all'immagine del servizio)*<br/>
Puntatore a `LVBKIMAGE` una struttura contenente l'immagine di sfondo corrente della visualizzazione elenco.

### <a name="return-value"></a>Valore restituito

Restituisce diverso da zero se ha esito positivo o zero in caso contrario.

### <a name="remarks"></a>Osservazioni

Questo metodo implementa il comportamento della macro Win32, [ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="clistctrlgetcallbackmask"></a><a name="getcallbackmask"></a>CListCtrl::GetCallbackMask

Recupera la maschera di callback per un controllo visualizzazione elenco.

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Valore restituito

Maschera di callback del controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Un "elemento di richiamata" è un elemento della visualizzazione elenco per il quale l'applicazione, anziché il controllo, archivia il testo, l'icona o entrambi. Anche se un controllo visualizzazione elenco può archiviare questi attributi automaticamente, è possibile utilizzare gli elementi di callback se l'applicazione mantiene già alcune di queste informazioni. La maschera di callback specifica quali bit di stato dell'elemento vengono gestiti dall'applicazione e si applica all'intero controllo anziché a un elemento specifico. La maschera di callback è zero per impostazione predefinita, vale a dire che il controllo tiene traccia di tutti gli stati dell'elemento. Se un'applicazione utilizza elementi di callback o specifica una maschera di callback diversa da zero, deve essere in grado di fornire gli attributi degli elementi della visualizzazione elenco su richiesta.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::SetCallbackMask](#setcallbackmask).

## <a name="clistctrlgetcheck"></a><a name="getcheck"></a>CListCtrl::GetCheck

Recupera lo stato di visualizzazione corrente dell'immagine di stato associata a un elemento.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice in base zero di un elemento di controllo elenco.

### <a name="return-value"></a>Valore restituito

Diverso da zero se l'elemento è selezionato, in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::SetCheck](#setcheck).

## <a name="clistctrlgetcolumn"></a><a name="getcolumn"></a>CListCtrl::GetColumn

Recupera gli attributi della colonna di un controllo visualizzazione elenco.

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Parametri

*nCol*<br/>
Indice della colonna i cui attributi devono essere recuperati.

*pColonna*<br/>
Indirizzo di una struttura [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) che specifica le informazioni da recuperare e ricevere informazioni sulla colonna. Il `mask` membro specifica gli attributi di colonna da recuperare. Se `mask` il membro specifica il `pszText` valore LVCF_TEXT, il membro deve contenere l'indirizzo del buffer che riceve il testo dell'elemento e il `cchTextMax` membro deve specificare la dimensione del buffer.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

La `LVCOLUMN` struttura contiene informazioni su una colonna nella visualizzazione report.

### <a name="example"></a>Esempio

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="clistctrlgetcolumnorderarray"></a><a name="getcolumnorderarray"></a>CListCtrl::GetColumnOrderArray

Recupera l'ordine delle colonne (da sinistra a destra) di un controllo visualizzazione elenco.

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Parametri

*piArray*<br/>
Puntatore a un buffer che conterrà i valori di indice delle colonne nel controllo visualizzazione elenco. Il buffer deve essere sufficientemente grande da contenere il numero totale di colonne nel controllo visualizzazione elenco.

*iCount (informazioni in cui l'*<br/>
Numero di colonne nel controllo visualizzazione elenco. Se questo parametro è -1, il numero di colonne viene recuperato automaticamente dal framework.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="clistctrlgetcolumnwidth"></a><a name="getcolumnwidth"></a>CListCtrl::GetColumnWidth

Recupera la larghezza di una colonna nella visualizzazione report o nella visualizzazione elenco.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Parametri

*nCol*<br/>
Specifica l'indice della colonna la cui larghezza deve essere recuperata.

### <a name="return-value"></a>Valore restituito

Larghezza, in pixel, della colonna specificata da *nCol*.

### <a name="example"></a>Esempio

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="clistctrlgetcountperpage"></a><a name="getcountperpage"></a>CListCtrl::GetCountPerPage

Calcola il numero di elementi che possono essere inseriti verticalmente nell'area visibile di un controllo visualizzazione elenco nella visualizzazione elenco o nella visualizzazione report.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Valore restituito

Numero di elementi che possono essere inseriti verticalmente nell'area visibile di un controllo visualizzazione elenco nella visualizzazione elenco o nella visualizzazione report.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlgeteditcontrol"></a><a name="geteditcontrol"></a>CListCtrl::GetEditControl

Recupera l'handle del controllo di modifica utilizzato per modificare il testo di un elemento della visualizzazione elenco.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Valore restituito

Se ha esito positivo, un puntatore al [CEdit](cedit-class.md) oggetto utilizzato per modificare il testo dell'elemento; in caso contrario NULL.

### <a name="example"></a>Esempio

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="clistctrlgetemptytext"></a><a name="getemptytext"></a>CListCtrl::GetEmptyText (TestoVuoto)

Recupera la stringa da visualizzare se il controllo visualizzazione elenco corrente è vuoto.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Valore restituito

Oggetto [CString](../../atl-mfc-shared/reference/cstringt-class.md) che contiene il testo da visualizzare se il controllo è vuoto.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il messaggio [LVM_GETEMPTYTEXT,](/windows/win32/Controls/lvm-getemptytext) descritto in Windows SDK.

## <a name="clistctrlgetextendedstyle"></a><a name="getextendedstyle"></a>CListCtrl::GetExtendedStyle

Recupera gli stili estesi correnti di un controllo visualizzazione elenco.

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Valore restituito

Combinazione degli stili estesi attualmente in uso dal controllo visualizzazione elenco. Per un elenco descrittivo di questi stili estesi, vedere l'articolo Stili di [visualizzazione elenco estesi](/windows/win32/Controls/extended-list-view-styles) in Windows SDK.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::SetExtendedStyle](#setextendedstyle).

## <a name="clistctrlgetfirstselecteditemposition"></a><a name="getfirstselecteditemposition"></a>CListCtrl::GetFirstSelectedItemPosition

Ottiene la posizione del primo elemento selezionato nel controllo visualizzazione elenco.

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Valore restituito

Valore POSITION che può essere utilizzato per il recupero dell'iterazione o del puntatore a oggetti. NULL se non è selezionato alcun elemento.

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene illustrato l'utilizzo di questa funzione.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetfocusedgroup"></a><a name="getfocusedgroup"></a>CListCtrl::GetFocusedGroup

Recupera il gruppo con lo stato attivo della tastiera nel controllo visualizzazione elenco corrente.

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Valore restituito

Indice del gruppo il cui stato è LVGS_FOCUSED, se esiste un gruppo di questo tipo; in caso contrario, -1.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il [messaggio LVM_GETFOCUSEDGROUP,](/windows/win32/Controls/lvm-getfocusedgroup) descritto in Windows SDK. Per ulteriori informazioni, vedere il `state` valore LVGS_FOCUSED del membro della struttura [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup)

## <a name="clistctrlgetgroupcount"></a><a name="getgroupcount"></a>CListCtrl::GetGroupCount

Recupera il numero di gruppi nel controllo visualizzazione elenco corrente.

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Valore restituito

Numero di gruppi nel controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il [messaggio di LVM_GETGROUPCOUNT,](/windows/win32/Controls/lvm-getgroupcount) descritto in Windows SDK -->.

## <a name="clistctrlgetgroupinfo"></a><a name="getgroupinfo"></a>CListCtrl::GetGroupInfo

Ottiene le informazioni per un gruppo specificato del controllo visualizzazione elenco.

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Parametri

*IdGruppoId*<br/>
Identificatore del gruppo di cui devono essere recuperate le informazioni.

*pgrp*<br/>
Puntatore al [lVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) contenente informazioni sul gruppo specificato.

### <a name="return-value"></a>Valore restituito

Restituisce l'ID del gruppo se ha esito positivo oppure -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del [messaggio di LVM_GETGROUPINFO,](/windows/win32/Controls/lvm-getgroupinfo) come descritto in Windows SDK.

## <a name="clistctrlgetgroupinfobyindex"></a><a name="getgroupinfobyindex"></a>CListCtrl::GetGroupInfoByIndex

Recupera informazioni su un gruppo specificato nel controllo visualizzazione elenco corrente.

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*Iindex*|[in] Indice in base zero di un gruppo.|
|*pGruppo*|[fuori] Puntatore a una struttura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) che riceve informazioni sul gruppo specificato dal parametro *iIndex.*<br /><br /> Il chiamante è responsabile dell'inizializzazione dei membri della struttura [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup) Impostare `cbSize` il membro sulla dimensione della struttura `mask` e i flag del membro per specificare le informazioni da recuperare.|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il messaggio [di LVM_GETGROUPINFOBYINDEX,](/windows/win32/controls/lvm-getgroupinfobyindex) descritto in Windows SDK -->.

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene definita una variabile, `m_listCtrl`, utilizzata per accedere al controllo visualizzazione elenco corrente. Questa variabile viene usata nell'esempio riportato di seguito.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Esempio

Esempio di codice `GetGroupInfoByIndex` seguente viene illustrato il metodo . In una sezione precedente di questo esempio di codice è stato creato un controllo visualizzazione elenco che visualizza due colonne denominate "ClientID" e "Grade" in una visualizzazione di report. Nell'esempio di codice riportato di seguito vengono recuperate informazioni sul gruppo il cui indice è 0, se tale gruppo esiste.

```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="clistctrlgetgroupmetrics"></a><a name="getgroupmetrics"></a>CListCtrl::GetGroupMetrics

Recupera le metriche di un gruppo.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Parametri

*pGroupMetrics (metriche di gruppo)*<br/>
Puntatore a un [oggetto LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) contenente le informazioni sulle metriche di gruppo.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_GETGROUPMETRICS,](/windows/win32/Controls/lvm-getgroupmetrics) come descritto in Windows SDK.

## <a name="clistctrlgetgrouprect"></a><a name="getgrouprect"></a>CListCtrl::GetGroupRect

Recupera il rettangolo di delimitazione per un gruppo specificato nel controllo visualizzazione elenco corrente.

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*IdGruppoId*|[in] Specifica un gruppo.|
|*Lprect*|[in, out] Puntatore a una struttura [RECT.](/previous-versions/dd162897\(v=vs.85\)) Se questo metodo ha esito positivo, la struttura riceve le coordinate del rettangolo del gruppo specificato da *iGroupId*.|
|*iCoordi*|[in] Specifica le coordinate del rettangolo da recuperare. Utilizzare uno dei seguenti valori:<br /><br /> - LVGGR_GROUP - (Predefinito) Coordinate dell'intero gruppo espanso.<br />- LVGGR_HEADER - Coordinate solo dell'intestazione (gruppo compresso).<br />- LVGGR_SUBSETLINK - Coordinate solo del collegamento del sottoinsieme (sottoinsieme di marca).|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Il chiamante è responsabile dell'allocazione della struttura [RECT](/previous-versions/dd162897\(v=vs.85\)) a cui punta il parametro *pRect.*

Questo metodo invia il [messaggio LVM_GETGROUPRECT,](/windows/win32/Controls/lvm-getgrouprect) descritto in Windows SDK.

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene definita una variabile, `m_listCtrl`, utilizzata per accedere al controllo visualizzazione elenco corrente. Questa variabile viene usata nell'esempio riportato di seguito.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Esempio

Esempio di codice `GetGroupRect` seguente viene illustrato il metodo . In una sezione precedente di questo esempio di codice è stato creato un controllo visualizzazione elenco che visualizza due colonne denominate "ClientID" e "Grade" in una visualizzazione di report. Esempio di codice seguente disegna un rettangolo 3D intorno al gruppo il cui indice è 0, se tale gruppo esiste.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="clistctrlgetgroupstate"></a><a name="getgroupstate"></a>CListCtrl::GetGroupState

Recupera lo stato per un gruppo specificato nel controllo visualizzazione elenco corrente.

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*IdGruppoId*|[in] Indice in base zero di un gruppo.|
|*dwMaschera*|[in] Maschera che specifica il valore dello stato da recuperare per il gruppo specificato. Per ulteriori informazioni, `mask` vedere il membro della struttura [LVGROUP.](/windows/win32/api/commctrl/ns-commctrl-lvgroup)|

### <a name="return-value"></a>Valore restituito

Lo stato richiesto per il gruppo specificato oppure 0 se non è possibile trovare il gruppo.

### <a name="remarks"></a>Osservazioni

Il valore restituito è il risultato di un'operazione AND bit `state` per bit sul parametro *dwMask* e il valore del membro di una struttura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) che rappresenta il controllo visualizzazione elenco corrente.

Questo metodo invia il [messaggio LVM_GETGROUPSTATE,](/windows/win32/Controls/lvm-getgroupstate) descritto in Windows SDK. Per ulteriori informazioni, vedere la macro [ListView_GetGroupState.](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate)

## <a name="clistctrlgetheaderctrl"></a><a name="getheaderctrl"></a>CListCtrl::GetHeaderCtrl

Recupera il controllo intestazione di un controllo visualizzazione elenco.

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Valore restituito

Puntatore al controllo intestazione, utilizzato dal controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlgethotcursor"></a><a name="gethotcursor"></a>CListCtrl::GetHotCursor

Recupera il cursore utilizzato quando il rilevamento a caldo è abilitato per un controllo visualizzazione elenco.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Valore restituito

Handle per la risorsa cursore attivo corrente utilizzata dal controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor), come descritto in Windows SDK. Il cursore attivo, visibile solo quando la selezione al passaggio del mouse è abilitata, viene visualizzato quando il cursore passa su qualsiasi elemento della visualizzazione elenco. La selezione al passaggio del mouse viene abilitata impostando il LVS_EX_TRACKSELECT stile esteso.

### <a name="example"></a>Esempio

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="clistctrlgethotitem"></a><a name="gethotitem"></a>CListCtrl::GetHotItem

Recupera l'elemento della visualizzazione elenco attualmente sotto il cursore.

```
int GetHotItem();
```

### <a name="return-value"></a>Valore restituito

Indice dell'elemento caldo corrente del controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem), come descritto in Windows SDK. L'elemento caldo è definito come l'elemento attualmente selezionato quando è attivata la tracciabilità a caldo (e la selezione al passaggio del mouse).

Se il rilevamento a caldo è abilitato, quando un utente posiziona il puntatore del mouse su un elemento della visualizzazione elenco, l'etichetta dell'elemento viene evidenziata automaticamente senza l'utilizzo di un pulsante del mouse.

### <a name="example"></a>Esempio

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="clistctrlgethovertime"></a><a name="gethovertime"></a>CListCtrl::GetHoverTime

Recupera l'ora corrente al passaggio del mouse di un controllo visualizzazione elenco.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Valore restituito

Restituisce il ritardo, in millisecondi, che il cursore del mouse deve passare su un elemento prima che venga selezionato. Se il valore restituito è -1, l'ora del passaggio del mouse è l'ora di passaggio del mouse predefinita.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="clistctrlgetimagelist"></a><a name="getimagelist"></a>CListCtrl::GetImageList

Recupera l'handle di un elenco immagini utilizzato per gli elementi della visualizzazione elenco di disegno.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Parametri

*nImageList (elenco immagini)*<br/>
Valore che specifica l'elenco immagini da recuperare. Può corrispondere a uno dei seguenti valori:

- LVSIL_NORMALElenco immagini con icone grandi.

- LVSIL_SMALLelenco Immagini con icone piccole.

- LVSIL_STATEelenco Immagini con immagini di stato.

### <a name="return-value"></a>Valore restituito

Puntatore all'elenco immagini utilizzato per gli elementi della visualizzazione elenco di disegno.

### <a name="example"></a>Esempio

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="clistctrlgetinsertmark"></a><a name="getinsertmark"></a>CListCtrl::GetInsertMark

Recupera la posizione corrente del segno di inserimento.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Parametri

*plvim*<br/>
Puntatore a una struttura [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) contenente le informazioni per il contrassegno di inserimento.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE se ha esito positivo o FALSE in caso contrario. FALSE viene restituito se la `cbSize` dimensione `LVINSERTMARK` nel membro della struttura non è uguale alla dimensione effettiva della struttura.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del [messaggio di LVM_GETINSERTMARK,](/windows/win32/Controls/lvm-getinsertmark) come descritto in Windows SDK.

## <a name="clistctrlgetinsertmarkcolor"></a><a name="getinsertmarkcolor"></a>CListCtrl::GetInsertMarkColor

Recupera il colore corrente del segno di inserimento.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Valore restituito

Restituisce una struttura [COLORREF](/windows/win32/gdi/colorref) che contiene il colore del punto di inserimento.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_GETINSERTMARKCOLOR,](/windows/win32/Controls/lvm-getinsertmarkcolor) come descritto in Windows SDK.

## <a name="clistctrlgetinsertmarkrect"></a><a name="getinsertmarkrect"></a>CListCtrl::GetInsertMarkRect

Recupera il rettangolo che delimita il punto di inserimento.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Parametri

*pIl resio*<br/>
Puntatore `RECT` a una struttura che contiene le coordinate di un rettangolo che delimita il punto di inserimento.

### <a name="return-value"></a>Valore restituito

Restituisce uno dei valori seguenti:

- **0** Nessun punto di inserimento trovato.

- **1** Punto di inserimento trovato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_GETINSERTMARKRECT,](/windows/win32/Controls/lvm-getinsertmarkrect) come descritto in Windows SDK.

## <a name="clistctrlgetitem"></a><a name="getitem"></a>CListCtrl::GetItem

Recupera alcuni o tutti gli attributi di un elemento della visualizzazione elenco.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Parametri

*pItem (elemento)*<br/>
Puntatore a una struttura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) che riceve gli attributi dell'articolo.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

La `LVITEM` struttura specifica o riceve gli attributi di un elemento della visualizzazione elenco.

## <a name="clistctrlgetitemcount"></a><a name="getitemcount"></a>CListCtrl::GetItemCount

Recupera il numero di elementi in un controllo visualizzazione elenco.

```
int GetItemCount() const;
```

### <a name="return-value"></a>Valore restituito

Numero di elementi nel controllo visualizzazione elenco.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::DeleteItem](#deleteitem).

## <a name="clistctrlgetitemdata"></a><a name="getitemdata"></a>CListCtrl::GetItemData

Recupera il valore a 32 bit specifico dell'applicazione associato all'elemento specificato da `nItem`.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice della voce di elenco i cui dati devono essere recuperati.

### <a name="return-value"></a>Valore restituito

Valore specifico dell'applicazione a 32 bit associato all'elemento specificato.

### <a name="remarks"></a>Osservazioni

Questo valore `lParam` è il membro della struttura [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) come descritto in Windows SDK

### <a name="example"></a>Esempio

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="clistctrlgetitemindexrect"></a><a name="getitemindexrect"></a>CListCtrl::GetItemIndexRect

Recupera il rettangolo di delimitazione per tutto o parte di un elemento secondario nel controllo visualizzazione elenco corrente.

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*PItemIndex (indice)*|[in] Puntatore a una struttura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) per l'elemento padre dell'elemento secondario.<br /><br /> Il chiamante è responsabile dell'allocazione e dell'impostazione dei membri della struttura [LVITEMINDEX.](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) Questo parametro non può essere NULL.|
|*Icolumn*|[in] Indice in base zero di una colonna nel controllo.|
|*rectType (tipo rect)*|[in] Parte dell'elemento secondario della visualizzazione elenco per il quale viene recuperato il rettangolo di delimitazione. Specificare uno dei valori seguenti:<br /><br /> LVIR_BOUNDS- Restituisce il rettangolo di delimitazione dell'intero elemento secondario, inclusi l'icona e l'etichetta.<br /><br /> LVIR_ICON - Restituisce il rettangolo di delimitazione dell'icona o dell'icona piccola dell'elemento secondario.<br /><br /> LVIR_LABEL - Restituisce il rettangolo di delimitazione del testo dell'elemento secondario.|
|*pIl resio*|[fuori] Puntatore a una struttura [RECT](/previous-versions/dd162897\(v=vs.85\)) che riceve informazioni sul rettangolo di delimitazione dell'elemento secondario.<br /><br /> Il chiamante è responsabile dell'allocazione della struttura [RECT.](/previous-versions/dd162897\(v=vs.85\)) Questo parametro non può essere NULL.|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il [messaggio LVM_GETITEMINDEXRECT,](/windows/win32/Controls/lvm-getitemindexrect) descritto in Windows SDK. Per ulteriori informazioni, vedere [ListView_GetItemIndexRect Macro](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene definita una variabile, `m_listCtrl`, utilizzata per accedere al controllo visualizzazione elenco corrente. Questa variabile viene usata nell'esempio riportato di seguito.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Esempio

Esempio di codice `GetGroupRect` seguente viene illustrato il metodo . Prima di immettere questo esempio di codice, è stato creato un controllo visualizzazione elenco che visualizza due colonne denominate "ClientID" e "Grade" in una visualizzazione di report. Esempio di codice seguente disegna un rettangolo 3D intorno al secondo elemento secondario in entrambe le colonne.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="clistctrlgetitemposition"></a><a name="getitemposition"></a>CListCtrl::GetItemPosition

Recupera la posizione di un elemento della visualizzazione elenco.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento la cui posizione deve essere recuperata.

*lpPunto*<br/>
Indirizzo di una struttura [POINT](/previous-versions/dd162805\(v=vs.85\)) che riceve la posizione dell'angolo superiore sinistro dell'elemento, in coordinate di visualizzazione.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="clistctrlgetitemrect"></a><a name="getitemrect"></a>CListCtrl::GetItemRect

Recupera il rettangolo di delimitazione per tutto o parte di un elemento nella visualizzazione corrente.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento la cui posizione deve essere recuperata.

*Lprect*<br/>
Indirizzo di una struttura [RECT](/previous-versions/dd162897\(v=vs.85\)) che riceve il rettangolo di delimitazione.

*Ncode*<br/>
Parte dell'elemento della visualizzazione elenco per il quale recuperare il rettangolo di delimitazione. Può corrispondere a uno dei seguenti valori:

- LVIR_BOUNDS Restituisce il rettangolo di delimitazione dell'intero elemento, inclusi l'icona e l'etichetta.

- LVIR_ICON Restituisce il rettangolo di delimitazione dell'icona o dell'icona piccola.

- LVIR_LABEL Restituisce il rettangolo di delimitazione del testo dell'elemento.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="clistctrlgetitemspacing"></a><a name="getitemspacing"></a>CListCtrl::GetItemSpacing

Calcola la spaziatura tra gli elementi nel controllo visualizzazione elenco corrente.

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*fPiccoloe*|[in] Visualizzare per il quale recuperare la spaziatura degli elementi. Specificare TRUE per la visualizzazione icone piccole o FALSE per la visualizzazione icone.|
|*pnHorzSpacing (informazioni in questo g4)*|[fuori] Contiene la spaziatura orizzontale tra gli elementi.|
|*pnVertSpacing*|[fuori] Contiene la spaziatura verticale tra gli elementi.|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il messaggio [LVM_GETITEMSPACING,](/windows/win32/Controls/lvm-getitemspacing) descritto in Windows SDK.

## <a name="clistctrlgetitemstate"></a><a name="getitemstate"></a>CListCtrl::GetItemState

Recupera lo stato di un elemento della visualizzazione elenco.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento il cui stato deve essere recuperato.

*nMaschera*<br/>
Maschera che specifica quale dei flag di stato dell'elemento restituire.

### <a name="return-value"></a>Valore restituito

Flag di stato per l'elemento della visualizzazione elenco specificato.

### <a name="remarks"></a>Osservazioni

Lo stato di un elemento `state` è specificato dal membro della struttura [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) come descritto in Windows SDK. Quando si specifica o si modifica `stateMask` lo stato di un elemento, il membro specifica i bit di stato che si desidera modificare.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlgetitemtext"></a><a name="getitemtext"></a>CListCtrl::GetItemText

Recupera il testo di un elemento della visualizzazione elenco o di un elemento secondario.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento di cui deve essere recuperato il testo.

*nSubItem (oggetto NSubItem)*<br/>
Specifica l'elemento secondario di cui deve essere recuperato il testo.

*lpszText*<br/>
Puntatore a una stringa che deve ricevere il testo dell'elemento.

*nLen*<br/>
Lunghezza del buffer a cui punta *lpszText*.

### <a name="return-value"></a>Valore restituito

La versione che restituisce **int** restituisce la lunghezza della stringa recuperata.

La versione che `CString` restituisce un restituisce il testo dell'elemento.

### <a name="remarks"></a>Osservazioni

Se *nSubItem* è zero, questa funzione recupera l'etichetta dell'elemento; Se *nSubItem* è diverso da zero, recupera il testo dell'elemento secondario. Per ulteriori informazioni sull'argomento subitem, vedere la discussione della struttura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) in Windows SDK.

## <a name="clistctrlgetnextitem"></a><a name="getnextitem"></a>CListCtrl::GetNextItem

Cerca un elemento della visualizzazione elenco con le proprietà specificate e che porta la relazione specificata con un elemento specificato.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento con cui iniziare la ricerca oppure -1 per trovare il primo elemento che corrisponde ai flag specificati. L'elemento specificato viene escluso dalla ricerca.

*Nflags*<br/>
Relazione geometrica dell'elemento richiesto con l'elemento specificato e lo stato dell'elemento richiesto. La relazione geometrica può essere uno di questi valori:

- LVNI_ABOVE Cerca un elemento che si trova sopra l'elemento specificato.

- LVNI_ALL Cerca un elemento successivo per indice (valore predefinito).

- LVNI_BELOW Cerca un elemento che si trova al di sotto dell'elemento specificato.

- LVNI_TOLEFT Cerca un elemento a sinistra dell'elemento specificato.

- LVNI_TORIGHT Cerca un elemento a destra dell'elemento specificato.

Lo stato può essere zero o può essere uno o più di questi valori:The state can be zero, or it can be one or more of these values:

- LVNI_DROPHILITED l'elemento ha il flag di stato LVIS_DROPHILITED impostato.

- LVNI_FOCUSED l'elemento ha il flag di stato LVIS_FOCUSED impostato.

- LVNI_SELECTED L'elemento ha il flag di stato LVIS_SELECTED impostato.

Se per un elemento non sono impostati tutti i flag di stato specificati, la ricerca continua con l'elemento successivo.

### <a name="return-value"></a>Valore restituito

Indice dell'elemento successivo in caso di esito positivo oppure -1 in caso contrario.

## <a name="clistctrlgetnextitemindex"></a><a name="getnextitemindex"></a>CListCtrl::GetNextItemIndex

Recupera l'indice dell'elemento nel controllo visualizzazione elenco corrente con un set di proprietà specificato.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*PItemIndex (indice)*|[in, out] Puntatore alla struttura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) che descrive l'elemento in cui inizia la ricerca oppure -1 per trovare il primo elemento che corrisponde ai flag nel parametro *nFlags.*<br /><br /> Se questo metodo ha `LVITEMINDEX` esito positivo, la struttura descrive l'elemento trovato dalla ricerca.|
|*Nflags*|[in] Combinazione bit per bit (OR) di flag che specificano come eseguire la ricerca.<br /><br /> La ricerca può dipendere dall'indice, dallo stato o dall'aspetto dell'elemento di destinazione o dalla posizione fisica dell'elemento di destinazione rispetto all'elemento specificato dal parametro *pItemIndex.* Per altre informazioni, vedere il parametro *flags* nel messaggio [di LVM_GETNEXTITEMINDEX.](/windows/win32/controls/lvm-getnextitemindex)|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Il chiamante è responsabile dell'allocazione e dell'impostazione `LVITEMINDEX` dei membri della struttura a cui fa riferimento il parametro *pItemIndex.*

Questo metodo invia il messaggio [di LVM_GETNEXTITEMINDEX,](/windows/win32/controls/lvm-getnextitemindex) descritto in Windows SDK.

## <a name="clistctrlgetnextselecteditem"></a><a name="getnextselecteditem"></a>CListCtrl::GetNextSelectedItem

Ottiene l'indice dell'elemento di elenco identificato da *pos*, quindi imposta *pos* sul valore POSITION.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Parametri

*Pos*<br/>
Riferimento a un valore POSITION restituito da `GetNextSelectedItem` `GetFirstSelectedItemPosition`una precedente chiamata a o . Il valore viene aggiornato alla posizione successiva da questa chiamata.

### <a name="return-value"></a>Valore restituito

Indice della voce di elenco identificata da *pos*.

### <a name="remarks"></a>Osservazioni

È possibile `GetNextSelectedItem` utilizzare in un ciclo di iterazione in `GetFirstSelectedItemPosition`avanti se si stabilisce la posizione iniziale con una chiamata a .

È necessario assicurarsi che il valore POSITION sia valido. Se non è valido, la versione di debug della libreria Microsoft Foundation Class asserisce.

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene illustrato l'utilizzo di questa funzione.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="clistctrlgetnumberofworkareas"></a><a name="getnumberofworkareas"></a>CListCtrl::GetNumberOfWorkAreas

Recupera il numero corrente di aree di lavoro per un controllo visualizzazione elenco.

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Valore restituito

Non utilizzato in questo momento.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="clistctrlgetoutlinecolor"></a><a name="getoutlinecolor"></a>CListCtrl::GetOutlineColor

Recupera il colore del bordo di un controllo visualizzazione elenco.

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Valore restituito

Restituisce una struttura [COLORREF](/windows/win32/gdi/colorref) contenente il colore del contorno.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del [messaggio LVM_GETOUTLINECOLOR,](/windows/win32/Controls/lvm-getoutlinecolor) come descritto in Windows SDK.

## <a name="clistctrlgetorigin"></a><a name="getorigin"></a>CListCtrl::GetOrigin

Recupera l'origine della visualizzazione corrente per un controllo visualizzazione elenco.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Parametri

*lpPunto*<br/>
Indirizzo di una struttura [POINT](/previous-versions/dd162805\(v=vs.85\)) che riceve l'origine della vista.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0. Tuttavia, se il controllo è in visualizzazione report, il valore restituito è sempre zero.

## <a name="clistctrlgetselectedcolumn"></a><a name="getselectedcolumn"></a>CListCtrl::GetSelectedColumn

Recupera l'indice della colonna attualmente selezionata nel controllo elenco.

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Valore restituito

Indice della colonna selezionata.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_GETSELECTEDCOLUMN,](/windows/win32/Controls/lvm-getselectedcolumn) come descritto in Windows SDK.

## <a name="clistctrlgetselectedcount"></a><a name="getselectedcount"></a>CListCtrl::GetSelectedCount

Recupera il numero di elementi selezionati nel controllo visualizzazione elenco.

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Valore restituito

Numero di elementi selezionati nel controllo visualizzazione elenco.

### <a name="example"></a>Esempio

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="clistctrlgetselectionmark"></a><a name="getselectionmark"></a>CListCtrl::GetSelectionMark

Recupera il segno di selezione di un controllo visualizzazione elenco.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Valore restituito

Il segno di selezione in base zero oppure -1 se non è presente alcun segno di selezione.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="clistctrlgetstringwidth"></a><a name="getstringwidth"></a>CListCtrl::GetStringWidth

Determina la larghezza minima della colonna necessaria per visualizzare tutta una determinata stringa.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Parametri

*lpsz*<br/>
Indirizzo di una stringa con terminazione null la cui larghezza deve essere determinata.

### <a name="return-value"></a>Valore restituito

Larghezza, in pixel, della stringa a cui punta *lpsz*.

### <a name="remarks"></a>Osservazioni

La larghezza restituita tiene conto del tipo di carattere corrente del controllo e dei margini della colonna, ma non della larghezza di un'icona piccola.

### <a name="example"></a>Esempio

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="clistctrlgetsubitemrect"></a><a name="getsubitemrect"></a>CListCtrl::GetSubItemRect

Recupera il rettangolo di delimitazione di un elemento in un controllo visualizzazione elenco.

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Parametri

*iItem*<br/>
Indice dell'elemento padre dell'elemento secondario.

*ISubItem (informazioni in base alla voce in stato*<br/>
Indice in base uno dell'elemento secondario.

*nArea*<br/>
Determina la parte del rettangolo di delimitazione (dell'elemento secondario della visualizzazione elenco) da recuperare. La parte (icona, etichetta o entrambi) del rettangolo di delimitazione viene specificata applicando l'operatore OR bit per bit a uno o più dei valori seguenti:

- LVIR_BOUNDS Restituisce il rettangolo di delimitazione dell'intero elemento, inclusi l'icona e l'etichetta.

- LVIR_ICON Restituisce il rettangolo di delimitazione dell'icona o dell'icona piccola.

- LVIR_LABEL Restituisce il rettangolo di delimitazione dell'intero elemento, inclusi l'icona e l'etichetta. Questo è identico al LVIR_BOUNDS.

*ref*<br/>
Riferimento a un [cRect](../../atl-mfc-shared/reference/crect-class.md) oggetto che contiene le coordinate del rettangolo di delimitazione dell'elemento secondario.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect), come descritto in Windows SDK.

## <a name="clistctrlgettextbkcolor"></a><a name="gettextbkcolor"></a>CListCtrl::GetTextBkColor

Recupera il colore di sfondo del testo di un controllo visualizzazione elenco.

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Valore restituito

Valore a 32 bit utilizzato per specificare un colore RGB.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::SetTextBkColor](#settextbkcolor).

## <a name="clistctrlgettextcolor"></a><a name="gettextcolor"></a>CListCtrl::GetTextColor

Recupera il colore del testo di un controllo visualizzazione elenco.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Valore restituito

Valore a 32 bit utilizzato per specificare un colore RGB.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::SetTextColor](#settextcolor).

## <a name="clistctrlgettileinfo"></a><a name="gettileinfo"></a>CListCtrl::GetTileInfo

Recupera informazioni su un riquadro in un controllo visualizzazione elenco.

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Parametri

*plvti*<br/>
Puntatore a una struttura [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) che riceve le informazioni sul riquadro.

### <a name="return-value"></a>Valore restituito

Il valore restituito non viene utilizzato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_GETTILEINFO,](/windows/win32/Controls/lvm-gettileinfo) come descritto in Windows SDK.

## <a name="clistctrlgettileviewinfo"></a><a name="gettileviewinfo"></a>CListCtrl::GetTileViewInfo

Recupera informazioni su un controllo visualizzazione elenco nella visualizzazione affiancata.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Parametri

*ptvi*<br/>
Puntatore a una struttura [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) che riceve le informazioni recuperate.

### <a name="return-value"></a>Valore restituito

Il valore restituito non viene utilizzato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_GETTILEVIEWINFO,](/windows/win32/Controls/lvm-gettileviewinfo) come descritto in Windows SDK.

## <a name="clistctrlgettooltips"></a><a name="gettooltips"></a>CListCtrl::GetToolTips

Recupera il controllo descrizione comandi utilizzato dal controllo visualizzazione elenco per visualizzare le descrizioni comandi.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Valore restituito

Puntatore a un [CToolTipCtrl](ctooltipctrl-class.md) oggetto che deve essere utilizzato dal controllo elenco. Se il [Create](#create) funzione membro utilizza lo stile LVS_NOTOOLTIPS, non vengono utilizzate descrizioni comandi e VIENE restituito NULL.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento del messaggio Win32 [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips), come descritto in Windows SDK. L'implementazione `GetToolTips` MFC `CToolTipCtrl` di restituisce un oggetto, che viene utilizzato dal controllo elenco, anziché un handle a un controllo descrizione comandi.

### <a name="example"></a>Esempio

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="clistctrlgettopindex"></a><a name="gettopindex"></a>CListCtrl::GetTopIndex

Recupera l'indice dell'elemento visibile più in alto nella visualizzazione elenco o nella visualizzazione report.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Valore restituito

Indice dell'elemento visibile più in alto.

### <a name="example"></a>Esempio

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="clistctrlgetview"></a><a name="getview"></a>CListCtrl::GetView

Ottiene la visualizzazione del controllo visualizzazione elenco.

```
DWORD GetView() const;
```

### <a name="return-value"></a>Valore restituito

Visualizzazione corrente del controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_GETVIEW,](/windows/win32/Controls/lvm-getview) come descritto in Windows SDK.

## <a name="clistctrlgetviewrect"></a><a name="getviewrect"></a>CListCtrl::GetViewRect

Recupera il rettangolo di delimitazione di tutti gli elementi nel controllo visualizzazione elenco.

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Parametri

*Lprect*<br/>
Indirizzo di una struttura [RECT.](/previous-versions/dd162897\(v=vs.85\))

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

La visualizzazione elenco deve essere in visualizzazione icone o in visualizzazione piccola icona.

## <a name="clistctrlgetworkareas"></a><a name="getworkareas"></a>CListCtrl::GetWorkAreas

Recupera le aree di lavoro correnti di un controllo visualizzazione elenco.

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Parametri

*nArea di lavoro*<br/>
Numero di `RECT` strutture contenute nella matrice *pRect.*

*pIl resio*<br/>
Puntatore a una `RECT` matrice di strutture (o [CRect](../../atl-mfc-shared/reference/crect-class.md) oggetti) che ricevono le aree di lavoro del controllo visualizzazione elenco. I valori in queste strutture sono in coordinate client.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetNumberOfWorkAreas](#getnumberofworkareas).

## <a name="clistctrlhasgroup"></a><a name="hasgroup"></a>CListCtrl::HasGroup

Determina se il controllo visualizzazione elenco ha il gruppo specificato.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Parametri

*IdGruppoId*<br/>
Identificatore del gruppo richiesto.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE in caso di esito positivo, FALSE in caso di errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_HASGROUP,](/windows/win32/Controls/lvm-hasgroup) come descritto in Windows SDK.

## <a name="clistctrlhittest"></a><a name="hittest"></a>CListCtrl::HitTest

Determina quale elemento della visualizzazione elenco, se presente, si trova in una posizione specificata.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Parametri

*pHitTestInfo (informazioni in stato in stato in stato in stato*<br/>
Indirizzo di `LVHITTESTINFO` una struttura che contiene la posizione dell'hit test e che riceve informazioni sui risultati dell'hit test.

*pt*<br/>
Punto da sottoporre a test.

*pFlags (Flag)*<br/>
Puntatore a un numero intero che riceve informazioni sui risultati del test. Vedere la spiegazione del `flags` membro della struttura [LVHITTESTINFO](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) in Windows SDK.

### <a name="return-value"></a>Valore restituito

Indice dell'elemento nella posizione specificata da *pHitTestInfo*, se presente o -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

È possibile utilizzare i LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT e `flag` LVHT_TORIGHT valori del membro della struttura per determinare se scorrere il contenuto di un controllo visualizzazione elenco. Due di questi flag possono essere combinati, ad esempio, se la posizione è sopra e a sinistra dell'area client.

È possibile verificare il LVHT_ONITEM valore `flag` del membro della struttura per determinare se una determinata posizione si trova su un elemento della visualizzazione elenco. Questo valore è un'operazione OR bit per bit nei valori LVHT_ONITEMICON, LVHT_ONITEMLABEL e LVHT_ONITEMSTATEICON del membro della `flag` struttura.

### <a name="example"></a>Esempio

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="clistctrlinsertcolumn"></a><a name="insertcolumn"></a>CListCtrl::InsertColumn

Inserisce una nuova colonna in un controllo visualizzazione elenco.

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Parametri

*nCol*<br/>
Indice della nuova colonna.

*pColonna*<br/>
Indirizzo di `LVCOLUMN` una struttura che contiene gli attributi della nuova colonna.

*lpszColumnHeading*<br/>
Indirizzo di una stringa contenente l'intestazione della colonna.

*nFormato*<br/>
Numero intero che specifica l'allineamento della colonna. Può essere uno dei seguenti valori: LVCFMT_LEFT, LVCFMT_RIGHT o LVCFMT_CENTER.

*nLarghezza*<br/>
Larghezza della colonna, in pixel. Se questo parametro è -1, la larghezza della colonna non è impostata.

*nSubItem (oggetto NSubItem)*<br/>
Indice dell'elemento secondario associato alla colonna. Se questo parametro è -1, nessun elemento secondario è associato alla colonna.

### <a name="return-value"></a>Valore restituito

Indice della nuova colonna in caso di esito positivo o -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

La colonna più a sinistra in un controllo visualizzazione elenco deve essere allineata a sinistra.

La struttura [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) contiene gli attributi di una colonna nella visualizzazione report. Viene inoltre utilizzato per ricevere informazioni su una colonna. Questa struttura è descritta in Windows SDK.

## <a name="clistctrlinsertgroup"></a><a name="insertgroup"></a>CListCtrl::InsertGroup (Gruppo DiC::InsertGroup)

Inserisce un gruppo nel controllo visualizzazione elenco.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parametri

*Indice*<br/>
Indice dell'elemento in cui deve essere inserito il gruppo.

*pgrp*<br/>
Puntatore a una struttura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) contenente il gruppo da aggiungere.

### <a name="return-value"></a>Valore restituito

Restituisce l'indice dell'elemento a cui è stato aggiunto il gruppo oppure -1 se l'operazione non è riuscita.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_INSERTGROUP,](/windows/win32/Controls/lvm-insertgroup) come descritto in Windows SDK.

## <a name="clistctrlinsertgroupsorted"></a><a name="insertgroupsorted"></a>CListCtrl::InsertGroupSorted

Inserisce il gruppo specificato in un elenco ordinato di gruppi.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Parametri

*pStructInsert*<br/>
Puntatore a una struttura [LVINSERTGROUPSORTED](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) che contiene il gruppo da inserire.

### <a name="return-value"></a>Valore restituito

Il valore restituito non viene utilizzato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_INSERTGROUPSORTED,](/windows/win32/Controls/lvm-insertgroupsorted) come descritto in Windows SDK.

## <a name="clistctrlinsertitem"></a><a name="insertitem"></a>CListCtrl::InsertItem

Inserisce un elemento nel controllo visualizzazione elenco.

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Parametri

*pItem (elemento)*<br/>
Puntatore a una struttura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) che specifica gli attributi dell'elemento, come descritto in Windows SDK.

*nVoce*<br/>
Indice dell'elemento da inserire.

*lpszItem (elemento di gruppo)*<br/>
Indirizzo di una stringa contenente l'etichetta dell'elemento o LPSTR_TEXTCALLBACK se l'elemento è un elemento di callback. Per informazioni sugli elementi di callback, vedere [CListCtrl::GetCallbackMask](#getcallbackmask).

*nImmagine*<br/>
Indice dell'immagine dell'elemento o I_IMAGECALLBACK se l'elemento è un elemento di callback. Per informazioni sugli elementi di callback, vedere [CListCtrl::GetCallbackMask](#getcallbackmask).

*nMaschera*<br/>
Il parametro *nMask* consente di specificare quali attributi dell'elemento passati come parametri sono validi. Può essere uno o più dei valori di maschera descritti nella [struttura LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) in Windows SDK. I valori validi possono essere combinati con l'operatore OR bit per bit.

*nStato*<br/>
Indica lo stato dell'elemento, l'immagine di stato e l'immagine sovrapposta. Per ulteriori informazioni, vedere gli argomenti di Windows SDK [Struttura LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) e [Stati degli](/windows/win32/Controls/list-view-item-states) elementi di visualizzazione elenco per un elenco di flag validi.

*nStateMaschera*<br/>
Indica quali bit del membro dello stato verranno recuperati o modificati. Per ulteriori informazioni, vedere [Struttura LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) in Windows SDK.

*lParam*<br/>
Valore specifico dell'applicazione a 32 bit associato all'elemento. Se questo parametro viene specificato, è necessario impostare l'attributo *nMask* LVIF_PARAM.

### <a name="return-value"></a>Valore restituito

Indice del nuovo elemento in caso di esito positivo o -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

La chiamata a questo metodo può causare l'invio del messaggio di LVM_INSERTITEM alla finestra di controllo. Il gestore di messaggi associato per il controllo potrebbe non riuscire a impostare il testo dell'elemento in determinate condizioni (ad esempio utilizzando gli stili di finestra, ad esempio LVS_OWNERDRAW). Per ulteriori informazioni su queste condizioni, vedere [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) in Windows SDK.

### <a name="example"></a>Esempio

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="clistctrlinsertmarkhittest"></a><a name="insertmarkhittest"></a>CListCtrl::InsertMarkHitTest

Recupera il punto di inserimento più vicino a un punto specificato.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Parametri

*pPoint (in questo momento)*<br/>
Puntatore a una struttura [POINT](/previous-versions/dd162805\(v=vs.85\)) che contiene le coordinate dell'hit test, relative all'area client del controllo elenco.

*plvim*<br/>
Puntatore a una struttura [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) che specifica il punto di inserimento più vicino alle coordinate definite dal parametro point.

### <a name="return-value"></a>Valore restituito

Punto di inserimento più vicino al punto specificato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_INSERTMARKHITTEST,](/windows/win32/Controls/lvm-insertmarkhittest) come descritto in Windows SDK.

## <a name="clistctrlisgroupviewenabled"></a><a name="isgroupviewenabled"></a>CListCtrl::IsGroupViewEnabled

Determina se la visualizzazione di gruppo è abilitata per un controllo visualizzazione elenco.

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Valore restituito

Restituisce TRUE se la visualizzazione di gruppo è abilitata o FALSE in caso contrario.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_ISGROUPVIEWENABLED,](/windows/win32/Controls/lvm-isgroupviewenabled) come descritto in Windows SDK.

## <a name="clistctrlisitemvisible"></a><a name="isitemvisible"></a>CListCtrl::IsItemVisible

Indica se un elemento specificato nel controllo visualizzazione elenco corrente è visibile.

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*Indice*|[in] Indice in base zero di un elemento nel controllo visualizzazione elenco corrente.|

### <a name="return-value"></a>Valore restituito

TRUESe l'elemento specificato è visibile. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il messaggio [LVM_ISITEMVISIBLE,](/windows/win32/Controls/lvm-isitemvisible) descritto in Windows SDK.

## <a name="clistctrlmapidtoindex"></a><a name="mapidtoindex"></a>CListCtrl::MapIDToIndex

Esegue il mapping dell'ID univoco di un elemento nel controllo visualizzazione elenco corrente a un indice.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*id*|[in] ID univoco di un elemento.|

### <a name="return-value"></a>Valore restituito

Indice corrente per l'ID specificato.

### <a name="remarks"></a>Osservazioni

Un controllo visualizzazione elenco tiene traccia internamente degli elementi in base all'indice. Ciò può presentare problemi perché gli indici possono cambiare durante il ciclo di vita del controllo. Il controllo visualizzazione elenco può contrassegnare un elemento con un ID quando viene creato l'elemento ed è possibile utilizzare questo ID per garantire l'univocità durante la durata del controllo visualizzazione elenco.

Si noti che in un ambiente multithreading l'indice è garantito solo nel thread che ospita il controllo visualizzazione elenco, non nei thread in background.

Questo metodo invia il [messaggio LVM_MAPIDTOINDEX,](/windows/win32/controls/lvm-mapidtoindex) descritto in Windows SDK.

## <a name="clistctrlmapindextoid"></a><a name="mapindextoid"></a>CListCtrl::MapIndexToID

Esegue il mapping dell'indice di un elemento nel controllo visualizzazione elenco corrente a un ID univoco.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*Indice*|[in] Indice in base zero di un elemento.|

### <a name="return-value"></a>Valore restituito

UN ID univoco per l'elemento specificato.

### <a name="remarks"></a>Osservazioni

Un controllo visualizzazione elenco tiene traccia internamente degli elementi in base all'indice. Ciò può presentare problemi perché gli indici possono cambiare durante il ciclo di vita del controllo. Il controllo visualizzazione elenco può contrassegnare un elemento con un ID quando viene creato l'elemento. È possibile utilizzare questo ID per accedere a un elemento specifico per la durata del controllo visualizzazione elenco.

Si noti che in un ambiente multithreading l'indice è garantito solo nel thread che ospita il controllo visualizzazione elenco, non nei thread in background.

Questo metodo invia il [messaggio di LVM_MAPINDEXTOID,](/windows/win32/Controls/lvm-mapindextoid) descritto in Windows SDK.

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene definita una variabile, `m_listCtrl`, utilizzata per accedere al controllo visualizzazione elenco corrente. Questa variabile viene usata nell'esempio riportato di seguito.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Esempio

Esempio di codice `MapIndexToID` seguente viene illustrato il metodo . In una sezione precedente di questo esempio di codice è stato creato un controllo visualizzazione elenco che visualizza due colonne denominate "ClientID" e "Grade" in una visualizzazione di report. Nell'esempio seguente viene eseguito il mapping dell'indice di ogni elemento della visualizzazione elenco a un numero di identificazione, quindi viene recuperato l'indice per ogni numero di identificazione. Infine, l'esempio indica se gli indici originali sono stati recuperati.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="clistctrlmovegroup"></a><a name="movegroup"></a>CListCtrl::MoveGroup

Sposta il gruppo specificato all'indice in base zero specificato del controllo visualizzazione elenco.

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Parametri

*IdGruppoId*<br/>
Identificatore del gruppo da spostare.

*Toindex*<br/>
Indice in base zero in cui deve essere spostato il gruppo.

### <a name="return-value"></a>Valore restituito

Il valore restituito non viene utilizzato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_MOVEGROUP,](/windows/win32/Controls/lvm-movegroup) come descritto in Windows SDK.

## <a name="clistctrlmoveitemtogroup"></a><a name="moveitemtogroup"></a>CListCtrl::MoveItemToGroup

Sposta l'elemento specificato nel gruppo specificato.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Parametri

*idItemFrom (informazioni in cui è stato es*<br/>
[in] Indice dell'elemento da spostare.

*idGruppoTo*<br/>
[in] Identificatore del gruppo in cui verrà spostato l'elemento.

### <a name="remarks"></a>Osservazioni

> [!NOTE]
> Questo metodo attualmente non è implementato.

Questo metodo emula la funzionalità del messaggio [di LVM_MOVEITEMTOGROUP,](/windows/win32/Controls/lvm-moveitemtogroup) come descritto in Windows SDK.

## <a name="clistctrlredrawitems"></a><a name="redrawitems"></a>CListCtrl::RidisegnoElementi

Impone a un controllo visualizzazione elenco di ridisegnare un intervallo di elementi.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Parametri

*nPrima volta*<br/>
Indice del primo elemento da ridipingere.

*nUltimo*<br/>
Indice dell'ultimo elemento da ridipingere.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Gli elementi specificati non vengono effettivamente ridisegnati fino a quando la finestra di visualizzazione elenco riceve un messaggio di WM_PAINT. Per ridisegnare immediatamente, chiamare la funzione Windows [UpdateWindow](/windows/win32/api/winuser/nf-winuser-updatewindow) dopo aver utilizzato questa funzione.

## <a name="clistctrlremoveallgroups"></a><a name="removeallgroups"></a>CListCtrl::RemoveAllGroups

Rimuove tutti i gruppi da un controllo visualizzazione elenco.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_REMOVEALLGROUPS,](/windows/win32/Controls/lvm-removeallgroups) come descritto in Windows SDK.

## <a name="clistctrlremovegroup"></a><a name="removegroup"></a>CListCtrl::RemoveGroup

Rimuove il gruppo specificato dal controllo visualizzazione elenco.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Parametri

*IdGruppoId*<br/>
Identificatore del gruppo da rimuovere.

### <a name="return-value"></a>Valore restituito

Restituisce l'indice del gruppo se ha esito positivo o -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_REMOVEGROUP,](/windows/win32/Controls/lvm-removegroup) come descritto in Windows SDK.

## <a name="clistctrlscroll"></a><a name="scroll"></a>CListCtrl::Scorrimento

Scorre il contenuto di un controllo visualizzazione elenco.

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Parametri

*Dimensione*<br/>
Oggetto `CSize` che specifica la quantità di scorrimento orizzontale e verticale, in pixel. Il `y` membro della *dimensione* viene diviso per l'altezza, in pixel, della riga del controllo visualizzazione elenco e il controllo viene fatto scorrere per il numero di righe risultante.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

## <a name="clistctrlsetbkcolor"></a><a name="setbkcolor"></a>CListCtrl::SetBkColor

Imposta il colore di sfondo del controllo visualizzazione elenco.

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parametri

*Cr*<br/>
Colore di sfondo da impostare o il valore CLR_NONE per nessun colore di sfondo. I controlli visualizzazione elenco con colori di sfondo si ridisegnano in modo significativamente più veloce rispetto a quelli senza colori di sfondo. Per informazioni, vedere [COLORREF](/windows/win32/gdi/colorref) in Windows SDK.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="clistctrlsetbkimage"></a><a name="setbkimage"></a>CListCtrl::SetBkImage

Imposta l'immagine di sfondo di un controllo visualizzazione elenco.

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Parametri

*plvbkImage (informazioni in base all'immagine del servizio)*<br/>
Indirizzo di `LVBKIMAGE` una struttura contenente le nuove informazioni sull'immagine di sfondo.

*Hbitmap*<br/>
Gestire una bitmap.

*pszUrl (informazioni in base a un url)*<br/>
Stringa con terminazione NULL contenente l'URL dell'immagine di sfondo.

*fTile*<br/>
Diverso da zero se l'immagine deve essere affiancata nello sfondo del controllo visualizzazione elenco; in caso contrario 0.

*xOffsetPercent*<br/>
Offset, in pixel, del bordo sinistro dell'immagine dall'origine del controllo visualizzazione elenco.

*yOffsetPercent*<br/>
Offset, in pixel, del bordo superiore dell'immagine dall'origine del controllo visualizzazione elenco.

### <a name="return-value"></a>Valore restituito

Restituisce diverso da zero se ha esito positivo o zero in caso contrario.

### <a name="remarks"></a>Osservazioni

> [!NOTE]
> Poiché `CListCtrl::SetBkImage` utilizza la funzionalità OLE COM, le librerie `SetBkImage`OLE devono essere inizializzate prima di utilizzare . È consigliabile inizializzare le librerie COM quando l'applicazione viene inizializzata e annullare l'inizializzazione delle librerie al termine dell'applicazione. Questa operazione viene eseguita automaticamente nelle applicazioni MFC che utilizzano la tecnologia ActiveX, l'automazione OLE, il collegamento/incorporamento OLE o le operazioni ODBC/DAO.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetBkImage](#getbkimage).

## <a name="clistctrlsetcallbackmask"></a><a name="setcallbackmask"></a>CListCtrl::SetCallbackMask

Imposta la maschera di callback per un controllo visualizzazione elenco.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Parametri

*nMaschera*<br/>
Nuovo valore della maschera di callback.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="clistctrlsetcheck"></a><a name="setcheck"></a>CListCtrl::SetCheck

Determina se l'immagine di stato di un elemento del controllo elenco è visibile.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice in base zero di un elemento di controllo elenco.

*fControllare*<br/>
Specifica se l'immagine di stato dell'elemento deve essere visibile o meno. Per impostazione predefinita, *fCheck* è TRUE e l'immagine di stato è visibile. Se *fCheck* è FALSE, non è visibile.

### <a name="return-value"></a>Valore restituito

Diverso da zero se l'elemento è selezionato, in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="clistctrlsetcolumn"></a><a name="setcolumn"></a>CListCtrl::SetColumn

Imposta gli attributi di una colonna della vista elenco.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Parametri

*nCol*<br/>
Indice della colonna i cui attributi devono essere impostati.

*pColonna*<br/>
Indirizzo di una struttura [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) che contiene i nuovi attributi di colonna, come descritto in Windows SDK. Il membro `mask` della struttura specifica gli attributi di colonna da impostare. Se `mask` il membro specifica il valore di `pszText` LVCF_TEXT, il membro della struttura è l'indirizzo di una stringa con terminazione null e il membro della `cchTextMax` struttura viene ignorato.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetColumn](#getcolumn).

## <a name="clistctrlsetcolumnorderarray"></a><a name="setcolumnorderarray"></a>CListCtrl::SetColumnOrderArray

Imposta l'ordine delle colonne (da sinistra a destra) di un controllo visualizzazione elenco.

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Parametri

*piArray*<br/>
Puntatore a un buffer contenente i valori di indice delle colonne nel controllo visualizzazione elenco (da sinistra a destra). Il buffer deve essere sufficientemente grande da contenere il numero totale di colonne nel controllo visualizzazione elenco.

*iCount (informazioni in cui l'*<br/>
Numero di colonne nel controllo visualizzazione elenco.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetColumnOrderArray](#getcolumnorderarray).

## <a name="clistctrlsetcolumnwidth"></a><a name="setcolumnwidth"></a>CListCtrl::SetColumnWidth

Modifica la larghezza di una colonna in visualizzazione report o in visualizzazione elenco.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Parametri

*nCol*<br/>
Indice della colonna per la quale deve essere impostata la larghezza. Nella visualizzazione elenco, questo parametro deve essere 0.

*Cx*<br/>
Nuova larghezza della colonna. Può essere LVSCW_AUTOSIZE o LVSCW_AUTOSIZE_USEHEADER, come descritto in [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) in Windows SDK.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

## <a name="clistctrlsetextendedstyle"></a><a name="setextendedstyle"></a>CListCtrl::SetExtendedStyle (combinazione di tasti CListCtrl::SetExtendedStyle)

Imposta gli stili estesi correnti di un controllo visualizzazione elenco.

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Parametri

*dwNewStyle (informazioni in base allo stile)*<br/>
Combinazione di stili estesi che devono essere utilizzati dal controllo visualizzazione elenco. Per un elenco descrittivo di questi stili, vedere l'argomento Stili di [visualizzazione elenco estesi](/windows/win32/Controls/extended-list-view-styles) in Windows SDK.

### <a name="return-value"></a>Valore restituito

Combinazione degli stili estesi precedenti utilizzati dal controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="clistctrlsetgroupinfo"></a><a name="setgroupinfo"></a>CListCtrl::SetGroupInfo

Imposta le informazioni che descrivono il gruppo specificato del controllo visualizzazione elenco corrente.

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Parametri

*IdGruppoId*<br/>
Identificatore del gruppo di cui sono impostate le informazioni.

*pgrp*<br/>
Puntatore a una struttura [LVGROUP](/windows/win32/api/commctrl/ns-commctrl-lvgroup) che contiene le informazioni da impostare. Il chiamante è responsabile dell'allocazione di questa struttura e dell'impostazione dei relativi membri.

### <a name="return-value"></a>Valore restituito

ID del gruppo se il metodo ha esito positivo; in caso contrario, -1.

### <a name="remarks"></a>Osservazioni

Questo metodo invia il [messaggio LVM_SETGROUPINFO,](/windows/win32/Controls/lvm-setgroupinfo) descritto in Windows SDK.

## <a name="clistctrlsetgroupmetrics"></a><a name="setgroupmetrics"></a>CListCtrl::SetGroupMetrics

Imposta le metriche di gruppo di un controllo visualizzazione elenco.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Parametri

*pGroupMetrics (metriche di gruppo)*<br/>
Puntatore a una struttura [LVGROUPMETRICS](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) contenente le informazioni sulle metriche di gruppo da impostare.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_SETGROUPMETRICS,](/windows/win32/Controls/lvm-setgroupmetrics) come descritto in Windows SDK.

## <a name="clistctrlsethotcursor"></a><a name="sethotcursor"></a>CListCtrl::SetHotCursor

Imposta il cursore utilizzato quando il rilevamento a caldo è abilitato per un controllo visualizzazione elenco.

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Parametri

*Hc*<br/>
Handle per una risorsa cursore, utilizzato per rappresentare il cursore attivo.

### <a name="return-value"></a>Valore restituito

Handle per la risorsa cursore attivo precedente utilizzata dal controllo visualizzazione elenco.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor), come descritto in Windows SDK.

Il cursore attivo, visibile solo quando la selezione al passaggio del mouse è abilitata, viene visualizzato quando il cursore passa su qualsiasi elemento della visualizzazione elenco. La selezione al passaggio del mouse viene abilitata impostando il LVS_EX_TRACKSELECT stile esteso.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetHotCursor](#gethotcursor).

## <a name="clistctrlsethotitem"></a><a name="sethotitem"></a>CListCtrl::SetHotItem

Imposta l'elemento caldo corrente di un controllo visualizzazione elenco.

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Parametri

*Iindex*<br/>
Indice in base zero dell'elemento da impostare come elemento a caldo.

### <a name="return-value"></a>Valore restituito

Indice in base zero dell'elemento precedentemente a caldo.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetHotItem](#gethotitem).

## <a name="clistctrlsethovertime"></a><a name="sethovertime"></a>CListCtrl::SetHoverTime

Imposta l'ora corrente al passaggio del mouse di un controllo visualizzazione elenco.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Parametri

*dwHoverTime (ora in stato di stato instato)*<br/>
Nuovo ritardo, in millisecondi, che il cursore del mouse deve passare su un elemento prima che venga selezionato. Se viene passato il valore predefinito, l'ora viene impostata sul valore predefinito del passaggio del mouse.

### <a name="return-value"></a>Valore restituito

Tempo di passaggio del mouse precedente, in millisecondi.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetHoverTime](#gethovertime).

## <a name="clistctrlseticonspacing"></a><a name="seticonspacing"></a>CListCtrl::SetIconSpacing

Imposta la spaziatura tra le icone in un controllo visualizzazione elenco.

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Parametri

*Cx*<br/>
La distanza (in pixel) tra le icone sull'asse x.

*Cy*<br/>
La distanza (in pixel) tra le icone sull'asse y.

*Dimensione*<br/>
Oggetto `CSize` che specifica la distanza (in pixel) tra le icone sugli assi x e y.

### <a name="return-value"></a>Valore restituito

Oggetto [CSize](../../atl-mfc-shared/reference/csize-class.md) contenente i valori precedenti per la spaziatura delle icone.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="clistctrlsetimagelist"></a><a name="setimagelist"></a>CListCtrl::SetImageList

Assegna un elenco immagini a un controllo visualizzazione elenco.

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Parametri

*pImageList (elenco immagine)*<br/>
Puntatore all'elenco immagini da assegnare.

*nImageListType*<br/>
Tipo di elenco immagini. Può corrispondere a uno dei seguenti valori:

- LVSIL_NORMALElenco immagini con icone grandi.

- LVSIL_SMALLelenco Immagini con icone piccole.

- LVSIL_STATEelenco Immagini con immagini di stato.

### <a name="return-value"></a>Valore restituito

Puntatore all'elenco immagini precedente.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetImageList](#getimagelist).

## <a name="clistctrlsetinfotip"></a><a name="setinfotip"></a>CListCtrl::SetInfoTip

Imposta il testo della descrizione comando.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Parametri

*suggerimento per plvInfo*<br/>
Puntatore a una struttura [LVFSETINFOTIP](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) contenente le informazioni da impostare.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE in caso di esito positivo, FALSE in caso di errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_SETINFOTIP,](/windows/win32/Controls/lvm-setinfotip) come descritto in Windows SDK.

## <a name="clistctrlsetinsertmark"></a><a name="setinsertmark"></a>CListCtrl::SetInsertMark

Imposta il punto di inserimento sulla posizione definita.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Parametri

*plvim*<br/>
Puntatore a una struttura [LVINSERTMARK](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) che specifica dove impostare il punto di inserimento.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE se ha esito positivo o FALSE in caso contrario. FALSE viene restituito se la `cbSize` dimensione `LVINSERTMARK` nel membro della struttura non è uguale alla dimensione effettiva della struttura o quando un punto di inserimento non è applicabile nella visualizzazione corrente.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_SETINSERTMARK,](/windows/win32/Controls/lvm-setinsertmark) come descritto in Windows SDK.

## <a name="clistctrlsetinsertmarkcolor"></a><a name="setinsertmarkcolor"></a>CListCtrl::SetInsertMarkColor

Imposta il colore del punto di inserimento.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Parametri

*Colore*<br/>
Struttura [COLORREF](/windows/win32/gdi/colorref) che specifica il colore per impostare il punto di inserimento.

### <a name="return-value"></a>Valore restituito

Restituisce `COLORREF` una struttura contenente il colore precedente.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_SETINSERTMARKCOLOR,](/windows/win32/Controls/lvm-setinsertmarkcolor) come descritto in Windows SDK.

## <a name="clistctrlsetitem"></a><a name="setitem"></a>CListCtrl::SetItem

Imposta alcuni o tutti gli attributi di un elemento della visualizzazione elenco.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Parametri

*pItem (elemento)*<br/>
Indirizzo di una struttura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) che contiene gli attributi del nuovo elemento, come descritto in Windows SDK. La struttura `iItem` e `iSubItem` i membri identificano l'elemento o `mask` l'elemento secondario e il membro della struttura specifica quali attributi impostare. Per ulteriori informazioni `mask` sul membro, vedere le **osservazioni**.

*nVoce*<br/>
Indice dell'elemento i cui attributi devono essere impostati.

*nSubItem (oggetto NSubItem)*<br/>
Indice dell'elemento secondario i cui attributi devono essere impostati.

*nMaschera*<br/>
Specifica quali attributi devono essere impostati (vedere le osservazioni).

*lpszItem (elemento di gruppo)*<br/>
Indirizzo di una stringa con terminazione null che specifica l'etichetta dell'elemento.

*nImmagine*<br/>
Indice dell'immagine dell'elemento all'interno dell'elenco immagini.

*nStato*<br/>
Specifica i valori per gli stati da modificare (vedere le osservazioni).

*nStateMaschera*<br/>
Specifica quali stati devono essere modificati (vedere le osservazioni).

*lParam*<br/>
Valore specifico dell'applicazione a 32 bit da associare all'elemento.

*nIndent*<br/>
Larghezza, in pixel, del rientro. Se *nIndent* è minore della larghezza minima definita dal sistema, la nuova larghezza viene impostata sul valore minimo definito dal sistema

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

I `iItem` `iSubItem` membri e `LVITEM` della struttura e i parametri *nItem* e *nSubItem* identificano l'elemento e l'elemento secondario i cui attributi devono essere impostati.

Il `mask` membro `LVITEM` della struttura e il parametro *nMask* specificano quali attributi dell'elemento devono essere impostati:

- LVIF_TEXT `pszText` il membro o il *lpszItem* parametro è l'indirizzo di una stringa con terminazione null; il `cchTextMax` membro viene ignorato.

- LVIF_STATE `stateMask` il parametro member o *nStateMask* specifica `state` quali stati dell'elemento modificare e il parametro member o *nState* contiene i valori per tali stati.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::HitTest](#hittest).

## <a name="clistctrlsetitemcount"></a><a name="setitemcount"></a>CListCtrl::SetItemCount

Prepara un controllo visualizzazione elenco per l'aggiunta di un numero elevato di elementi.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Parametri

*nElementi*<br/>
Numero di elementi che il controllo conterrà in ultima analisi.

### <a name="remarks"></a>Osservazioni

Per impostare il numero di elementi per un controllo visualizzazione elenco virtuale, vedere [CListCtrl::SetItemCountEx](#setitemcountex).

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemcountex"></a><a name="setitemcountex"></a>CListCtrl::SetItemCountEx

Imposta il numero di elementi per un controllo di visualizzazione elenco virtuale.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Parametri

*iCount (informazioni in cui l'*<br/>
Numero di elementi che il controllo conterrà in ultima analisi.

*dwFlags*<br/>
Specifica il comportamento del controllo visualizzazione elenco dopo la reimpostazione del numero di elementi. Questo valore può essere una combinazione dei seguenti elementi:

- LVSICF_NOINVALIDATEALL Il controllo visualizzazione elenco non verrà ridisegnato a meno che gli elementi interessati non siano attualmente visualizzati. Si tratta del valore predefinito.

- LVSICF_NOSCROLL Il controllo visualizzazione elenco non modifica la posizione di scorrimento quando il numero di elementi cambia.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex), come descritto in Windows SDK e deve essere chiamato solo per le visualizzazioni elenco virtuale.

### <a name="example"></a>Esempio

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="clistctrlsetitemdata"></a><a name="setitemdata"></a>CListCtrl::SetItemData

Imposta il valore a 32 bit specifico dell'applicazione associato all'elemento specificato da *nItem*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice della voce di elenco i cui dati devono essere impostati.

*dwData (dati)*<br/>
Valore a 32 bit da associare all'elemento.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questo valore `lParam` è il membro della struttura [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="clistctrlsetitemindexstate"></a><a name="setitemindexstate"></a>CListCtrl::SetItemIndexState

Imposta lo stato di un elemento nel controllo visualizzazione elenco corrente.

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*PItemIndex (indice)*|[in] Puntatore a una struttura [LVITEMINDEX](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) che descrive un elemento. Il chiamante è responsabile dell'allocazione di questa struttura e dell'impostazione dei relativi membri.|
|*dwState (dwState)*|[in] Stato per impostare l'elemento, ovvero una combinazione bit per bit di stati degli elementi della [visualizzazione elenco.](/windows/win32/Controls/list-view-item-states) Specificare zero per reimpostare uno stato o uno per impostarlo.|
|*dwMaschera*|[in] Maschera dei bit validi dello stato specificato dal parametro *dwState.* Specificare una combinazione bit per bit (OR) degli stati degli elementi della [visualizzazione elenco.](/windows/win32/Controls/list-view-item-states)|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Per ulteriori informazioni sul parametro *dwState,* vedere [Stati degli elementi della visualizzazione elenco](/windows/win32/Controls/list-view-item-states).

Per ulteriori informazioni sul parametro *dwMask,* vedere il membro *stateMask* della struttura [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

Questo metodo invia il [messaggio LVM_SETITEMINDEXSTATE,](/windows/win32/Controls/lvm-setitemindexstate) descritto in Windows SDK.

## <a name="clistctrlsetitemposition"></a><a name="setitemposition"></a>CListCtrl::SetItemPosition

Sposta un elemento in una posizione specificata in un controllo visualizzazione elenco.

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento la cui posizione deve essere impostata.

*pt*<br/>
Struttura [POINT](/previous-versions/dd162805\(v=vs.85\)) che specifica la nuova posizione, in coordinate di visualizzazione, dell'angolo superiore sinistro dell'elemento.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Il controllo deve essere in visualizzazione a icone o in una piccola icona.

Se il controllo visualizzazione elenco ha lo stile LVS_AUTOARRANGE, la visualizzazione elenco viene disposta dopo l'impostazione della posizione dell'elemento.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetItemPosition](#getitemposition).

## <a name="clistctrlsetitemstate"></a><a name="setitemstate"></a>CListCtrl::SetItemState

Modifica lo stato di un elemento in un controllo visualizzazione elenco.

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento il cui stato deve essere impostato.

*pItem (elemento)*<br/>
Indirizzo di una struttura [LVITEM,](/windows/win32/api/commctrl/ns-commctrl-lvitemw) come descritto in Windows SDK. Il membro `stateMask` della struttura specifica quali bit di stato modificare `state` e il membro della struttura contiene i nuovi valori per tali bit. Gli altri membri vengono ignorati.

*nStato*<br/>
Nuovi valori per i bit di stato. Per un elenco dei valori possibili, vedere [CListCtrl::GetNextItem](#getnextitem) e il membro dello stato [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

*nMaschera*<br/>
Maschera che specifica i bit di stato da modificare. Questo valore corrisponde al membro stateMask della struttura [LVITEM.](/windows/win32/api/commctrl/ns-commctrl-lvitemw)

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Lo "stato" di un elemento è un valore che specifica la disponibilità dell'elemento, indica le azioni dell'utente o riflette in altro modo lo stato dell'elemento. Un controllo visualizzazione elenco modifica alcuni bit di stato, ad esempio quando l'utente seleziona un elemento. Un'applicazione potrebbe modificare altri bit di stato per disabilitare o nascondere l'elemento o per specificare un'immagine sovrapposta o un'immagine di stato.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetTopIndex](#gettopindex).

## <a name="clistctrlsetitemtext"></a><a name="setitemtext"></a>CListCtrl::SetItemText

Modifica il testo di un elemento della visualizzazione elenco o di un elemento secondario.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento il cui testo deve essere impostato.

*nSubItem (oggetto NSubItem)*<br/>
Indice dell'elemento secondario o zero per impostare l'etichetta dell'elemento.

*lpszText*<br/>
Puntatore a una stringa che contiene il nuovo testo dell'elemento.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questo metodo non è destinato all'utilizzo con controlli contenenti lo stile della finestra LVS_OWNERDATA (in effetti, questo causerà un'asserzione nelle build di debug). Per ulteriori informazioni su questo stile di controllo elenco, vedere [Cenni preliminari sui controlli List-View](/windows/win32/Controls/list-view-controls-overview).

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::InsertItem](#insertitem).

## <a name="clistctrlsetoutlinecolor"></a><a name="setoutlinecolor"></a>CListCtrl::SetOutlineColor

Imposta il colore del bordo di un controllo visualizzazione elenco se è impostato lo stile della finestra [LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles) esteso.

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Parametri

*Colore*<br/>
La nuova struttura [COLORREF](/windows/win32/gdi/colorref) contenente il colore del contorno.

### <a name="return-value"></a>Valore restituito

La `COLORREF` struttura precedente contenente il colore del contorno

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_SETOUTLINECOLOR,](/windows/win32/Controls/lvm-setoutlinecolor) come descritto in Windows SDK.

## <a name="clistctrlsetselectedcolumn"></a><a name="setselectedcolumn"></a>CListCtrl::SetSelectedColumn (Colonna di CListCtrl::SetSelectedColumn)

Imposta la colonna selezionata del controllo visualizzazione elenco.

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Parametri

*iCol*<br/>
Indice della colonna da selezionare.

### <a name="return-value"></a>Valore restituito

Il valore restituito non viene utilizzato.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_SETSELECTEDCOLUMN,](/windows/win32/Controls/lvm-setselectedcolumn) come descritto in Windows SDK.

## <a name="clistctrlsetselectionmark"></a><a name="setselectionmark"></a>CListCtrl::SetSelectionMark

Imposta il segno di selezione di un controllo visualizzazione elenco.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Parametri

*Iindex*<br/>
Indice in base zero del primo elemento in una selezione multipla.

### <a name="return-value"></a>Valore restituito

Il segno di selezione precedente oppure -1 se non è presente alcun segno di selezione.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark), come descritto in Windows SDK.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetSelectionMark](#getselectionmark).

## <a name="clistctrlsettextbkcolor"></a><a name="settextbkcolor"></a>CListCtrl::SetTextBkColor

Imposta il colore di sfondo del testo in un controllo visualizzazione elenco.

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Parametri

*Cr*<br/>
Oggetto COLORREF che specifica il nuovo colore di sfondo del testo. Per informazioni, vedere [COLORREF](/windows/win32/gdi/colorref) in Windows SDK.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="clistctrlsettextcolor"></a><a name="settextcolor"></a>CListCtrl::SetTextColor

Imposta il colore del testo di un controllo visualizzazione elenco.

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Parametri

*Cr*<br/>
Oggetto COLORREF che specifica il nuovo colore del testo. Per informazioni, vedere [COLORREF](/windows/win32/gdi/colorref) in Windows SDK.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="example"></a>Esempio

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="clistctrlsettileinfo"></a><a name="settileinfo"></a>CListCtrl::SetTileInfo

Imposta le informazioni per un riquadro del controllo visualizzazione elenco.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Parametri

*pTileInfo (informazioni in stato inquestoeutente*<br/>
Puntatore a una struttura [LVTILEINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) contenente le informazioni da impostare.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE in caso di esito positivo, FALSE in caso di errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_SETTILEINFO,](/windows/win32/Controls/lvm-settileinfo) come descritto in Windows SDK.

## <a name="clistctrlsettileviewinfo"></a><a name="settileviewinfo"></a>CListCtrl::SetTileViewInfo

Imposta le informazioni utilizzate da un controllo visualizzazione elenco nella visualizzazione affiancata.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Parametri

*ptvi*<br/>
Puntatore a una struttura [LVTILEVIEWINFO](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) contenente le informazioni da impostare.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE in caso di esito positivo, FALSE in caso di errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_SETTILEVIEWINFO,](/windows/win32/Controls/lvm-settileviewinfo) come descritto in Windows SDK.

## <a name="clistctrlsettooltips"></a><a name="settooltips"></a>CListCtrl::SetToolTips

Imposta il controllo descrizione comando che verrà utilizzato dal controllo visualizzazione elenco per visualizzare le descrizioni comandi.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Parametri

*pWndTip (suggerimento)*<br/>
Puntatore a `CToolTipCtrl` un oggetto che verrà utilizzato dal controllo elenco.

### <a name="return-value"></a>Valore restituito

Puntatore a un [CToolTipCtrl](ctooltipctrl-class.md) oggetto contenente la descrizione comandi utilizzata in precedenza dal controllo o NULL se non sono state utilizzate descrizioni comandi in precedenza.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento del messaggio Win32 [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips), come descritto in Windows SDK.

Per non utilizzare le descrizioni comandi, `CListCtrl` indicare lo stile LVS_NOTOOLTIPS quando si crea l'oggetto.

## <a name="clistctrlsetview"></a><a name="setview"></a>CListCtrl::SetView

Imposta la visualizzazione del controllo visualizzazione elenco.

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Parametri

*Iview*<br/>
Visualizzazione da selezionare.

### <a name="return-value"></a>Valore restituito

Restituisce 1 se ha esito positivo o -1 in caso contrario. Ad esempio, viene restituito -1 se la visualizzazione non è valida.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [LVM_SETVIEW,](/windows/win32/Controls/lvm-setview) come descritto in Windows SDK.

## <a name="clistctrlsetworkareas"></a><a name="setworkareas"></a>CListCtrl::SetWorkAreas

Imposta l'area in cui è possibile visualizzare le icone in un controllo visualizzazione elenco.

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Parametri

*nArea di lavoro*<br/>
Numero di `RECT` strutture (o oggetti [CRect)](../../atl-mfc-shared/reference/crect-class.md) nella matrice a cui punta *lpRect*.

*Lprect*<br/>
Indirizzo di una `RECT` matrice di `CRect` strutture (o oggetti) che specificano le nuove aree di lavoro del controllo visualizzazione elenco. Queste aree devono essere specificate nelle coordinate client. Se questo parametro è NULL, l'area di lavoro verrà impostata sull'area client del controllo.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="clistctrlsortgroups"></a><a name="sortgroups"></a>CListCtrl::SortGroups

Utilizza una funzione di confronto definita dall'applicazione per ordinare i gruppi in base all'ID all'interno di un controllo visualizzazione elenco.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Parametri

*_pfnGroupCompare*<br/>
Puntatore alla funzione di confronto di gruppo.

*_plv*<br/>
Un puntatore void.

### <a name="return-value"></a>Valore restituito

Restituisce TRUE in caso di esito positivo, FALSE in caso di errore.

### <a name="remarks"></a>Osservazioni

Questa funzione membro emula la funzionalità del messaggio [di LVM_SORTGROUPS,](/windows/win32/Controls/lvm-sortgroups) come descritto in Windows SDK.

## <a name="clistctrlsortitems"></a><a name="sortitems"></a>CListCtrl::SortItems

Ordina gli elementi della visualizzazione elenco utilizzando una funzione di confronto definita dall'applicazione.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parametri

*pfnConfronta*<br/>
[in] Indirizzo della funzione di confronto definita dall'applicazione.

L'operazione di ordinamento chiama la funzione di confronto ogni volta che è necessario determinare l'ordine relativo di due voci di elenco. La funzione di confronto deve essere un membro statico di una classe o una funzione autonoma che non è un membro di alcuna classe.

*dwData (dati)*<br/>
[in] Valore definito dall'applicazione passato alla funzione di confronto.

### <a name="return-value"></a>Valore restituito

TRUESe il metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Questo metodo modifica l'indice di ogni elemento per riflettere la nuova sequenza.

La funzione di confronto *pfnCompare*è il seguente formato:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

La funzione di confronto deve restituire un valore negativo se il primo elemento deve precedere il secondo, un valore positivo se il primo elemento deve seguire il secondo o zero se i due elementi sono uguali.

Il *lParam1* parametro è il valore a 32 bit associato al primo elemento che viene confrontato e il *lParam2* parametro è il valore associato al secondo elemento. Questi sono i valori specificati nel membro *lParam* della struttura [LVITEM](/windows/win32/api/commctrl/ns-commctrl-lvitemw) degli elementi quando sono stati inseriti nell'elenco. Il *lParamSort* parametro è uguale al *dwData* valore.

Questo metodo invia il [messaggio di LVM_SORTITEMS,](/windows/win32/Controls/lvm-sortitems) descritto in Windows SDK.

### <a name="example"></a>Esempio

Di seguito è riportata una semplice funzione di confronto che determina l'ordinamento degli elementi in base ai relativi valori *lParam.*

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="clistctrlsortitemsex"></a><a name="sortitemsex"></a>CListCtrl::SortItemsEx

Ordina gli elementi del controllo visualizzazione elenco corrente utilizzando una funzione di confronto definita dall'applicazione.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Parametri

|Parametro|Descrizione|
|---------------|-----------------|
|*pfnConfronta*|[in] Indirizzo della funzione di confronto definita dall'applicazione.<br /><br /> L'operazione di ordinamento chiama la funzione di confronto ogni volta che è necessario determinare l'ordine relativo di due voci di elenco. La funzione di confronto deve essere un membro statico di una classe o una funzione autonoma che non è un membro di alcuna classe.|
|*dwData (dati)*|[in] Valore definito dall'applicazione passato alla funzione di confronto.|

### <a name="return-value"></a>Valore restituito

TRUESe questo metodo ha esito positivo. in caso contrario, FALSE.

### <a name="remarks"></a>Osservazioni

Questo metodo modifica l'indice di ogni elemento per riflettere la nuova sequenza.

La funzione di confronto *pfnCompare*è il seguente formato:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Questo messaggio è simile [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), ad eccezione del tipo di informazioni passate alla funzione di confronto. In [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), *lParam1* e *lParam2* sono i valori degli elementi da confrontare. In [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex), *lParam1* è l'indice corrente del primo elemento da confrontare e *lParam2* è l'indice corrente del secondo elemento. È possibile inviare un [messaggio di LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) per recuperare ulteriori informazioni su un elemento.

La funzione di confronto deve restituire un valore negativo se il primo elemento deve precedere il secondo, un valore positivo se il primo elemento deve seguire il secondo o zero se i due elementi sono uguali.

> [!NOTE]
> Durante il processo di ordinamento, il contenuto della visualizzazione elenco è instabile. Se la funzione di callback invia messaggi al controllo visualizzazione elenco diversi [da LVM_GETITEM](/windows/win32/Controls/lvm-getitem), i risultati sono imprevedibili.

Questo metodo invia il [messaggio LVM_SORTITEMSEX,](/windows/win32/Controls/lvm-sortitemsex) descritto in Windows SDK.

### <a name="example"></a>Esempio

Nell'esempio di codice riportato di seguito viene definita una variabile, `m_listCtrl`, utilizzata per accedere al controllo visualizzazione elenco corrente. Questa variabile viene usata nell'esempio riportato di seguito.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Esempio

Esempio di codice `SortItemEx` seguente viene illustrato il metodo . In una sezione precedente di questo esempio di codice è stato creato un controllo visualizzazione elenco che visualizza due colonne denominate "ClientID" e "Grade" in una visualizzazione di report. Nell'esempio di codice riportato di seguito viene illustrato come ordinare la tabella utilizzando i valori della colonna "Grade".

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="clistctrlsubitemhittest"></a><a name="subitemhittest"></a>CListCtrl::SubItemHitTest

Determina quale elemento della visualizzazione elenco, se presente, si trova in una determinata posizione.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Parametri

*pInfo (informazioni in stato inquesto*<br/>
Puntatore alla struttura [LVHITTESTINFO.](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo)

### <a name="return-value"></a>Valore restituito

Indice in base uno dell'elemento, o elemento secondario, sottoposto a test (se presente) o -1 in caso contrario.

### <a name="remarks"></a>Osservazioni

Questa funzione membro implementa il comportamento della macro Win32, [ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest), come descritto in Windows SDK.

### <a name="example"></a>Esempio

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="clistctrlupdate"></a><a name="update"></a>CListCtrl::Aggiornare

Impone al controllo visualizzazione elenco di ridisegnare l'elemento specificato da *nItem*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Parametri

*nVoce*<br/>
Indice dell'elemento da aggiornare.

### <a name="return-value"></a>Valore restituito

Diverso da zero se ha esito positivo; in caso contrario 0.

### <a name="remarks"></a>Osservazioni

Questa funzione dispone anche il controllo visualizzazione elenco se ha lo stile LVS_AUTOARRANGE.

### <a name="example"></a>Esempio

Vedere l'esempio per [CListCtrl::GetSelectedCount](#getselectedcount).

## <a name="see-also"></a>Vedere anche

[Esempio MFC ROWLIST](../../overview/visual-cpp-samples.md)<br/>
[Classe CWnd](cwnd-class.md)<br/>
[Grafico delle gerarchie](../hierarchy-chart.md)<br/>
[Classe CImageList](cimagelist-class.md)
